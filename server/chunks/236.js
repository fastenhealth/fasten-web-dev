"use strict";exports.id=236,exports.ids=[236,936],exports.modules={1936:(e,t,i)=>{i.d(t,{getVimeoVideoInfo:()=>n,resolveVimeoVideoId:()=>o});let s=/(?:https:\/\/)?(?:player\.)?vimeo(?:\.com)?\/(?:video\/)?(\d+)(?:(?:\?hash=|\?h=|\/)(.*))?/,r=new Map,a=new Map;function o(e){let t=e.match(s);return{videoId:t?.[1],hash:t?.[2]}}async function n(e,t,i){if(r.has(e))return r.get(e);if(a.has(e))return a.get(e);let s=`https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${e}`;i&&(s=s.concat(`?h=${i}`));let o=window.fetch(s,{mode:"cors",signal:t.signal}).then(e=>e.json()).then(t=>{let i=t?.thumbnail_url?.match(/vimeocdn.com\/video\/(.*)?_/)?.[1],s=i?`https://i.vimeocdn.com/video/${i}_1920x1080.webp`:"",a={title:t?.title??"",duration:t?.duration??0,poster:s,pro:"basic"!==t.account_type};return r.set(e,a),a}).finally(()=>a.delete(e));return a.set(e,o),o}},7236:(e,t,i)=>{i.r(t),i.d(t,{VimeoProvider:()=>h});var s=i(5247),r=i(1813),a=i(8752),o=i(1936);i(3210);let n=["bufferend","bufferstart","durationchange","ended","enterpictureinpicture","error","fullscreenchange","leavepictureinpicture","loaded","playProgress","loadProgress","pause","play","playbackratechange","qualitychange","seeked","seeking","timeupdate","volumechange","waiting"];class h extends a.h{#e;#t;#i;#s;#r;#a;#o;#n;#h;#c;#l;#d;constructor(e,t){super(e),this.$$PROVIDER_TYPE="VIMEO",this.scope=(0,s.createScope)(),this.#t=(0,s.signal)(""),this.#i=(0,s.signal)(!1),this.#s=null,this.#r=null,this.#a=!1,this.#o=new r.zJ(0,0),this.#n=new r.e8(this.#u.bind(this)),this.#h=null,this.#c=null,this.#l=new Map,this.#d=null,this.cookies=!1,this.title=!0,this.byline=!0,this.portrait=!0,this.color="00ADEF",this.#p=!1,this.#e=t;let i=this;this.fullscreen={get active(){return i.#a},supported:!0,enter:()=>this.#f("requestFullscreen"),exit:()=>this.#f("exitFullscreen")}}get type(){return"vimeo"}get currentSrc(){return this.#r}get videoId(){return this.#t()}get hash(){return this.#s}get isPro(){return this.#i()}preconnect(){(0,r.TB)(this.getOrigin())}setup(){super.setup(),(0,s.effect)(this.#g.bind(this)),(0,s.effect)(this.#m.bind(this)),(0,s.effect)(this.#y.bind(this)),this.#e.notify("provider-setup",this)}destroy(){for(let e of(this.#v(),this.fullscreen=void 0,this.#l.values()))for(let{reject:t}of e)t("provider destroyed");this.#l.clear(),this.#f("destroy")}async play(){return this.#f("play")}async pause(){return this.#f("pause")}setMuted(e){this.#f("setMuted",e)}setCurrentTime(e){this.#f("seekTo",e),this.#e.notify("seeking",e)}setVolume(e){this.#f("setVolume",e),this.#f("setMuted",(0,s.peek)(this.#e.$state.muted))}setPlaybackRate(e){this.#f("setPlaybackRate",e)}async loadSource(e){if(!(0,s.isString)(e.src)){this.#r=null,this.#s=null,this.#t.set("");return}let{videoId:t,hash:i}=(0,o.resolveVimeoVideoId)(e.src);this.#t.set(t??""),this.#s=i??null,this.#r=e}#g(){this.#v();let e=this.#t();if(!e)return void this.src.set("");this.src.set(`${this.getOrigin()}/video/${e}`),this.#e.notify("load-start")}#m(){let e=this.#t();if(!e)return;let t=(0,s.deferredPromise)(),i=new AbortController;return this.#d=t,(0,o.getVimeoVideoInfo)(e,i,this.#s).then(e=>{t.resolve(e)}).catch(e=>{t.reject()}),()=>{t.reject(),i.abort()}}#y(){let e=this.#i(),{$state:t,qualities:i}=this.#e;if(t.canSetPlaybackRate.set(e),i[r.jH.setReadonly](!e),e)return(0,s.listenEvent)(i,"change",()=>{if(i.auto)return;let e=i.selected?.id;e&&this.#f("setQuality",e)})}getOrigin(){return"https://player.vimeo.com"}buildParams(){let{keyDisabled:e}=this.#e.$props,{playsInline:t,nativeControls:i}=this.#e.$state,s=i();return{title:this.title,byline:this.byline,color:this.color,portrait:this.portrait,controls:s,h:this.hash,keyboard:s&&!e(),transparent:!0,playsinline:t(),dnt:!this.cookies}}#u(){this.#f("getCurrentTime")}#p;#b(e,t){if(this.#p&&0===e)return;let{realCurrentTime:i,paused:s,bufferedEnd:r,seekableEnd:a,live:o}=this.#e.$state;if(i()===e)return;let n=i();this.#e.notify("time-change",e,t),Math.abs(n-e)>1.5&&(this.#e.notify("seeking",e,t),!s()&&r()<e&&this.#e.notify("waiting",void 0,t)),!o()&&a()-e<.01&&(this.#e.notify("end",void 0,t),this.#p=!0,setTimeout(()=>{this.#p=!1},500))}#k(e,t){this.#e.notify("seeked",e,t)}#x(e){let t=this.#t();this.#d?.promise.then(t=>{if(!t)return;let{title:i,poster:s,duration:r,pro:a}=t;this.#i.set(a),this.#e.notify("title-change",i,e),this.#e.notify("poster-change",s,e),this.#e.notify("duration-change",r,e),this.#w(r,e)}).catch(()=>{t===this.#t()&&(this.#f("getVideoTitle"),this.#f("getDuration"))})}#w(e,t){let{nativeControls:i}=this.#e.$state,s=i();this.#o=new r.zJ(0,e);let a={buffered:new r.zJ(0,0),seekable:this.#o,duration:e};this.#e.delegate.ready(a,t),s||this.#f("_hideOverlay"),this.#f("getQualities"),this.#f("getChapters")}#P(e,t,i){switch(e){case"getVideoTitle":this.#e.notify("title-change",t,i);break;case"getDuration":this.#e.$state.canPlay()?this.#e.notify("duration-change",t,i):this.#w(t,i);break;case"getCurrentTime":this.#b(t,i);break;case"getBuffered":(0,s.isArray)(t)&&t.length&&this.#T(t[t.length-1][1],i);break;case"setMuted":this.#I((0,s.peek)(this.#e.$state.volume),t,i);break;case"getChapters":this.#C(t);break;case"getQualities":this.#R(t,i)}this.#V(e)?.resolve()}#A(){for(let e of n)this.#f("addEventListener",e)}#M(e){this.#n.stop(),this.#e.notify("pause",void 0,e)}#S(e){this.#n.start(),this.#e.notify("play",void 0,e)}#$(e){let{paused:t}=this.#e.$state;t()||this.#p||this.#e.notify("playing",void 0,e)}#T(e,t){let i={buffered:new r.zJ(0,e),seekable:this.#o};this.#e.notify("progress",i,t)}#E(e){this.#e.notify("waiting",void 0,e)}#F(e){let{paused:t}=this.#e.$state;t()||this.#e.notify("playing",void 0,e)}#L(e){let{paused:t}=this.#e.$state;t()&&this.#e.notify("play",void 0,e),this.#e.notify("waiting",void 0,e)}#I(e,t,i){this.#e.notify("volume-change",{volume:e,muted:t},i)}#C(e){if(this.#j(),!e.length)return;let t=new r.to({kind:"chapters",default:!0}),{seekableEnd:i}=this.#e.$state;for(let s=0;s<e.length;s++){let r=e[s],a=e[s+1];t.addCue(new window.VTTCue(r.startTime,a?.startTime??i(),r.title))}this.#c=t,this.#e.textTracks.add(t)}#j(){this.#c&&(this.#e.textTracks.remove(this.#c),this.#c=null)}#R(e,t){for(let i of(this.#e.qualities[r.kW.enableAuto]=e.some(e=>"auto"===e.id)?()=>this.#f("setQuality","auto"):void 0,e)){if("auto"===i.id)continue;let e=+i.id.slice(0,-1);isNaN(e)||this.#e.qualities[r.jH.add]({id:i.id,width:16/9*e,height:e,codec:"avc1,h.264",bitrate:-1},t)}this.#q(e.find(e=>e.active),t)}#q({id:e}={},t){if(!e)return;let i="auto"===e,s=this.#e.qualities.getById(e);i?(this.#e.qualities[r.kW.setAuto](i,t),this.#e.qualities[r.jH.select](void 0,!0,t)):this.#e.qualities[r.jH.select](s??void 0,!0,t)}#O(e,t,i){switch(e){case"ready":this.#A();break;case"loaded":this.#x(i);break;case"play":this.#S(i);break;case"playProgress":this.#$(i);break;case"pause":this.#M(i);break;case"loadProgress":this.#T(t.seconds,i);break;case"waiting":this.#L(i);break;case"bufferstart":this.#E(i);break;case"bufferend":this.#F(i);break;case"volumechange":this.#I(t.volume,(0,s.peek)(this.#e.$state.muted),i);break;case"durationchange":this.#o=new r.zJ(0,t.duration),this.#e.notify("duration-change",t.duration,i);break;case"playbackratechange":this.#e.notify("rate-change",t.playbackRate,i);break;case"qualitychange":this.#q(t,i);break;case"fullscreenchange":this.#a=t.fullscreen,this.#e.notify("fullscreen-change",t.fullscreen,i);break;case"enterpictureinpicture":this.#e.notify("picture-in-picture-change",!0,i);break;case"leavepictureinpicture":this.#e.notify("picture-in-picture-change",!1,i);break;case"ended":this.#e.notify("end",void 0,i);break;case"error":this.#Q(t,i);break;case"seek":case"seeked":this.#k(t.seconds,i)}}#Q(e,t){let{message:i,method:s}=e;"setPlaybackRate"===s&&this.#i.set(!1),s&&this.#V(s)?.reject(i)}onMessage(e,t){e.event?this.#O(e.event,e.data,t):e.method&&this.#P(e.method,e.value,t)}onLoad(){}async #f(e,t){let i=(0,s.deferredPromise)(),r=this.#l.get(e);return r||this.#l.set(e,r=[]),r.push(i),this.postMessage({method:e,value:t}),i.promise}#v(){this.#n.stop(),this.#o=new r.zJ(0,0),this.#d=null,this.#h=null,this.#i.set(!1),this.#j()}#V(e){return this.#l.get(e)?.shift()}}},8752:(e,t,i)=>{i.d(t,{h:()=>a});var s=i(1813),r=i(5247);class a{#B;get iframe(){return this.#B}constructor(e){this.src=(0,r.signal)(""),this.referrerPolicy=null,this.#B=e,e.setAttribute("frameBorder","0"),e.setAttribute("aria-hidden","true"),e.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),null!==this.referrerPolicy&&e.setAttribute("referrerpolicy",this.referrerPolicy)}setup(){(0,r.listenEvent)(window,"message",this.#J.bind(this)),(0,r.listenEvent)(this.#B,"load",this.onLoad.bind(this)),(0,r.effect)(this.#U.bind(this))}#U(){let e=this.src();if(!e.length)return void this.#B.setAttribute("src","");let t=(0,r.peek)(()=>this.buildParams());this.#B.setAttribute("src",(0,s.xF)(e,t))}postMessage(e,t){s.X3||this.#B.contentWindow?.postMessage(JSON.stringify(e),t??"*")}#J(e){let t=this.getOrigin();if((null===e.source||e.source===this.#B?.contentWindow)&&(!(0,r.isString)(t)||t===e.origin)){try{let t=JSON.parse(e.data);t&&this.onMessage(t,e);return}catch(e){}e.data&&this.onMessage(e.data,e)}}}}};