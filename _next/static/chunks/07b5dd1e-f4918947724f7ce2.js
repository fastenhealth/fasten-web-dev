"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{1386:(t,e,i)=>{let s,n,a,l;i.d(e,{$c:()=>tj,BS:()=>aA,BU:()=>Wb,CN:()=>Ww,Dq:()=>WL,Dz:()=>WS,G_:()=>S,HL:()=>m1,Hp:()=>tl,Ip:()=>W$,Lu:()=>WA,N5:()=>WM,NQ:()=>Wf,Nw:()=>la,OM:()=>WP,OR:()=>Wn,P4:()=>Wv,PZ:()=>Wk,Q2:()=>tG,SY:()=>Wu,Sp:()=>WV,TB:()=>Y,Th:()=>Wi,Ty:()=>Wp,VP:()=>WT,V_:()=>Wo,W_:()=>Wh,X3:()=>m,Zg:()=>Wy,a3:()=>Wa,as:()=>Wg,e8:()=>s6,f:()=>Wl,hW:()=>Ws,jH:()=>t8,jc:()=>W_,jx:()=>z,k0:()=>Z,kW:()=>io,kZ:()=>tq,kk:()=>Wd,m0:()=>E,mf:()=>WW,nV:()=>WG,pz:()=>b,rW:()=>b9,ri:()=>Wr,rv:()=>l5,sG:()=>WO,tH:()=>Wm,tN:()=>Wx,to:()=>tW,wg:()=>Wc,xF:()=>X,zJ:()=>D,zn:()=>aj});var h,r,o=i(4971),u=i(4096),c=i(6266),d=i(6973),_=i(3169),p=i(3893),f=i(2115),v=i(8979),w=i(2475);function g(t){return!(0,v.isString)(t)&&"width"in t&&"height"in t&&(0,v.isNumber)(t.width)&&(0,v.isNumber)(t.height)}let m="undefined"==typeof document,k=m?"":(null==(h=navigator)?void 0:h.userAgent.toLowerCase())||"",b=!m&&/iphone|ipad|ipod|ios|crios|fxios/i.test(k),y=!m&&/(iphone|ipod)/gi.test((null==(r=navigator)?void 0:r.platform)||""),S=!m&&!!window.chrome,W=!m&&(!!window.safari||b);function $(){return!m&&!(0,v.isUndefined)(window.screen.orientation)&&!(0,v.isUndefined)(window.screen.orientation.lock)&&(0,v.isFunction)(screen.orientation.unlock)}function M(t,e){return!m&&(t||(t=document.createElement("audio")),t.canPlayType(e).length>0)}function x(t,e){return!m&&(t||(t=document.createElement("video")),t.canPlayType(e).length>0)}function T(t){return!m&&(t||(t=document.createElement("video")),t.canPlayType("application/vnd.apple.mpegurl").length>0)}function P(t){return!m&&!!document.pictureInPictureEnabled&&!(null==t?void 0:t.disablePictureInPicture)}function A(t){return!m&&(0,v.isFunction)(null==t?void 0:t.webkitSupportsPresentationMode)&&(0,v.isFunction)(null==t?void 0:t.webkitSetPresentationMode)}async function C(){let t=document.createElement("video");return t.volume=.5,await (0,v.waitTimeout)(0),.5===t.volume}function E(){var t,e,i,s,n,a,l,h;if(m)return!1;let r=m?void 0:null!=(n=null!=(s=null==(t=window)?void 0:t.ManagedMediaSource)?s:null==(e=window)?void 0:e.MediaSource)?n:null==(i=window)?void 0:i.WebKitMediaSource;if((0,v.isUndefined)(r))return!1;let o=r&&(0,v.isFunction)(r.isTypeSupported)&&r.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),u=m?void 0:null!=(h=null==(a=window)?void 0:a.SourceBuffer)?h:null==(l=window)?void 0:l.WebKitSourceBuffer,c=(0,v.isUndefined)(u)||!(0,v.isUndefined)(u.prototype)&&(0,v.isFunction)(u.prototype.appendBuffer)&&(0,v.isFunction)(u.prototype.remove);return!!o&&!!c}var q=new WeakMap;class D{get length(){return(0,o._)(this,q).length}start(t){var e;return null!=(e=(0,o._)(this,q)[t][0])?e:1/0}end(t){var e;return null!=(e=(0,o._)(this,q)[t][1])?e:1/0}constructor(t,e){(0,u._)(this,q,{writable:!0,value:void 0}),(0,v.isArray)(t)?(0,c._)(this,q,t):(0,v.isUndefined)(t)||(0,v.isUndefined)(e)?(0,c._)(this,q,[]):(0,c._)(this,q,[[t,e]])}}function O(t){if(!t.length)return null;let e=t.start(0);for(let i=1;i<t.length;i++){let s=t.start(i);s<e&&(e=s)}return e}function L(t){if(!t.length)return null;let e=t.end(0);for(let i=1;i<t.length;i++){let s=t.end(i);s>e&&(e=s)}return e}let I=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx|flac)($|\?)/i,F=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp3","audio/webm","audio/flac","audio/m4a","audio/m4b","audio/mp4a","audio/mp4"]),V=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,N=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),R=/\.(m3u8)($|\?)/i,G=/\.(mpd)($|\?)/i,j=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]),K=new Set(["application/dash+xml"]);function U(t){let{src:e,type:i}=t;return(0,v.isString)(e)?I.test(e)||F.has(i)||e.startsWith("blob:")&&"audio/object"===i:"audio/object"===i}function H(t){return(0,v.isString)(t.src)?V.test(t.src)||N.has(t.type)||t.src.startsWith("blob:")&&"video/object"===t.type||B(t)&&(m||T()):"video/object"===t.type}function B(t){let{src:e,type:i}=t;return(0,v.isString)(e)&&R.test(e)||j.has(i)}function Q(t){let{src:e,type:i}=t;return(0,v.isString)(e)&&G.test(e)||K.has(i)}function z(t){return(0,v.isString)(t.src)&&(U(t)||H(t)||B(t))}function X(t,e){let i=new URL(t);for(let t of Object.keys(e))i.searchParams.set(t,e[t]+"");return i.toString()}function Y(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"preconnect";if(m)return!1;let i=document.querySelector('link[href="'.concat(t,'"]'));if(!(0,v.isNull)(i))return!0;let s=document.createElement("link");return s.rel=e,s.href=t,s.crossOrigin="true",document.head.append(s),!0}let J={};function Z(t){if(J[t])return J[t].promise;let e=(0,v.deferredPromise)(),i=document.querySelector('script[src="'.concat(t,'"]'));if(!(0,v.isNull)(i))return e.resolve(),e.promise;J[t]=e;let s=document.createElement("script");return s.src=t,s.onload=()=>{e.resolve(),delete J[t]},s.onerror=()=>{e.reject(),delete J[t]},setTimeout(()=>document.head.append(s),0),e.promise}function tt(t){return"use-credentials"===t?"include":(0,v.isString)(t)?"same-origin":void 0}let te=Symbol(0),ti=Symbol(0),ts=Symbol(0),tn=Symbol(0),ta=Symbol(0),tl={crossOrigin:te,readyState:ti,updateActiveCues:ts,canLoad:tn,onModeChange:ta,native:Symbol(0),nativeHLS:Symbol(0)};function th(t,e){return e>=t.startTime&&e<t.endTime}function tr(t,e,i){let s=null,n=(0,v.getScope)();function a(){let a=(0,v.isString)(e)?[e]:e,l=t.toArray().find(t=>a.includes(t.kind)&&"showing"===t.mode);if(l!==s){if(!l){i(null),s=null;return}2==l.readyState?i(l):(i(null),(0,v.scoped)(()=>{let t=(0,v.listenEvent)(l,"load",()=>{i(l),t()},{once:!0})},n)),s=l}}return a(),(0,v.listenEvent)(t,"mode-change",a)}var to=new WeakMap,tu=new WeakMap,tc=new WeakMap,td=new WeakMap,t_=new WeakMap,tp=new WeakMap,tf=new WeakMap,tv=new WeakSet,tw=new WeakSet,tg=new WeakSet,tm=new WeakSet,tk=new WeakSet,tb=new WeakSet;let ty=tl.updateActiveCues,tS=tl.canLoad;class tW extends v.EventsTarget{static createId(t){var e,i;return"vds-".concat(t.type,"-").concat(t.kind,"-").concat(null!=(i=null!=(e=t.src)?e:t.label)?i:"?")}get metadata(){return(0,o._)(this,td)}get regions(){return(0,o._)(this,t_)}get cues(){return(0,o._)(this,tp)}get activeCues(){return(0,o._)(this,tf)}get readyState(){return this[tl.readyState]}get mode(){return(0,o._)(this,tc)}set mode(t){this.setMode(t)}addCue(t,e){let i=0,s=(0,o._)(this,tp).length;for(i=0;i<s&&!(t.endTime<=(0,o._)(this,tp)[i].startTime);i++);if(i===s?(0,o._)(this,tp).push(t):(0,o._)(this,tp).splice(i,0,t),!(t instanceof TextTrackCue)){var n;null==(n=this[tl.native])||n.track.addCue(t)}this.dispatchEvent(new v.DOMEvent("add-cue",{detail:t,trigger:e})),th(t,(0,o._)(this,tu))&&this[tl.updateActiveCues]((0,o._)(this,tu),e)}removeCue(t,e){let i=(0,o._)(this,tp).indexOf(t);if(i>=0){var s;let n=(0,o._)(this,tf).includes(t);(0,o._)(this,tp).splice(i,1),null==(s=this[tl.native])||s.track.removeCue(t),this.dispatchEvent(new v.DOMEvent("remove-cue",{detail:t,trigger:e})),n&&this[tl.updateActiveCues]((0,o._)(this,tu),e)}}setMode(t,e){var i;(0,o._)(this,tc)!==t&&((0,c._)(this,tc,t),"disabled"===t?((0,c._)(this,tf,[]),(0,_._)(this,tb,tA).call(this)):2===this.readyState?this[tl.updateActiveCues]((0,o._)(this,tu),e):(0,_._)(this,tw,tM).call(this),this.dispatchEvent(new v.DOMEvent("mode-change",{detail:this,trigger:e})),null==(i=this[tl.onModeChange])||i.call(this))}[ty](t,e){if((0,c._)(this,tu,t),"disabled"===this.mode||!(0,o._)(this,tp).length)return;let i=[];for(let e=0,s=(0,o._)(this,tp).length;e<s;e++){let s=(0,o._)(this,tp)[e];th(s,t)&&i.push(s)}let s=i.length!==(0,o._)(this,tf).length;if(!s){for(let t=0;t<i.length;t++)if(!(0,o._)(this,tf).includes(i[t])){s=!0;break}}(0,c._)(this,tf,i),s&&(0,_._)(this,tb,tA).call(this,e)}[tS](){(0,c._)(this,to,!0),"disabled"!==(0,o._)(this,tc)&&(0,_._)(this,tw,tM).call(this)}constructor(t){for(let e of(super(),(0,p._)(this,tv),(0,p._)(this,tw),(0,p._)(this,tg),(0,p._)(this,tm),(0,p._)(this,tk),(0,p._)(this,tb),(0,u._)(this,to,{writable:!0,value:void 0}),(0,u._)(this,tu,{writable:!0,value:void 0}),(0,u._)(this,tc,{writable:!0,value:void 0}),(0,u._)(this,td,{writable:!0,value:void 0}),(0,u._)(this,t_,{writable:!0,value:void 0}),(0,u._)(this,tp,{writable:!0,value:void 0}),(0,u._)(this,tf,{writable:!0,value:void 0}),this.id="",this.label="",this.language="",this.default=!1,(0,c._)(this,to,!1),(0,c._)(this,tu,0),(0,c._)(this,tc,"disabled"),(0,c._)(this,td,{}),(0,c._)(this,t_,[]),(0,c._)(this,tp,[]),(0,c._)(this,tf,[]),this[s]=0,this[n]=null,this[a]=null,Object.keys(t)))this[e]=t[e];this.type||(this.type="vtt"),!m&&t.content?(0,_._)(this,tv,t$).call(this,t):t.src||(this[tl.readyState]=2)}}function t$(t){i.e(298).then(i.bind(i,1298)).then(e=>{let{parseText:i,VTTCue:s,VTTRegion:n}=e;(0,v.isString)(t.content)&&"json"!==t.type?i(t.content,{type:t.type}).then(t=>{let{cues:e,regions:i}=t;(0,c._)(this,tp,e),(0,c._)(this,t_,i),(0,_._)(this,tg,tx).call(this)}):((0,_._)(this,tk,tP).call(this,t.content,s,n),3!==this.readyState&&(0,_._)(this,tg,tx).call(this))})}async function tM(){if((0,o._)(this,to)&&!(this[tl.readyState]>0)){if(this[tl.readyState]=1,this.dispatchEvent(new v.DOMEvent("load-start")),!this.src)return void(0,_._)(this,tg,tx).call(this);try{var t,e;let{parseResponse:s,VTTCue:n,VTTRegion:a}=await i.e(298).then(i.bind(i,1298)),l=null==(t=this[tl.crossOrigin])?void 0:t.call(this),h=fetch(this.src,{headers:"json"===this.type?{"Content-Type":"application/json"}:void 0,credentials:tt(l)});if("json"===this.type)(0,_._)(this,tk,tP).call(this,await (await h).text(),n,a);else{let{errors:t,metadata:i,regions:n,cues:a}=await s(h,{type:this.type,encoding:this.encoding});if((null==(e=t[0])?void 0:e.code)===0)throw t[0];(0,c._)(this,td,i),(0,c._)(this,t_,n),(0,c._)(this,tp,a)}(0,_._)(this,tg,tx).call(this)}catch(t){(0,_._)(this,tm,tT).call(this,t)}}}function tx(){if(this[tl.readyState]=2,!this.src||"vtt"!==this.type){let t=this[tl.native];if(t&&!t.managed)for(let e of(0,o._)(this,tp))t.track.addCue(e)}let t=new v.DOMEvent("load");this[tl.updateActiveCues]((0,o._)(this,tu),t),this.dispatchEvent(t)}function tT(t){this[tl.readyState]=3,this.dispatchEvent(new v.DOMEvent("error",{detail:t}))}function tP(t,e,i){try{let{regions:s,cues:n}=function(t,e,i){let s=(0,v.isString)(t)?JSON.parse(t):t,n=[],a=[];return s.regions&&i&&(n=s.regions.map(t=>Object.assign(new i,t))),(s.cues||(0,v.isArray)(s))&&(a=((0,v.isArray)(s)?s:s.cues).filter(t=>(0,v.isNumber)(t.startTime)&&(0,v.isNumber)(t.endTime)).map(t=>Object.assign(new e(0,0,""),t))),{regions:n,cues:a}}(t,e,i);(0,c._)(this,t_,s),(0,c._)(this,tp,n)}catch(t){(0,_._)(this,tm,tT).call(this,t)}}function tA(t){this.dispatchEvent(new v.DOMEvent("cue-change",{trigger:t}))}s=tl.readyState,tl.crossOrigin,n=tl.onModeChange,a=tl.native;let tC=/captions|subtitles/;function tE(t){return tC.test(t.kind)}let tq=new v.State({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new D,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:$(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return y&&"video"===this.mediaType&&(!this.playsInline||!v.fscreen.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new D,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new D,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(tE).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.ended?this.duration:this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get duration(){return this.seekableWindow},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return"unknown"!==this.providedViewType?this.providedViewType:this.inferredViewType},get streamType(){return"unknown"!==this.providedStreamType?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){var tD;return Math.max(null!=(tD=O(this.buffered))?tD:0,this.clipStartTime)},get bufferedEnd(){var tO;let t=null!=(tO=L(this.buffered))?tO:0;return Math.min(this.seekableEnd,Math.max(0,t-this.clipStartTime))},get bufferedWindow(){return Math.max(0,this.bufferedEnd-this.bufferedStart)},get seekableStart(){var tL;if(this.isLiveDVR&&this.liveDVRWindow>0)return Math.max(0,this.seekableEnd-this.liveDVRWindow);return Math.max(null!=(tL=O(this.seekable))?tL:0,this.clipStartTime)},get seekableEnd(){var tI;if(this.providedDuration>0)return this.providedDuration;let t=this.liveSyncPosition>0?this.liveSyncPosition:this.canPlay?null!=(tI=L(this.seekable))?tI:1/0:0;return this.clipEndTime>0?Math.min(this.clipEndTime,t):t},get seekableWindow(){let t=this.seekableEnd-this.seekableStart;return isNaN(t)?1/0:Math.max(0,t)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return"airplay"===this.remotePlaybackType&&"connected"===this.remotePlaybackState},get isGoogleCastConnected(){return"google-cast"===this.remotePlaybackType&&"connected"===this.remotePlaybackState},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.duration)&&(!this.isLiveDVR||this.duration>=this.liveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.duration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,this.seekableEnd-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},get isLiveDVR(){return/:dvr/.test(this.streamType)},get liveDVRWindow(){return Math.max(this.inferredLiveDVRWindow,this.minLiveDVRWindow)},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,inferredLiveDVRWindow:0,savedState:null}),tF=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),tV=new Set([...tF,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","inferredLiveDVRWindow","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);function tN(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?tF:tV;tq.reset(t,t=>i.has(t)),(0,v.tick)()}function tR(t,e){let i=t+e.clipStartTime(),s=Math.floor(t)===Math.floor(e.seekableStart()),n=Math.floor(i)===Math.floor(e.seekableEnd());return s?e.seekableStart():n?e.seekableEnd():e.isLiveDVR()&&e.liveDVRWindow()>0&&i<e.seekableEnd()-e.liveDVRWindow()?e.bufferedStart():Math.min(Math.max(e.seekableStart()+.1,i),e.seekableEnd()-.1)}let tG=(0,v.createContext)();function tj(){return(0,v.useContext)(tG)}var tK=new WeakMap,tU=new WeakMap,tH=new WeakMap,tB=new WeakMap,tQ=new WeakSet,tz=new WeakSet;class tX{setTarget(t){(0,c._)(this,tK,t)}getPlayer(t){var e;return(0,o._)(this,tU)||null==(e=null!=t?t:(0,o._)(this,tK))||e.dispatchEvent(new v.DOMEvent("find-media-player",{detail:t=>void(0,c._)(this,tU,t),bubbles:!0,composed:!0})),(0,o._)(this,tU)}setPlayer(t){(0,c._)(this,tU,t)}startLoading(t){(0,_._)(this,tQ,tY).call(this,"media-start-loading",t)}startLoadingPoster(t){(0,_._)(this,tQ,tY).call(this,"media-poster-start-loading",t)}requestAirPlay(t){(0,_._)(this,tQ,tY).call(this,"media-airplay-request",t)}requestGoogleCast(t){(0,_._)(this,tQ,tY).call(this,"media-google-cast-request",t)}play(t){(0,_._)(this,tQ,tY).call(this,"media-play-request",t)}pause(t){(0,_._)(this,tQ,tY).call(this,"media-pause-request",t)}mute(t){(0,_._)(this,tQ,tY).call(this,"media-mute-request",t)}unmute(t){(0,_._)(this,tQ,tY).call(this,"media-unmute-request",t)}enterFullscreen(t,e){(0,_._)(this,tQ,tY).call(this,"media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){(0,_._)(this,tQ,tY).call(this,"media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){(0,_._)(this,tQ,tY).call(this,"media-orientation-lock-request",e,t)}unlockScreenOrientation(t){(0,_._)(this,tQ,tY).call(this,"media-orientation-unlock-request",t)}enterPictureInPicture(t){(0,_._)(this,tQ,tY).call(this,"media-enter-pip-request",t)}exitPictureInPicture(t){(0,_._)(this,tQ,tY).call(this,"media-exit-pip-request",t)}seeking(t,e){(0,_._)(this,tQ,tY).call(this,"media-seeking-request",e,t)}seek(t,e){(0,_._)(this,tQ,tY).call(this,"media-seek-request",e,t)}seekToLiveEdge(t){(0,_._)(this,tQ,tY).call(this,"media-live-edge-request",t)}changeDuration(t,e){(0,_._)(this,tQ,tY).call(this,"media-duration-change-request",e,t)}changeClipStart(t,e){(0,_._)(this,tQ,tY).call(this,"media-clip-start-change-request",e,t)}changeClipEnd(t,e){(0,_._)(this,tQ,tY).call(this,"media-clip-end-change-request",e,t)}changeVolume(t,e){(0,_._)(this,tQ,tY).call(this,"media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){(0,_._)(this,tQ,tY).call(this,"media-audio-track-change-request",e,t)}changeQuality(t,e){(0,_._)(this,tQ,tY).call(this,"media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,i){(0,_._)(this,tQ,tY).call(this,"media-text-track-change-request",i,{index:t,mode:e})}changePlaybackRate(t,e){(0,_._)(this,tQ,tY).call(this,"media-rate-change-request",e,t)}changeAudioGain(t,e){(0,_._)(this,tQ,tY).call(this,"media-audio-gain-change-request",e,t)}resumeControls(t){(0,_._)(this,tQ,tY).call(this,"media-resume-controls-request",t)}pauseControls(t){(0,_._)(this,tQ,tY).call(this,"media-pause-controls-request",t)}togglePaused(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){let i=this.getPlayer(null==e?void 0:e.target);i&&(i.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}showCaptions(t){let e=this.getPlayer(null==t?void 0:t.target);if(!e)return;let i=e.state.textTracks,s=(0,o._)(this,tH);i[s]&&tE(i[s])||(s=-1),-1===s&&(s=i.findIndex(t=>tE(t)&&t.default)),-1===s&&(s=i.findIndex(t=>tE(t))),s>=0&&this.changeTextTrackMode(s,"showing",t),(0,c._)(this,tH,-1)}disableCaptions(t){let e=this.getPlayer(null==t?void 0:t.target);if(!e)return;let i=e.state.textTracks,s=e.state.textTrack;if(s){let e=i.indexOf(s);this.changeTextTrackMode(e,"disabled",t),(0,c._)(this,tH,e)}}toggleCaptions(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(t,e){(0,_._)(this,tQ,tY).call(this,"media-user-loop-change-request",e,t)}constructor(t){(0,p._)(this,tQ),(0,p._)(this,tz),(0,u._)(this,tK,{writable:!0,value:void 0}),(0,u._)(this,tU,{writable:!0,value:void 0}),(0,u._)(this,tH,{writable:!0,value:void 0}),(0,u._)(this,tB,{writable:!0,value:void 0}),(0,c._)(this,tK,null),(0,c._)(this,tU,null),(0,c._)(this,tH,-1),(0,c._)(this,tB,t)}}function tY(t,e,i){var s,n,a;let l=new v.DOMEvent(t,{bubbles:!0,composed:!0,cancelable:!0,detail:i,trigger:e}),h=(null==e?void 0:e.target)||null;h&&h instanceof v.Component&&(h=h.el),h=!h||h===document||h===window||h===document.body||(null==(s=(0,o._)(this,tU))?void 0:s.el)&&h instanceof Node&&!(0,o._)(this,tU).el.contains(h)?null!=(a=(0,o._)(this,tK))?a:null==(n=this.getPlayer())?void 0:n.el:null!=h?h:(0,o._)(this,tK),(0,o._)(this,tU)&&("media-play-request"!==t||(0,o._)(this,tU).state.canLoad)?(0,o._)(this,tU).canPlayQueue.enqueue(t,()=>null==h?void 0:h.dispatchEvent(l)):null==h||h.dispatchEvent(l)}var tJ=new WeakMap;class tZ{async getVolume(){return(0,o._)(this,tJ).volume}async setVolume(t){(0,o._)(this,tJ).volume=t,this.save()}async getMuted(){return(0,o._)(this,tJ).muted}async setMuted(t){(0,o._)(this,tJ).muted=t,this.save()}async getTime(){return(0,o._)(this,tJ).time}async setTime(t,e){let i=t<0;(0,o._)(this,tJ).time=i?null:t,i||e?this.saveTime():this.saveTimeThrottled()}async getLang(){return(0,o._)(this,tJ).lang}async setLang(t){(0,o._)(this,tJ).lang=t,this.save()}async getCaptions(){return(0,o._)(this,tJ).captions}async setCaptions(t){(0,o._)(this,tJ).captions=t,this.save()}async getPlaybackRate(){return(0,o._)(this,tJ).rate}async setPlaybackRate(t){(0,o._)(this,tJ).rate=t,this.save()}async getAudioGain(){return(0,o._)(this,tJ).audioGain}async setAudioGain(t){(0,o._)(this,tJ).audioGain=t,this.save()}async getVideoQuality(){return(0,o._)(this,tJ).quality}async setVideoQuality(t){(0,o._)(this,tJ).quality=t,this.save()}onChange(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vds-player",s=i?localStorage.getItem(i):null,n=e?localStorage.getItem(e):null;this.playerId=i,this.mediaId=e,(0,c._)(this,tJ,{volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...s?JSON.parse(s):{},time:n?+n:null})}save(){if(m||!this.playerId)return;let t=JSON.stringify({...(0,o._)(this,tJ),time:void 0});localStorage.setItem(this.playerId,t)}saveTime(){var t;if(m||!this.mediaId)return;let e=(null!=(t=(0,o._)(this,tJ).time)?t:0).toString();localStorage.setItem(this.mediaId,e)}constructor(){(0,u._)(this,tJ,{writable:!0,value:void 0}),this.playerId="vds-player",this.mediaId=null,(0,c._)(this,tJ,{volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null}),this.saveTimeThrottled=(0,v.functionThrottle)(this.saveTime.bind(this),1e3)}}let t0=Symbol(0),t1=Symbol(0),t2=Symbol(0),t3=Symbol(0),t5=Symbol(0),t4=Symbol(0),t9=Symbol(0),t8={add:t0,remove:t1,reset:t2,select:t3,readonly:t5,setReadonly:t4,onReset:t9,onRemove:Symbol(0),onUserSelect:Symbol(0)},t6=Symbol.iterator,t7=t8.add,et=t8.remove,ee=t8.reset,ei=t8.setReadonly;class es extends v.EventsTarget{get length(){return this.items.length}get readonly(){return this[t8.readonly]}indexOf(t){return this.items.indexOf(t)}getById(t){var e;return""===t?null:null!=(e=this.items.find(e=>e.id===t))?e:null}toArray(){return[...this.items]}[t6](){return this.items.values()}[t7](t,e){let i=this.items.length;""+i in this||Object.defineProperty(this,i,{get(){return this.items[i]}}),this.items.includes(t)||(this.items.push(t),this.dispatchEvent(new v.DOMEvent("add",{detail:t,trigger:e})))}[et](t,e){let i=this.items.indexOf(t);if(i>=0){var s;null==(s=this[t8.onRemove])||s.call(this,t,e),this.items.splice(i,1),this.dispatchEvent(new v.DOMEvent("remove",{detail:t,trigger:e}))}}[ee](t){var e;for(let e of[...this.items])this[t8.remove](e,t);this.items=[],this[t8.setReadonly](!1,t),null==(e=this[t8.onReset])||e.call(this)}[ei](t,e){this[t8.readonly]!==t&&(this[t8.readonly]=t,this.dispatchEvent(new v.DOMEvent("readonly-change",{detail:t,trigger:e})))}constructor(...t){super(...t),this.items=[],this[l]=!1}}l=t8.readonly;let en=Symbol(0);class ea extends es{get selected(){var t;return null!=(t=this.items.find(t=>t.selected))?t:null}get selectedIndex(){return this.items.findIndex(t=>t.selected)}[t8.onRemove](t,e){this[t8.select](t,!1,e)}[t8.add](t,e){t[en]=!1,Object.defineProperty(t,"selected",{get(){return this[en]},set:e=>{var i;this.readonly||(null==(i=this[t8.onUserSelect])||i.call(this),this[t8.select](t,e))}}),super[t8.add](t,e)}[t8.select](t,e,i){if(e===(null==t?void 0:t[en]))return;let s=this.selected;t&&(t[en]=e),(e?s!==t:s===t)&&(s&&(s[en]=!1),this.dispatchEvent(new v.DOMEvent("change",{detail:{prev:s,current:this.selected},trigger:i})))}}class el extends ea{}function eh(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(t.toFixed(e))}function er(t){var e,i;return null!=(i=null==(e=String(t).split(".")[1])?void 0:e.length)?i:0}function eo(t,e,i){return Math.max(t,Math.min(i,e))}function eu(t,e){let i=e.composedPath()[0];return(0,v.isDOMNode)(i)&&t.contains(i)}let ec=new Set;if(!m){let t=function(){for(let t of ec)try{t()}catch(t){}window.requestAnimationFrame(t)};t()}function ed(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}function e_(t,e){if(!(t.hasAttribute("aria-label")||t.hasAttribute("data-no-label"))){if(!(0,v.isFunction)(e))return void(0,v.setAttribute)(t,"aria-label",e);m?i():(0,v.effect)(i)}function i(){(0,v.setAttribute)(t,"aria-label",e())}}function ep(t){let e=getComputedStyle(t);return"none"!==e.display&&parseInt(e.opacity)>0}function ef(t,e){var i;return i=()=>e(!!t&&("checkVisibility"in t?t.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):ep(t))),ec.add(i),()=>ec.delete(i)}function ev(t,e,i){for(;e;)if(e===t)return!0;else if(null==i?void 0:i(e))break;else e=e.parentElement;return!1}function ew(t,e){return new v.EventsController(t).add("pointerup",t=>{0!==t.button||t.defaultPrevented||e(t)}).add("keydown",t=>{(0,v.isKeyboardClick)(t)&&e(t)})}function eg(t){return(0,v.isTouchEvent)(t)&&(t.touches.length>1||t.changedTouches.length>1)}function em(t){if(m)return t();let e=(0,v.getScope)(),i=window.requestAnimationFrame(()=>{(0,v.scoped)(t,e),i=-1});return()=>void window.cancelAnimationFrame(i)}function ek(t,e,i,s){let{offsetVarName:n,xOffset:a,yOffset:l,...h}=s;if(!t)return;let r=i.replace(" ","-").replace("-center","");if((0,v.setStyle)(t,"visibility",e?null:"hidden"),!e)return;let o=i.includes("top"),u=t=>i.includes("left")?"calc(-1 * ".concat(t,")"):t,c=t=>o?"calc(-1 * ".concat(t,")"):t;return(0,w.ll)(e,t,()=>{var s;(0,w.rD)(e,t,{placement:r,middleware:[...null!=(s=h.middleware)?s:[],(0,w.UU)({fallbackAxisSideDirection:"start",crossAxis:!1}),(0,w.BN)()],...h}).then(e=>{var s;let{x:h,y:r,middlewareData:d}=e,_=!!(null==(s=d.flip)?void 0:s.index);o=i.includes(_?"bottom":"top"),t.setAttribute("data-placement",_?i.startsWith("top")?i.replace("top","bottom"):i.replace("bottom","top"):i),Object.assign(t.style,{top:"calc(".concat(r+"px"," + ").concat(c(l?l+"px":"var(--".concat(n,"-y-offset, 0px)")),")"),left:"calc(".concat(h+"px"," + ").concat(u(a?a+"px":"var(--".concat(n,"-x-offset, 0px)")),")")})})})}function eb(t){return t instanceof HTMLElement}var ey=new WeakMap,eS=new WeakMap,eW=new WeakMap,e$=new WeakMap,eM=new WeakSet,ex=new WeakSet,eT=new WeakSet,eP=new WeakSet;class eA{canRender(t,e){return!!e}attach(t){(0,c._)(this,eS,t),t&&(t.textTracks.onchange=(0,_._)(this,eP,eD).bind(this))}addTrack(t){(0,o._)(this,e$).add(t),(0,_._)(this,eM,eC).call(this,t)}removeTrack(t){var e,i;null==(i=t[tl.native])||null==(e=i.remove)||e.call(i),t[tl.native]=null,(0,o._)(this,e$).delete(t)}changeTrack(t){let e=null==t?void 0:t[tl.native];e&&"showing"!==e.track.mode&&(e.track.mode="showing"),(0,c._)(this,eW,t)}setDisplay(t){(0,c._)(this,ey,t),(0,_._)(this,eP,eD).call(this)}detach(){for(let t of((0,o._)(this,eS)&&((0,o._)(this,eS).textTracks.onchange=null),(0,o._)(this,e$)))this.removeTrack(t);(0,o._)(this,e$).clear(),(0,c._)(this,eS,null),(0,c._)(this,eW,null)}constructor(){(0,p._)(this,eM),(0,p._)(this,ex),(0,p._)(this,eT),(0,p._)(this,eP),(0,u._)(this,ey,{writable:!0,value:void 0}),(0,u._)(this,eS,{writable:!0,value:void 0}),(0,u._)(this,eW,{writable:!0,value:void 0}),(0,u._)(this,e$,{writable:!0,value:void 0}),this.priority=0,(0,c._)(this,ey,!0),(0,c._)(this,eS,null),(0,c._)(this,eW,null),(0,c._)(this,e$,new Set)}}function eC(t){var e,i;if(!(0,o._)(this,eS))return;let s=null!=(i=t[e=tl.native])?i:t[e]=(0,_._)(this,ex,eE).call(this,t);eb(s)&&((0,o._)(this,eS).append(s),s.track.mode=s.default?"showing":"disabled")}function eE(t){let e=document.createElement("track"),i=t.default||"showing"===t.mode,s=t.src&&"vtt"===t.type;return e.id=t.id,e.src=s?t.src:"",e.label=t.label,e.kind=t.kind,e.default=i,t.language&&(e.srclang=t.language),i&&!s&&(0,_._)(this,eT,eq).call(this,t,e.track),e}function eq(t,e){var i;if((!t.src||"vtt"!==t.type)&&(null==(i=e.cues)||!i.length))for(let i of t.cues)e.addCue(i)}function eD(t){for(let e of(0,o._)(this,e$)){let i=e[tl.native];if(!i)continue;if(!(0,o._)(this,ey)){i.track.mode=i.managed?"hidden":"disabled";continue}let s="showing"===i.track.mode;s&&(0,_._)(this,eT,eq).call(this,e,i.track),e.setMode(s?"showing":"disabled",t)}}var eO=new WeakMap,eL=new WeakMap,eI=new WeakMap,eF=new WeakMap,eV=new WeakMap,eN=new WeakMap,eR=new WeakMap,eG=new WeakSet,ej=new WeakSet,eK=new WeakSet,eU=new WeakSet,eH=new WeakSet,eB=new WeakSet,eQ=new WeakSet;class ez{add(t){(0,o._)(this,eI).push(t),(0,v.untrack)((0,_._)(this,eB,e1).bind(this))}remove(t){t.detach(),(0,o._)(this,eI).splice((0,o._)(this,eI).indexOf(t),1),(0,v.untrack)((0,_._)(this,eB,e1).bind(this))}attachVideo(t){requestAnimationFrame(()=>{if((0,c._)(this,eO,t),t)for(let e of((0,c._)(this,eN,new eA),(0,o._)(this,eN).attach(t),(0,o._)(this,eL)))(0,_._)(this,ej,eY).call(this,e);(0,_._)(this,eB,e1).call(this)})}constructor(t){(0,p._)(this,eG),(0,p._)(this,ej),(0,p._)(this,eK),(0,p._)(this,eU),(0,p._)(this,eH),(0,p._)(this,eB),(0,p._)(this,eQ),(0,u._)(this,eO,{writable:!0,value:void 0}),(0,u._)(this,eL,{writable:!0,value:void 0}),(0,u._)(this,eI,{writable:!0,value:void 0}),(0,u._)(this,eF,{writable:!0,value:void 0}),(0,u._)(this,eV,{writable:!0,value:void 0}),(0,u._)(this,eN,{writable:!0,value:void 0}),(0,u._)(this,eR,{writable:!0,value:void 0}),(0,c._)(this,eO,null),(0,c._)(this,eI,[]),(0,c._)(this,eV,!1),(0,c._)(this,eN,null),(0,c._)(this,eR,null),(0,c._)(this,eF,t);let e=t.textTracks;(0,c._)(this,eL,e),(0,v.effect)((0,_._)(this,eG,eX).bind(this)),(0,v.onDispose)((0,_._)(this,eQ,e2).bind(this)),new v.EventsController(e).add("add",(0,_._)(this,eU,eZ).bind(this)).add("remove",(0,_._)(this,eH,e0).bind(this)).add("mode-change",(0,_._)(this,eB,e1).bind(this))}}function eX(){let{nativeControls:t}=(0,o._)(this,eF).$state;(0,c._)(this,eV,t()),(0,_._)(this,eB,e1).call(this)}function eY(t){var e;tE(t)&&(null==(e=(0,o._)(this,eN))||e.addTrack(t))}function eJ(t){var e;tE(t)&&(null==(e=(0,o._)(this,eN))||e.removeTrack(t))}function eZ(t){(0,_._)(this,ej,eY).call(this,t.detail)}function e0(t){(0,_._)(this,eK,eJ).call(this,t.detail)}function e1(){var t,e,i,s,n,a,l;let h=(0,o._)(this,eL).selected;if((0,o._)(this,eO)&&((0,o._)(this,eV)||(null==h?void 0:h[tl.nativeHLS]))){null==(i=(0,o._)(this,eR))||i.changeTrack(null),null==(s=(0,o._)(this,eN))||s.setDisplay(!0),null==(n=(0,o._)(this,eN))||n.changeTrack(h);return}if(null==(t=(0,o._)(this,eN))||t.setDisplay(!1),null==(e=(0,o._)(this,eN))||e.changeTrack(null),!h){null==(a=(0,o._)(this,eR))||a.changeTrack(null);return}let r=(0,o._)(this,eI).sort((t,e)=>t.priority-e.priority).find(t=>t.canRender(h,(0,o._)(this,eO)));(0,o._)(this,eR)!==r&&(null==(l=(0,o._)(this,eR))||l.detach(),null==r||r.attach((0,o._)(this,eO)),(0,c._)(this,eR,null!=r?r:null)),null==r||r.changeTrack(h)}function e2(){var t,e;null==(t=(0,o._)(this,eN))||t.detach(),(0,c._)(this,eN,null),null==(e=(0,o._)(this,eR))||e.detach(),(0,c._)(this,eR,null)}var e3=new WeakMap,e5=new WeakMap,e4=new WeakMap,e9=new WeakMap,e8=new WeakMap,e6=new WeakMap,e7=new WeakMap,it=new WeakSet,ie=new WeakSet,ii=new WeakSet;let is=tl.canLoad;class ia extends es{get selected(){let t=this.items.find(t=>"showing"===t.mode&&tE(t));return null!=t?t:null}get selectedIndex(){let t=this.selected;return t?this.indexOf(t):-1}get preferredLang(){return(0,o._)(this,e9)}set preferredLang(t){(0,c._)(this,e9,t),(0,_._)(this,ii,ir).call(this,t)}add(t,e){let i=t instanceof tW?t:new tW(t),s="captions"===t.kind||"subtitles"===t.kind?"captions":t.kind;return(0,o._)(this,e5)[s]&&t.default&&delete t.default,i.addEventListener("mode-change",(0,o._)(this,e7)),this[t8.add](i,e),i[tl.crossOrigin]=this[tl.crossOrigin],(0,o._)(this,e3)&&i[tl.canLoad](),t.default&&((0,o._)(this,e5)[s]=i),(0,o._)(this,e8).call(this),this}remove(t,e){if((0,c._)(this,e6,t),this.items.includes(t))return t===(0,o._)(this,e5)[t.kind]&&delete(0,o._)(this,e5)[t.kind],t.mode="disabled",t[tl.onModeChange]=null,t.removeEventListener("mode-change",(0,o._)(this,e7)),this[t8.remove](t,e),(0,c._)(this,e6,null),this}clear(t){for(let e of[...this.items])this.remove(e,t);return this}getByKind(t){let e=Array.isArray(t)?t:[t];return this.items.filter(t=>e.includes(t.kind))}[is](){if(!(0,o._)(this,e3)){for(let t of this.items)t[tl.canLoad]();(0,c._)(this,e3,!0),(0,o._)(this,e8).call(this)}}setStorage(t){(0,c._)(this,e4,t)}constructor(){super(),(0,p._)(this,it),(0,p._)(this,ie),(0,p._)(this,ii),(0,u._)(this,e3,{writable:!0,value:void 0}),(0,u._)(this,e5,{writable:!0,value:void 0}),(0,u._)(this,e4,{writable:!0,value:void 0}),(0,u._)(this,e9,{writable:!0,value:void 0}),(0,u._)(this,e8,{writable:!0,value:void 0}),(0,u._)(this,e6,{writable:!0,value:void 0}),(0,u._)(this,e7,{writable:!0,value:void 0}),(0,c._)(this,e3,!1),(0,c._)(this,e5,{}),(0,c._)(this,e4,null),(0,c._)(this,e9,null),(0,c._)(this,e8,(0,v.functionDebounce)(async()=>{var t;if(!(0,o._)(this,e3))return;!(0,o._)(this,e9)&&(0,o._)(this,e4)&&(0,c._)(this,e9,await (0,o._)(this,e4).getLang());let e=await (null==(t=(0,o._)(this,e4))?void 0:t.getCaptions());for(let t of[["captions","subtitles"],"chapters","descriptions","metadata"]){let i=this.getByKind(t);if(i.find(t=>"showing"===t.mode))continue;let s=(0,o._)(this,e9)?i.find(t=>t.language===(0,o._)(this,e9)):null,n=(0,v.isArray)(t)?(0,o._)(this,e5)[t.find(t=>(0,o._)(this,e5)[t])||""]:(0,o._)(this,e5)[t],a=null!=s?s:n,l=a&&tE(a);a&&(!l||!1!==e)&&(a.mode="showing",l&&(0,_._)(this,ie,ih).call(this,a))}},300)),(0,c._)(this,e6,null),(0,c._)(this,e7,(0,_._)(this,it,il).bind(this))}}function il(t){let e=t.detail;if((0,o._)(this,e4)&&tE(e)&&e!==(0,o._)(this,e6)&&(0,_._)(this,ie,ih).call(this,e),"showing"===e.mode){let t=tE(e)?["captions","subtitles"]:[e.kind];for(let i of this.items)"showing"===i.mode&&i!=e&&t.includes(i.kind)&&(i.mode="disabled")}this.dispatchEvent(new v.DOMEvent("mode-change",{detail:t.detail,trigger:t}))}function ih(t){var e,i;"disabled"!==t.mode&&(0,_._)(this,ii,ir).call(this,t.language),null==(i=(0,o._)(this,e4))||null==(e=i.setCaptions)||e.call(i,"showing"===t.mode)}function ir(t){var e,i;null==(i=(0,o._)(this,e4))||null==(e=i.setLang)||e.call(i,(0,c._)(this,e9,t))}tl.crossOrigin;let io={setAuto:Symbol(0),enableAuto:Symbol(0)};var iu=new WeakMap;let ic=t8.onUserSelect,id=t8.onReset,i_=io.setAuto;class ip extends ea{get auto(){return(0,o._)(this,iu)||this.readonly}[ic](){this[io.setAuto](!1)}[id](t){this[io.enableAuto]=void 0,this[io.setAuto](!1,t)}autoSelect(t){var e;!(this.readonly||(0,o._)(this,iu))&&this[io.enableAuto]&&(null==(e=this[io.enableAuto])||e.call(this,t),this[io.setAuto](!0,t))}getBySrc(t){return this.items.find(e=>e.src===t)}[i_](t,e){(0,o._)(this,iu)!==t&&((0,c._)(this,iu,t),this.dispatchEvent(new v.DOMEvent("auto-change",{detail:t,trigger:e})))}constructor(...t){super(...t),(0,u._)(this,iu,{writable:!0,value:void 0}),(0,c._)(this,iu,!1),this.switch="current"}}function iv(t,e){var i,s;return t.height===e.height?(null!=(i=t.bitrate)?i:0)-(null!=(s=e.bitrate)?s:0):t.height-e.height}io.enableAuto;class iw extends v.ViewController{}let ig=new Set(["Shift","Alt","Meta","Ctrl"]),im='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]';var ik=new WeakMap,ib=new WeakSet,iy=new WeakSet,iS=new WeakSet,iW=new WeakSet,i$=new WeakSet,iM=new WeakMap,ix=new WeakSet,iT=new WeakMap,iP=new WeakSet,iA=new WeakSet;class iC extends iw{onConnect(){(0,v.effect)((0,_._)(this,ib,iE).bind(this))}constructor(t){super(),(0,p._)(this,ib),(0,p._)(this,iy),(0,p._)(this,iS),(0,p._)(this,iW),(0,p._)(this,i$),(0,p._)(this,ix),(0,p._)(this,iP),(0,p._)(this,iA),(0,u._)(this,ik,{writable:!0,value:void 0}),(0,u._)(this,iM,{writable:!0,value:void 0}),(0,u._)(this,iT,{writable:!0,value:void 0}),(0,c._)(this,iT,null),(0,c._)(this,ik,t)}}function iE(){let{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;let i="player"===e()?this.el:document,s=(0,v.signal)(!1);i===this.el?new v.EventsController(this.el).add("focusin",()=>s.set(!0)).add("focusout",t=>{this.el.contains(t.target)||s.set(!1)}):((0,v.peek)(s)||s.set(document.querySelector("[data-media-player]")===this.el),(0,v.listenEvent)(document,"focusin",t=>{let e=t.composedPath().find(t=>t instanceof Element&&"media-player"===t.localName);void 0!==e&&s.set(this.el===e)})),(0,v.effect)(()=>{s()&&new v.EventsController(i).add("keyup",(0,_._)(this,iy,iq).bind(this)).add("keydown",(0,_._)(this,iS,iD).bind(this)).add("keydown",(0,_._)(this,iW,iO).bind(this),{capture:!0})})}function iq(t){let e=document.activeElement;if(!t.key||!this.$state.canSeek()||(null==e?void 0:e.matches(im)))return;let{method:i,value:s}=(0,_._)(this,i$,iL).call(this,t);if(!(0,v.isString)(s)&&!(0,v.isArray)(s)){var n,a;null==s||null==(n=s.onKeyUp)||n.call(s,{event:t,player:(0,o._)(this,ik).player,remote:(0,o._)(this,ik).remote}),null==s||null==(a=s.callback)||a.call(s,t,(0,o._)(this,ik).remote);return}if((null==i?void 0:i.startsWith("seek"))&&(t.preventDefault(),t.stopPropagation(),(0,o._)(this,iT)?((0,_._)(this,iP,iF).call(this,t,"seekForward"===i),(0,c._)(this,iT,null)):((0,o._)(this,ik).remote.seek((0,o._)(this,iM),t),(0,c._)(this,iM,void 0))),null==i?void 0:i.startsWith("volume")){let e=this.el.querySelector("[data-media-volume-slider]");null==e||e.dispatchEvent(new KeyboardEvent("keyup",{key:"volumeUp"===i?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}}function iD(t){var e,i,s,n;if(!t.key||ig.has(t.key))return;let a=document.activeElement;if((null==a?void 0:a.matches(im))||(0,v.isKeyboardClick)(t)&&(null==a?void 0:a.matches('button, [role="button"]')))return;let{method:l,value:h}=(0,_._)(this,i$,iL).call(this,t),r=!t.metaKey&&/^[0-9]$/.test(t.key);if(!(0,v.isString)(h)&&!(0,v.isArray)(h)&&!r){null==h||null==(e=h.onKeyDown)||e.call(h,{event:t,player:(0,o._)(this,ik).player,remote:(0,o._)(this,ik).remote}),null==h||null==(i=h.callback)||i.call(h,t,(0,o._)(this,ik).remote);return}if(!l&&r&&!function(t){for(let e of ig)if(t[e.toLowerCase()+"Key"])return!0;return!1}(t)){t.preventDefault(),t.stopPropagation(),(0,o._)(this,ik).remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(l){switch(t.preventDefault(),t.stopPropagation(),l){case"seekForward":case"seekBackward":(0,_._)(this,iA,iV).call(this,t,l,"seekForward"===l);break;case"volumeUp":case"volumeDown":let e=this.el.querySelector("[data-media-volume-slider]");if(e)e.dispatchEvent(new KeyboardEvent("keydown",{key:"volumeUp"===l?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{let e=t.shiftKey?.1:.05;(0,o._)(this,ik).remote.changeVolume(this.$state.volume()+("volumeUp"===l?+e:-e),t)}break;case"toggleFullscreen":(0,o._)(this,ik).remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":let i=this.$state.playbackRate();(0,o._)(this,ik).remote.changePlaybackRate(Math.max(.25,Math.min(2,i+("speedUp"===l?.25:-.25))),t);break;default:null==(s=(n=(0,o._)(this,ik).remote)[l])||s.call(n,t)}this.$state.lastKeyboardAction.set({action:l,event:t})}}function iO(t){var e,i;i=e=t.target,(!m&&i instanceof HTMLAudioElement||!m&&e instanceof HTMLVideoElement)&&(0,_._)(this,i$,iL).call(this,t).method&&t.preventDefault()}function iL(t){let e={...this.$props.keyShortcuts(),...(0,o._)(this,ik).ariaKeys},i=Object.keys(e).find(i=>{var s;let n=e[i],a=(0,v.isArray)(n)?n.join(" "):(0,v.isString)(n)?n:null==n?void 0:n.keys,l=null==(s=(0,v.isArray)(a)?a:null==a?void 0:a.split(" "))?void 0:s.map(t=>t.replace(/Shift\+(\d)/g,(t,e)=>iN[e-1]).replace(/Control/g,"Ctrl").split("+"));return null==l?void 0:l.some(e=>{let i=new Set(e.filter(t=>ig.has(t)));for(let e of ig){let s=e.toLowerCase()+"Key";if(!i.has(e)&&t[s])return!1}return e.every(e=>ig.has(e)?t[e.toLowerCase()+"Key"]:t.key===e.replace("Space"," "))})});return{method:i,value:i?e[i]:null}}function iI(t,e){var i;let s=t.shiftKey?10:5;return(0,c._)(this,iM,Math.max(0,Math.min((null!=(i=(0,o._)(this,iM))?i:this.$state.currentTime())+("seekForward"===e?+s:-s),this.$state.duration())))}function iF(t,e){var i;null==(i=(0,o._)(this,iT))||i.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}function iV(t,e,i){this.$state.canSeek()&&((0,o._)(this,iT)||(0,c._)(this,iT,this.el.querySelector("[data-media-time-slider]")),(0,o._)(this,iT)?(0,_._)(this,iP,iF).call(this,t,i):(0,o._)(this,ik).remote.seeking((0,_._)(this,ix,iI).call(this,t,e),t))}let iN=["!","@","#","$","%","^","&","*","(",")"];var iR=new WeakMap;class iG extends v.ViewController{onAttach(t){let{$props:e,ariaKeys:i}=tj(),s=t.getAttribute("aria-keyshortcuts");if(s){i[(0,o._)(this,iR)]=s,m||(0,v.onDispose)(()=>{delete i[(0,o._)(this,iR)]});return}let n=e.keyShortcuts()[(0,o._)(this,iR)];if(n){let e=(0,v.isArray)(n)?n.join(" "):(0,v.isString)(n)?n:null==n?void 0:n.keys;t.setAttribute("aria-keyshortcuts",(0,v.isArray)(e)?e.join(" "):e)}}constructor(t){super(),(0,u._)(this,iR,{writable:!0,value:void 0}),(0,c._)(this,iR,t)}}var ij=new WeakMap,iK=new WeakMap,iU=new WeakMap,iH=new WeakMap,iB=new WeakMap,iQ=new WeakMap,iz=new WeakSet,iX=new WeakSet,iY=new WeakSet,iJ=new WeakSet,iZ=new WeakSet,i0=new WeakSet,i1=new WeakSet,i2=new WeakSet,i3=new WeakSet,i5=new WeakSet,i4=new WeakSet,i9=new WeakSet;class i8 extends iw{get canIdle(){return(0,o._)(this,iQ).call(this)}set canIdle(t){(0,o._)(this,iQ).set(t)}get hideOnMouseLeave(){let{hideControlsOnMouseLeave:t}=this.$props;return(0,o._)(this,iU).call(this)||t()}set hideOnMouseLeave(t){(0,o._)(this,iU).set(t)}get showing(){return this.$state.controlsVisible()}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;(0,_._)(this,i3,sl).call(this),(0,o._)(this,iK)||(0,_._)(this,i4,sr).call(this,!0,t,e)}hide(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultDelay,e=arguments.length>1?arguments[1]:void 0;(0,_._)(this,i3,sl).call(this),(0,o._)(this,iK)||(0,_._)(this,i4,sr).call(this,!1,t,e)}pause(t){(0,c._)(this,iK,!0),(0,_._)(this,i3,sl).call(this),(0,_._)(this,i4,sr).call(this,!0,0,t)}resume(t){(0,c._)(this,iK,!1),this.$state.paused()||(0,_._)(this,i4,sr).call(this,!1,this.defaultDelay,t)}onConnect(){(0,v.effect)((0,_._)(this,iz,i6).bind(this))}constructor(...t){super(...t),(0,p._)(this,iz),(0,p._)(this,iX),(0,p._)(this,iY),(0,p._)(this,iJ),(0,p._)(this,iZ),(0,p._)(this,i0),(0,p._)(this,i1),(0,p._)(this,i2),(0,p._)(this,i3),(0,p._)(this,i5),(0,p._)(this,i4),(0,p._)(this,i9),(0,u._)(this,ij,{writable:!0,value:void 0}),(0,u._)(this,iK,{writable:!0,value:void 0}),(0,u._)(this,iU,{writable:!0,value:void 0}),(0,u._)(this,iH,{writable:!0,value:void 0}),(0,u._)(this,iB,{writable:!0,value:void 0}),(0,u._)(this,iQ,{writable:!0,value:void 0}),(0,c._)(this,ij,-2),(0,c._)(this,iK,!1),(0,c._)(this,iU,(0,v.signal)(!1)),(0,c._)(this,iH,(0,v.signal)(!1)),(0,c._)(this,iB,null),(0,c._)(this,iQ,(0,v.signal)(!0)),this.defaultDelay=2e3}}function i6(){let{viewType:t}=this.$state;if(!this.el||!(0,o._)(this,iQ).call(this))return;if("audio"===t())return void this.show();(0,v.effect)((0,_._)(this,iX,i7).bind(this)),(0,v.effect)((0,_._)(this,iY,st).bind(this));let e=(0,_._)(this,iJ,se).bind(this),i=(0,_._)(this,iZ,si).bind(this),s=(0,_._)(this,i0,ss).bind(this);new v.EventsController(this.el).add("can-play",t=>this.show(0,t)).add("play",e).add("pause",i).add("end",s).add("auto-play-fail",i)}function i7(){if(!this.el)return;let{started:t,pointer:e,paused:i}=this.$state;if(!t()||"fine"!==e())return;let s=new v.EventsController(this.el),n=this.hideOnMouseLeave;n&&(0,o._)(this,iH).call(this)||(0,v.effect)(()=>{i()||s.add("pointermove",(0,_._)(this,i5,sh).bind(this))}),n&&s.add("mouseenter",(0,_._)(this,i1,sn).bind(this)).add("mouseleave",(0,_._)(this,i2,sa).bind(this))}function st(){let{paused:t,started:e,autoPlayError:i}=this.$state;if(t()||i()&&!e())return;let s=(0,_._)(this,i5,sh).bind(this);(0,v.effect)(()=>{if(!this.el)return;let t=this.$state.pointer(),e=new v.EventsController(this.el);for(let i of["coarse"===t?"touchend":"pointerup","keydown"])e.add(i,s,{passive:!1})})}function se(t){t.triggers.hasType("ended")||(this.show(0,t),this.hide(void 0,t))}function si(t){this.show(0,t)}function ss(t){let{loop:e}=this.$state;e()&&this.hide(0,t)}function sn(t){(0,o._)(this,iH).set(!1),this.show(0,t),this.hide(void 0,t)}function sa(t){(0,o._)(this,iH).set(!0),this.hide(0,t)}function sl(){window.clearTimeout((0,o._)(this,ij)),(0,c._)(this,ij,-1)}function sh(t){if(!(t.MEDIA_GESTURE||(0,o._)(this,iK)||eg(t))){if((0,v.isKeyboardEvent)(t))if("Escape"===t.key){var e;null==(e=this.el)||e.focus(),(0,c._)(this,iB,null)}else(0,o._)(this,iB)&&(t.preventDefault(),requestAnimationFrame(()=>{var t;null==(t=(0,o._)(this,iB))||t.focus(),(0,c._)(this,iB,null)}));this.show(0,t),this.hide(this.defaultDelay,t)}}function sr(t,e,i){if(0===e)return void(0,_._)(this,i9,so).call(this,t,i);(0,c._)(this,ij,window.setTimeout(()=>{this.scope&&(0,_._)(this,i9,so).call(this,t&&!(0,o._)(this,iK),i)},e))}function so(t,e){var i;this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&(null==(i=this.el)?void 0:i.contains(document.activeElement))&&((0,c._)(this,iB,document.activeElement),requestAnimationFrame(()=>{var t;null==(t=this.el)||t.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:t,trigger:e}))}let su=v.fscreen.fullscreenEnabled;var sc=new WeakMap,sd=new WeakMap,s_=new WeakSet,sp=new WeakSet,sf=new WeakSet;class sv extends v.ViewController{get active(){return(0,o._)(this,sd)}get supported(){return su}onConnect(){new v.EventsController(v.fscreen).add("fullscreenchange",(0,_._)(this,sp,sg).bind(this)).add("fullscreenerror",(0,_._)(this,sf,sm).bind(this)),(0,v.onDispose)((0,_._)(this,s_,sw).bind(this))}async enter(){try{if((0,c._)(this,sc,!0),!this.el||sk(this.el))return;return sb(),v.fscreen.requestFullscreen(this.el)}catch(t){throw(0,c._)(this,sc,!1),t}}async exit(){if(this.el&&sk(this.el))return sb(),v.fscreen.exitFullscreen()}constructor(...t){super(...t),(0,p._)(this,s_),(0,p._)(this,sp),(0,p._)(this,sf),(0,u._)(this,sc,{writable:!0,value:void 0}),(0,u._)(this,sd,{writable:!0,value:void 0}),(0,c._)(this,sc,!1),(0,c._)(this,sd,!1)}}async function sw(){su&&await this.exit()}function sg(t){let e=sk(this.el);e!==(0,o._)(this,sd)&&(e||(0,c._)(this,sc,!1),(0,c._)(this,sd,e),this.dispatch("fullscreen-change",{detail:e,trigger:t}))}function sm(t){(0,o._)(this,sc)&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),(0,c._)(this,sc,!1))}function sk(t){if(v.fscreen.fullscreenElement===t)return!0;try{return t.matches(v.fscreen.fullscreenPseudoClass)}catch(t){return!1}}function sb(){if(!su)throw Error("[vidstack] no fullscreen API")}var sy=new WeakMap,sS=new WeakMap,sW=new WeakMap,s$=new WeakSet,sM=new WeakSet,sx=new WeakSet,sT=new WeakSet;class sP extends v.ViewController{get type(){return(0,o._)(this,sy).call(this)}get locked(){return(0,o._)(this,sS).call(this)}get portrait(){return(0,o._)(this,sy).call(this).startsWith("portrait")}get landscape(){return(0,o._)(this,sy).call(this).startsWith("landscape")}get supported(){return sP.supported}onConnect(){if(this.supported)(0,v.listenEvent)(screen.orientation,"change",(0,_._)(this,sM,sC).bind(this));else{let t=window.matchMedia("(orientation: landscape)");t.onchange=(0,_._)(this,sM,sC).bind(this),(0,v.onDispose)(()=>t.onchange=null)}(0,v.onDispose)((0,_._)(this,s$,sA).bind(this))}async lock(t){(0,v.peek)((0,o._)(this,sS))||(0,o._)(this,sW)===t||((0,_._)(this,sx,sE).call(this),await screen.orientation.lock(t),(0,o._)(this,sS).set(!0),(0,c._)(this,sW,t))}async unlock(){(0,v.peek)((0,o._)(this,sS))&&((0,_._)(this,sx,sE).call(this),(0,c._)(this,sW,void 0),await screen.orientation.unlock(),(0,o._)(this,sS).set(!1))}constructor(...t){super(...t),(0,p._)(this,s$),(0,p._)(this,sM),(0,p._)(this,sx),(0,p._)(this,sT),(0,u._)(this,sy,{writable:!0,value:void 0}),(0,u._)(this,sS,{writable:!0,value:void 0}),(0,u._)(this,sW,{writable:!0,value:void 0}),(0,c._)(this,sy,(0,v.signal)((0,_._)(this,sT,sq).call(this))),(0,c._)(this,sS,(0,v.signal)(!1))}}async function sA(){this.supported&&(0,o._)(this,sS).call(this)&&await this.unlock()}function sC(t){(0,o._)(this,sy).set((0,_._)(this,sT,sq).call(this)),this.dispatch("orientation-change",{detail:{orientation:(0,v.peek)((0,o._)(this,sy)),lock:(0,o._)(this,sW)},trigger:t})}function sE(){if(!this.supported)throw Error("[vidstack] no orientation API")}function sq(){return m?"portrait-primary":this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}sP.supported=$();class sD{canPlay(t){return!!U(t)&&(m||!(0,v.isString)(t.src)||"?"===t.type||M(this.target,t.type))}mediaType(){return"audio"}async load(t){if(m)throw Error("[vidstack] can not load audio provider server-side");return new(await i.e(187).then(i.bind(i,3187))).AudioProvider(this.target,t)}constructor(){this.name="audio"}}class sO{canPlay(t){return!!H(t)&&(m||!(0,v.isString)(t.src)||"?"===t.type||x(this.target,t.type))}mediaType(){return"video"}async load(t){if(m)throw Error("[vidstack] can not load video provider server-side");return new(await Promise.resolve().then(function(){return ll})).VideoProvider(this.target,t)}constructor(){this.name="video"}}class sL extends sO{canPlay(t){return sL.supported&&B(t)}async load(t){if(m)throw Error("[vidstack] can not load hls provider server-side");return new(await i.e(392).then(i.bind(i,9011))).HLSProvider(this.target,t)}constructor(...t){super(...t),this.name="hls"}}sL.supported=E();let sI=null,sF=[],sV=[];function sN(){return null!=sI?sI:sI=new AudioContext}function sR(){sI&&0===sF.length&&0===sV.length&&sI.close().then(()=>{sI=null})}var sG=new WeakMap,sj=new WeakMap,sK=new WeakMap,sU=new WeakMap,sH=new WeakSet,sB=new WeakSet;class sQ{get currentGain(){var t,e,i;return null!=(i=null==(e=(0,o._)(this,sK))||null==(t=e.gain)?void 0:t.value)?i:null}get supported(){return!0}setGain(t){let e=this.currentGain;if(t!==this.currentGain){if(1===t&&1!==e)return void this.removeGain();!(0,o._)(this,sK)&&((0,c._)(this,sK,function(){let t=sN(),e=t.createGain();return e.connect(t.destination),sF.push(e),e}()),(0,o._)(this,sU)&&(0,o._)(this,sU).connect((0,o._)(this,sK))),(0,o._)(this,sU)||(0,c._)(this,sU,function(t,e){let i=sN().createMediaElementSource(t);return e&&i.connect(e),sV.push(i),i}((0,o._)(this,sG),(0,o._)(this,sK))),(0,o._)(this,sK).gain.value=t,(0,o._)(this,sj).call(this,t)}}removeGain(){(0,o._)(this,sK)&&((0,o._)(this,sU)&&(0,o._)(this,sU).connect(sN().destination),(0,_._)(this,sB,sX).call(this),(0,o._)(this,sj).call(this,null))}destroy(){(0,_._)(this,sH,sz).call(this),(0,_._)(this,sB,sX).call(this)}constructor(t,e){(0,p._)(this,sH),(0,p._)(this,sB),(0,u._)(this,sG,{writable:!0,value:void 0}),(0,u._)(this,sj,{writable:!0,value:void 0}),(0,u._)(this,sK,{writable:!0,value:void 0}),(0,u._)(this,sU,{writable:!0,value:void 0}),(0,c._)(this,sK,null),(0,c._)(this,sU,null),(0,c._)(this,sG,t),(0,c._)(this,sj,e)}}function sz(){if((0,o._)(this,sU))try{var t=(0,o._)(this,sU);let e=sV.indexOf(t);-1!==e&&(sV.splice(e,1),t.disconnect(),sR())}catch(t){}finally{(0,c._)(this,sU,null)}}function sX(){if((0,o._)(this,sK))try{var t=(0,o._)(this,sK);let e=sF.indexOf(t);-1!==e&&(sF.splice(e,1),t.disconnect(),sR())}catch(t){}finally{(0,c._)(this,sK,null)}}let sY=["focus","blur","visibilitychange","pageshow","pagehide"];var sJ=new WeakMap,sZ=new WeakMap,s0=new WeakMap,s1=new WeakSet;class s2{connect(){let t=new v.EventsController(window),e=(0,_._)(this,s1,s3).bind(this);for(let i of sY)t.add(i,e);W&&t.add("beforeunload",t=>{(0,c._)(this,s0,setTimeout(()=>{t.defaultPrevented||t.returnValue.length>0||((0,o._)(this,sJ).set("hidden"),(0,o._)(this,sZ).set("hidden"))},0))})}get pageState(){return(0,o._)(this,sJ).call(this)}get visibility(){return(0,o._)(this,sZ).call(this)}constructor(){(0,p._)(this,s1),(0,u._)(this,sJ,{writable:!0,value:void 0}),(0,u._)(this,sZ,{writable:!0,value:void 0}),(0,u._)(this,s0,{writable:!0,value:void 0}),(0,c._)(this,sJ,(0,v.signal)(s5())),(0,c._)(this,sZ,(0,v.signal)(m?"visible":document.visibilityState))}}function s3(t){W&&window.clearTimeout((0,o._)(this,s0)),("blur"!==t.type||"active"===(0,o._)(this,sJ).call(this))&&((0,o._)(this,sJ).set(s5(t)),(0,o._)(this,sZ).set("hidden"==document.visibilityState?"hidden":"visible"))}function s5(t){return m||(null==t?void 0:t.type)==="blur"||"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}var s4=new WeakMap,s9=new WeakMap,s8=new WeakSet;class s6{start(){(0,v.isUndefined)((0,o._)(this,s4))&&(0,_._)(this,s8,s7).call(this)}stop(){(0,v.isNumber)((0,o._)(this,s4))&&window.cancelAnimationFrame((0,o._)(this,s4)),(0,c._)(this,s4,void 0)}constructor(t){(0,p._)(this,s8),(0,u._)(this,s4,{writable:!0,value:void 0}),(0,u._)(this,s9,{writable:!0,value:void 0}),(0,c._)(this,s9,t)}}function s7(){(0,c._)(this,s4,window.requestAnimationFrame(()=>{(0,v.isUndefined)((0,o._)(this,s4))||((0,o._)(this,s9).call(this),(0,_._)(this,s8,s7).call(this))}))}var nt=new WeakMap,ne=new WeakMap,ni=new WeakMap,ns=new WeakMap,nn=new WeakMap,na=new WeakMap,nl=new WeakMap,nh=new WeakMap,nr=new WeakMap,no=new WeakSet,nu=new WeakMap,nc=new WeakMap,nd=new WeakSet,n_=new WeakSet,np=new WeakSet,nf=new WeakSet,nv=new WeakMap,nw=new WeakMap,ng=new WeakSet,nm=new WeakSet,nk=new WeakSet,nb=new WeakSet,ny=new WeakSet,nS=new WeakSet,nW=new WeakSet,n$=new WeakSet,nM=new WeakSet,nx=new WeakSet,nT=new WeakSet,nP=new WeakSet,nA=new WeakSet,nC=new WeakSet,nE=new WeakSet,nq=new WeakSet,nD=new WeakSet,nO=new WeakSet,nL=new WeakSet,nI=new WeakSet,nF=new WeakSet,nV=new WeakSet,nN=new WeakSet,nR=new WeakSet,nG=new WeakSet,nj=new WeakSet,nK=new WeakSet;class nU{constructor(t,e){(0,u._)(this,nr,{get:nH,set:void 0}),(0,p._)(this,no),(0,p._)(this,nd),(0,p._)(this,n_),(0,p._)(this,np),(0,p._)(this,nf),(0,p._)(this,ng),(0,p._)(this,nm),(0,p._)(this,nk),(0,p._)(this,nb),(0,p._)(this,ny),(0,p._)(this,nS),(0,p._)(this,nW),(0,p._)(this,n$),(0,p._)(this,nM),(0,p._)(this,nx),(0,p._)(this,nT),(0,p._)(this,nP),(0,p._)(this,nA),(0,p._)(this,nC),(0,p._)(this,nE),(0,p._)(this,nq),(0,p._)(this,nD),(0,p._)(this,nO),(0,p._)(this,nL),(0,p._)(this,nI),(0,p._)(this,nF),(0,p._)(this,nV),(0,p._)(this,nN),(0,p._)(this,nR),(0,p._)(this,nG),(0,p._)(this,nj),(0,p._)(this,nK),(0,u._)(this,nt,{writable:!0,value:void 0}),(0,u._)(this,ne,{writable:!0,value:void 0}),(0,u._)(this,ni,{writable:!0,value:void 0}),(0,u._)(this,ns,{writable:!0,value:void 0}),(0,u._)(this,nn,{writable:!0,value:void 0}),(0,u._)(this,na,{writable:!0,value:void 0}),(0,u._)(this,nl,{writable:!0,value:void 0}),(0,u._)(this,nh,{writable:!0,value:void 0}),(0,u._)(this,nu,{writable:!0,value:void 0}),(0,u._)(this,nc,{writable:!0,value:void 0}),(0,u._)(this,nv,{writable:!0,value:void 0}),(0,u._)(this,nw,{writable:!0,value:void 0}),(0,c._)(this,ni,!1),(0,c._)(this,ns,!1),(0,c._)(this,nn,!1),(0,c._)(this,na,new s6((0,_._)(this,nd,nQ).bind(this))),(0,c._)(this,nl,new s2),(0,c._)(this,nu,0),(0,c._)(this,nc,-1),(0,c._)(this,nv,void 0),(0,c._)(this,nw,void 0),(0,c._)(this,nt,t),(0,c._)(this,ne,e),(0,c._)(this,nh,new v.EventsController(t.media)),(0,_._)(this,n_,nz).call(this),(0,o._)(this,nl).connect(),(0,v.effect)((0,_._)(this,nO,an).bind(this)),(0,v.onDispose)((0,_._)(this,no,nB).bind(this))}}function nH(){return(0,o._)(this,nt).media}function nB(){var t;(0,c._)(this,ns,!1),(0,c._)(this,nn,!1),(0,o._)(this,na).stop(),(0,o._)(this,nh).abort(),null==(t=(0,o._)(this,nv))||t.clear()}function nQ(){let t=(0,o._)(this,nr).currentTime;W&&t-(0,o._)(this,nc)<.35||(0,o._)(this,nu)===t||((0,_._)(this,nk,nZ).call(this,t),(0,c._)(this,nu,t))}function nz(){(0,_._)(this,ng,nJ).call(this,"loadstart",(0,_._)(this,nb,n0)),(0,_._)(this,ng,nJ).call(this,"abort",(0,_._)(this,ny,n1)),(0,_._)(this,ng,nJ).call(this,"emptied",(0,_._)(this,nS,n2)),(0,_._)(this,ng,nJ).call(this,"error",(0,_._)(this,nK,a_)),(0,_._)(this,ng,nJ).call(this,"volumechange",(0,_._)(this,nF,ah))}function nX(){(0,o._)(this,ns)||((0,_._)(this,ng,nJ).call(this,"loadeddata",(0,_._)(this,nW,n3)),(0,_._)(this,ng,nJ).call(this,"loadedmetadata",(0,_._)(this,n$,n5)),(0,_._)(this,ng,nJ).call(this,"canplay",(0,_._)(this,nP,n6)),(0,_._)(this,ng,nJ).call(this,"canplaythrough",(0,_._)(this,nA,n7)),(0,_._)(this,ng,nJ).call(this,"durationchange",(0,_._)(this,nI,al)),(0,_._)(this,ng,nJ).call(this,"play",(0,_._)(this,nx,n9)),(0,_._)(this,ng,nJ).call(this,"progress",(0,_._)(this,nR,au)),(0,_._)(this,ng,nJ).call(this,"stalled",(0,_._)(this,nE,ae)),(0,_._)(this,ng,nJ).call(this,"suspend",(0,_._)(this,nG,ac)),(0,_._)(this,ng,nJ).call(this,"ratechange",(0,_._)(this,nj,ad)),(0,c._)(this,ns,!0))}function nY(){(0,o._)(this,nn)||((0,_._)(this,ng,nJ).call(this,"pause",(0,_._)(this,nT,n8)),(0,_._)(this,ng,nJ).call(this,"playing",(0,_._)(this,nC,at)),(0,_._)(this,ng,nJ).call(this,"seeked",(0,_._)(this,nV,ar)),(0,_._)(this,ng,nJ).call(this,"seeking",(0,_._)(this,nN,ao)),(0,_._)(this,ng,nJ).call(this,"ended",(0,_._)(this,nD,as)),(0,_._)(this,ng,nJ).call(this,"waiting",(0,_._)(this,nq,ai)),(0,c._)(this,nn,!0))}function nJ(t,e){(0,o._)(this,nh).add(t,e.bind(this))}function nZ(t,e){let i=Math.min(t,(0,o._)(this,ne).$state.seekableEnd());(0,o._)(this,ne).notify("time-change",i,e)}function n0(t){if(3===(0,o._)(this,nr).networkState)return void(0,_._)(this,ny,n1).call(this,t);(0,_._)(this,np,nX).call(this),(0,o._)(this,ne).notify("load-start",void 0,t)}function n1(t){(0,o._)(this,ne).notify("abort",void 0,t)}function n2(){(0,o._)(this,ne).notify("emptied",void 0,event)}function n3(t){(0,o._)(this,ne).notify("loaded-data",void 0,t)}function n5(t){(0,c._)(this,nu,0),(0,c._)(this,nc,-1),(0,_._)(this,nf,nY).call(this),(0,o._)(this,ne).notify("loaded-metadata",void 0,t),(b||W&&B((0,o._)(this,ne).$state.source()))&&(0,o._)(this,ne).delegate.ready((0,_._)(this,nM,n4).call(this),t)}function n4(){return{provider:(0,v.peek)((0,o._)(this,ne).$provider),duration:(0,o._)(this,nr).duration,buffered:(0,o._)(this,nr).buffered,seekable:(0,o._)(this,nr).seekable}}function n9(t){(0,o._)(this,ne).$state.canPlay&&(0,o._)(this,ne).notify("play",void 0,t)}function n8(t){(1!==(0,o._)(this,nr).readyState||(0,o._)(this,ni))&&((0,c._)(this,ni,!1),(0,o._)(this,na).stop(),(0,o._)(this,ne).notify("pause",void 0,t))}function n6(t){(0,o._)(this,ne).delegate.ready((0,_._)(this,nM,n4).call(this),t)}function n7(t){(0,o._)(this,ne).$state.started()||(0,o._)(this,ne).notify("can-play-through",(0,_._)(this,nM,n4).call(this),t)}function at(t){(0,o._)(this,nr).paused||((0,c._)(this,ni,!1),(0,o._)(this,ne).notify("playing",void 0,t),(0,o._)(this,na).start())}function ae(t){(0,o._)(this,ne).notify("stalled",void 0,t),(0,o._)(this,nr).readyState<3&&((0,c._)(this,ni,!0),(0,o._)(this,ne).notify("waiting",void 0,t))}function ai(t){(0,o._)(this,nr).readyState<3&&((0,c._)(this,ni,!0),(0,o._)(this,ne).notify("waiting",void 0,t))}function as(t){(0,o._)(this,na).stop(),(0,_._)(this,nk,nZ).call(this,(0,o._)(this,nr).duration,t),(0,o._)(this,ne).notify("end",void 0,t),(0,o._)(this,ne).$state.loop()&&(0,v.isNil)((0,o._)(this,nr).controls)&&((0,o._)(this,nr).controls=!1)}function an(){let t=(0,o._)(this,ne).$state.paused(),e="hidden"===(0,o._)(this,nl).visibility;(t||e)&&(0,v.listenEvent)((0,o._)(this,nr),"timeupdate",(0,_._)(this,nL,aa).bind(this))}function aa(t){(0,_._)(this,nk,nZ).call(this,(0,o._)(this,nr).currentTime,t)}function al(t){(0,o._)(this,ne).$state.ended()&&(0,_._)(this,nk,nZ).call(this,(0,o._)(this,nr).duration,t),(0,o._)(this,ne).notify("duration-change",(0,o._)(this,nr).duration,t)}function ah(t){let e={volume:(0,o._)(this,nr).volume,muted:(0,o._)(this,nr).muted};(0,o._)(this,ne).notify("volume-change",e,t)}function ar(t){(0,c._)(this,nc,(0,o._)(this,nr).currentTime),(0,_._)(this,nk,nZ).call(this,(0,o._)(this,nr).currentTime,t),(0,o._)(this,ne).notify("seeked",(0,o._)(this,nr).currentTime,t),Math.trunc((0,o._)(this,nr).currentTime)===Math.trunc((0,o._)(this,nr).duration)&&er((0,o._)(this,nr).duration)>er((0,o._)(this,nr).currentTime)&&((0,_._)(this,nk,nZ).call(this,(0,o._)(this,nr).duration,t),(0,o._)(this,nr).ended||(0,o._)(this,ne).player.dispatch(new v.DOMEvent("media-play-request",{trigger:t})))}function ao(t){(0,o._)(this,ne).notify("seeking",(0,o._)(this,nr).currentTime,t)}function au(t){let e={buffered:(0,o._)(this,nr).buffered,seekable:(0,o._)(this,nr).seekable};(0,o._)(this,ne).notify("progress",e,t)}function ac(t){(0,o._)(this,ne).notify("suspend",void 0,t)}function ad(t){(0,o._)(this,ne).notify("rate-change",(0,o._)(this,nr).playbackRate,t)}function a_(t){let e=(0,o._)(this,nr).error;if(!e)return;let i={message:e.message,code:e.code,mediaError:e};(0,o._)(this,ne).notify("error",i,t)}var ap=new WeakMap,af=new WeakMap,av=new WeakMap,aw=new WeakSet,ag=new WeakSet,am=new WeakSet,ak=new WeakSet,ab=new WeakSet;class ay{constructor(t,e){(0,u._)(this,av,{get:aS,set:void 0}),(0,p._)(this,aw),(0,p._)(this,ag),(0,p._)(this,am),(0,p._)(this,ak),(0,p._)(this,ab),(0,u._)(this,ap,{writable:!0,value:void 0}),(0,u._)(this,af,{writable:!0,value:void 0}),(0,c._)(this,ap,t),(0,c._)(this,af,e),(0,o._)(this,av).onaddtrack=(0,_._)(this,aw,aW).bind(this),(0,o._)(this,av).onremovetrack=(0,_._)(this,ag,a$).bind(this),(0,o._)(this,av).onchange=(0,_._)(this,am,aM).bind(this),(0,v.listenEvent)((0,o._)(this,af).audioTracks,"change",(0,_._)(this,ab,aT).bind(this))}}function aS(){return(0,o._)(this,ap).media.audioTracks}function aW(t){let e=t.track;if(""===e.label)return;let i={id:e.id.toString()||"native-audio-".concat((0,o._)(this,af).audioTracks.length),label:e.label,language:e.language,kind:e.kind,selected:!1};(0,o._)(this,af).audioTracks[t8.add](i,t),e.enabled&&(i.selected=!0)}function a$(t){let e=(0,o._)(this,af).audioTracks.getById(t.track.id);e&&(0,o._)(this,af).audioTracks[t8.remove](e,t)}function aM(t){let e=(0,_._)(this,ak,ax).call(this);if(!e)return;let i=(0,o._)(this,af).audioTracks.getById(e.id);i&&(0,o._)(this,af).audioTracks[t8.select](i,!0,t)}function ax(){return Array.from((0,o._)(this,av)).find(t=>t.enabled)}function aT(t){let{current:e}=t.detail;if(!e)return;let i=(0,o._)(this,av).getTrackById(e.id);if(i){let t=(0,_._)(this,ak,ax).call(this);t&&(t.enabled=!1),i.enabled=!0}}var aP=new WeakSet;class aA{setup(){new nU(this,this.ctx),"audioTracks"in this.media&&new ay(this,this.ctx),(0,v.onDispose)(()=>{for(let t of(this.audioGain.destroy(),this.media.srcObject=null,this.media.removeAttribute("src"),this.media.querySelectorAll("source")))t.remove();this.media.load()})}get type(){return""}setPlaybackRate(t){this.media.playbackRate=t}async play(){return this.media.play()}async pause(){return this.media.pause()}setMuted(t){this.media.muted=t}setVolume(t){this.media.volume=t}setCurrentTime(t){this.media.currentTime=t}setPlaysInline(t){(0,v.setAttribute)(this.media,"playsinline",t)}async loadSource(t,e){let{src:i,type:s}=t;(this.media.preload=e||"",!m&&void 0!==window.MediaStream&&i instanceof window.MediaStream)?(this.removeSource(),this.media.srcObject=i):(this.media.srcObject=null,(0,v.isString)(i)?"?"!==s?this.appendSource({src:i,type:s}):(this.removeSource(),this.media.src=(0,_._)(this,aP,aC).call(this,i)):(this.removeSource(),this.media.src=window.URL.createObjectURL(i))),this.media.load(),this.currentSrc={src:i,type:s}}appendSource(t,e){let i=this.media.querySelector("source[data-vds]"),s=null!=i?i:document.createElement("source");(0,v.setAttribute)(s,"src",(0,_._)(this,aP,aC).call(this,t.src)),(0,v.setAttribute)(s,"type","?"!==t.type?t.type:e),(0,v.setAttribute)(s,"data-vds",""),i||this.media.append(s)}removeSource(){var t;null==(t=this.media.querySelector("source[data-vds]"))||t.remove()}constructor(t,e){(0,p._)(this,aP),this.scope=(0,v.createScope)(),this.currentSrc=null,this.media=t,this.ctx=e,this.audioGain=new sQ(t,t=>{this.ctx.notify("audio-gain-change",t)})}}function aC(t){let{clipStartTime:e,clipEndTime:i}=this.ctx.$state,s=e(),n=i();return s>0&&n>0?"".concat(t,"#t=").concat(s,",").concat(n):s>0?"".concat(t,"#t=").concat(s):n>0?"".concat(t,"#t=0,").concat(n):t}var aE=new WeakMap,aq=new WeakMap,aD=new WeakMap,aO=new WeakMap,aL=new WeakSet,aI=new WeakSet,aF=new WeakSet;class aV{get supported(){return(0,o._)(this,aO).call(this)}async prompt(){if(!this.supported)throw Error("Not supported on this platform.");return"airplay"===this.type&&(0,o._)(this,aE).webkitShowPlaybackTargetPicker?(0,o._)(this,aE).webkitShowPlaybackTargetPicker():(0,o._)(this,aE).remote.prompt()}constructor(t,e){(0,p._)(this,aL),(0,p._)(this,aI),(0,p._)(this,aF),(0,u._)(this,aE,{writable:!0,value:void 0}),(0,u._)(this,aq,{writable:!0,value:void 0}),(0,u._)(this,aD,{writable:!0,value:void 0}),(0,u._)(this,aO,{writable:!0,value:void 0}),(0,c._)(this,aO,(0,v.signal)(!1)),(0,c._)(this,aE,t),(0,c._)(this,aq,e),(0,_._)(this,aL,aN).call(this)}}function aN(){var t;!m&&(null==(t=(0,o._)(this,aE))?void 0:t.remote)&&this.canPrompt&&((0,o._)(this,aE).remote.watchAvailability(t=>{(0,o._)(this,aO).set(t)}).catch(()=>{(0,o._)(this,aO).set(!1)}),(0,v.effect)((0,_._)(this,aI,aR).bind(this)))}function aR(){if(!(0,o._)(this,aO).call(this))return;let t=(0,_._)(this,aF,aG).bind(this);t(),(0,v.listenEvent)((0,o._)(this,aE),"playing",t);let e=new v.EventsController((0,o._)(this,aE).remote);for(let i of["connecting","connect","disconnect"])e.add(i,t)}function aG(t){let e=(0,o._)(this,aE).remote.state;if(e===(0,o._)(this,aD))return;let i={type:this.type,state:e};(0,o._)(this,aq).notify("remote-playback-change",i,t),(0,c._)(this,aD,e)}class aj extends aV{get canPrompt(){return"WebKitPlaybackTargetAvailabilityEvent"in window}constructor(...t){super(...t),this.type="airplay"}}var aK=new WeakMap,aU=new WeakMap,aH=new WeakSet,aB=new WeakSet;class aQ{constructor(t,e){(0,p._)(this,aH),(0,p._)(this,aB),(0,u._)(this,aK,{writable:!0,value:void 0}),(0,u._)(this,aU,{writable:!0,value:void 0}),(0,c._)(this,aK,t),(0,c._)(this,aU,e),t.textTracks.onaddtrack=(0,_._)(this,aH,az).bind(this),(0,v.onDispose)((0,_._)(this,aB,aX).bind(this))}}function az(t){var e,i,s;let n=t.track;if(!n||(i=(0,o._)(this,aK),s=n,Array.from(i.children).find(t=>t.track===s)))return;let a=new tW({id:n.id,kind:n.kind,label:null!=(e=n.label)?e:"",language:n.language,type:"vtt"});a[tl.native]={track:n},a[tl.readyState]=2,a[tl.nativeHLS]=!0;let l=0,h=t=>{if(n.cues)for(let e=l;e<n.cues.length;e++)a.addCue(n.cues[e],t),l++};h(t),n.oncuechange=h,(0,o._)(this,aU).textTracks.add(a,t),a.setMode(n.mode,t)}function aX(){for(let e of((0,o._)(this,aK).textTracks.onaddtrack=null,(0,o._)(this,aU).textTracks)){var t;let i=null==(t=e[tl.native])?void 0:t.track;(null==i?void 0:i.oncuechange)&&(i.oncuechange=null)}}var aY=new WeakMap,aJ=new WeakMap,aZ=new WeakSet,a0=new WeakSet,a1=new WeakMap;class a2{get active(){return document.pictureInPictureElement===(0,o._)(this,aY)}get supported(){return P((0,o._)(this,aY))}async enter(){return(0,o._)(this,aY).requestPictureInPicture()}exit(){return document.exitPictureInPicture()}constructor(t,e){(0,p._)(this,aZ),(0,p._)(this,a0),(0,u._)(this,aY,{writable:!0,value:void 0}),(0,u._)(this,aJ,{writable:!0,value:void 0}),(0,u._)(this,a1,{writable:!0,value:void 0}),(0,c._)(this,a1,(t,e)=>{(0,o._)(this,aJ).notify("picture-in-picture-change",t,e)}),(0,c._)(this,aY,t),(0,c._)(this,aJ,e),new v.EventsController(t).add("enterpictureinpicture",(0,_._)(this,aZ,a3).bind(this)).add("leavepictureinpicture",(0,_._)(this,a0,a5).bind(this))}}function a3(t){(0,o._)(this,a1).call(this,!0,t)}function a5(t){(0,o._)(this,a1).call(this,!1,t)}var a4=new WeakMap,a9=new WeakMap,a8=new WeakMap,a6=new WeakSet;class a7{get mode(){return(0,o._)(this,a8)}get supported(){return A((0,o._)(this,a4))}async setPresentationMode(t){(0,o._)(this,a8)!==t&&(0,o._)(this,a4).webkitSetPresentationMode(t)}constructor(t,e){(0,p._)(this,a6),(0,u._)(this,a4,{writable:!0,value:void 0}),(0,u._)(this,a9,{writable:!0,value:void 0}),(0,u._)(this,a8,{writable:!0,value:void 0}),(0,c._)(this,a8,"inline"),(0,c._)(this,a4,t),(0,c._)(this,a9,e),(0,v.listenEvent)(t,"webkitpresentationmodechanged",(0,_._)(this,a6,lt).bind(this))}}function lt(t){var e;let i=(0,o._)(this,a8);(0,c._)(this,a8,(0,o._)(this,a4).webkitPresentationMode),null==(e=(0,o._)(this,a9).player)||e.dispatch(new v.DOMEvent("video-presentation-change",{detail:(0,o._)(this,a8),trigger:t})),["fullscreen","picture-in-picture"].forEach(e=>{((0,o._)(this,a8)===e||i===e)&&(0,o._)(this,a9).notify("".concat(e,"-change"),(0,o._)(this,a8)===e,t)})}var le=new WeakMap;class li{get active(){return"fullscreen"===(0,o._)(this,le).mode}get supported(){return(0,o._)(this,le).supported}async enter(){(0,o._)(this,le).setPresentationMode("fullscreen")}async exit(){(0,o._)(this,le).setPresentationMode("inline")}constructor(t){(0,u._)(this,le,{writable:!0,value:void 0}),(0,c._)(this,le,t)}}var ls=new WeakMap;class ln{get active(){return"picture-in-picture"===(0,o._)(this,ls).mode}get supported(){return(0,o._)(this,ls).supported}async enter(){(0,o._)(this,ls).setPresentationMode("picture-in-picture")}async exit(){(0,o._)(this,ls).setPresentationMode("inline")}constructor(t){(0,u._)(this,ls,{writable:!0,value:void 0}),(0,c._)(this,ls,t)}}class la extends aA{get type(){return"video"}setup(){super.setup(),T(this.video)&&new aQ(this.video,this.ctx),this.ctx.textRenderers.attachVideo(this.video),(0,v.onDispose)(()=>{this.ctx.textRenderers.attachVideo(null)}),"video"===this.type&&this.ctx.notify("provider-setup",this)}get video(){return this.media}constructor(t,e){super(t,e),this.$$PROVIDER_TYPE="VIDEO",(0,v.scoped)(()=>{if(this.airPlay=new aj(t,e),A(t)){let i=new a7(t,e);this.fullscreen=new li(i),this.pictureInPicture=new ln(i)}else P(t)&&(this.pictureInPicture=new a2(t,e))},this.scope)}}var ll=Object.freeze({__proto__:null,VideoProvider:la});function lh(t){try{let e=new Intl.DisplayNames(navigator.languages,{type:"language"}).of(t);return null!=e?e:null}catch(t){return null}}let lr=t=>"dash-".concat((0,v.camelToKebabCase)(t));var lo=new WeakMap,lu=new WeakMap,lc=new WeakMap,ld=new WeakMap,l_=new WeakMap,lp=new WeakSet,lf=new WeakSet,lv=new WeakSet,lw=new WeakSet,lg=new WeakMap,lm=new WeakMap,lk=new WeakSet,lb=new WeakSet,ly=new WeakSet,lS=new WeakSet,lW=new WeakSet,l$=new WeakSet,lM=new WeakSet,lx=new WeakSet,lT=new WeakMap,lP=new WeakSet,lA=new WeakSet,lC=new WeakSet,lE=new WeakSet,lq=new WeakSet,lD=new WeakSet,lO=new WeakSet,lL=new WeakSet;class lI{get instance(){return(0,o._)(this,lc)}setup(t){(0,c._)(this,lc,t().create());let e=(0,_._)(this,lw,lR).bind(this);for(let i of Object.values(t.events))(0,o._)(this,lc).on(i,e);for(let e of((0,o._)(this,lc).on(t.events.ERROR,(0,_._)(this,l$,lB).bind(this)),(0,o._)(this,ld)))e((0,o._)(this,lc));(0,o._)(this,lu).player.dispatch("dash-instance",{detail:(0,o._)(this,lc)}),(0,o._)(this,lc).initialize((0,o._)(this,lo),void 0,!1),(0,o._)(this,lc).updateSettings({streaming:{text:{defaultEnabled:!1,dispatchForManualRendering:!0},buffer:{fastSwitchEnabled:!0}},...this.config}),(0,o._)(this,lc).on(t.events.FRAGMENT_LOADING_STARTED,(0,_._)(this,lM,lQ).bind(this)),(0,o._)(this,lc).on(t.events.FRAGMENT_LOADING_COMPLETED,(0,_._)(this,lx,lz).bind(this)),(0,o._)(this,lc).on(t.events.MANIFEST_LOADED,(0,_._)(this,lW,lH).bind(this)),(0,o._)(this,lc).on(t.events.QUALITY_CHANGE_RENDERED,(0,_._)(this,lS,lU).bind(this)),(0,o._)(this,lc).on(t.events.TEXT_TRACKS_ADDED,(0,_._)(this,lb,lj).bind(this)),(0,o._)(this,lc).on(t.events.TRACK_CHANGE_RENDERED,(0,_._)(this,ly,lK).bind(this)),(0,o._)(this,lu).qualities[io.enableAuto]=(0,_._)(this,lE,lZ).bind(this),(0,v.listenEvent)((0,o._)(this,lu).qualities,"change",(0,_._)(this,lD,l1).bind(this)),(0,v.listenEvent)((0,o._)(this,lu).audioTracks,"change",(0,_._)(this,lO,l2).bind(this)),(0,c._)(this,l_,(0,v.effect)((0,_._)(this,lf,lV).bind(this)))}onInstance(t){return(0,o._)(this,ld).add(t),()=>(0,o._)(this,ld).delete(t)}loadSource(t){var e;(0,_._)(this,lL,l3).call(this),(0,v.isString)(t.src)&&(null==(e=(0,o._)(this,lc))||e.attachSource(t.src))}destroy(){var t,e;(0,_._)(this,lL,l3).call(this),null==(t=(0,o._)(this,lc))||t.destroy(),(0,c._)(this,lc,null),null==(e=(0,o._)(this,l_))||e.call(this),(0,c._)(this,l_,null)}constructor(t,e){(0,p._)(this,lp),(0,p._)(this,lf),(0,p._)(this,lv),(0,p._)(this,lw),(0,p._)(this,lk),(0,p._)(this,lb),(0,p._)(this,ly),(0,p._)(this,lS),(0,p._)(this,lW),(0,p._)(this,l$),(0,p._)(this,lM),(0,p._)(this,lx),(0,p._)(this,lP),(0,p._)(this,lA),(0,p._)(this,lC),(0,p._)(this,lE),(0,p._)(this,lq),(0,p._)(this,lD),(0,p._)(this,lO),(0,p._)(this,lL),(0,u._)(this,lo,{writable:!0,value:void 0}),(0,u._)(this,lu,{writable:!0,value:void 0}),(0,u._)(this,lc,{writable:!0,value:void 0}),(0,u._)(this,ld,{writable:!0,value:void 0}),(0,u._)(this,l_,{writable:!0,value:void 0}),(0,u._)(this,lg,{writable:!0,value:void 0}),(0,u._)(this,lm,{writable:!0,value:void 0}),(0,u._)(this,lT,{writable:!0,value:void 0}),(0,c._)(this,lc,null),(0,c._)(this,ld,new Set),(0,c._)(this,l_,null),this.config={},(0,c._)(this,lg,null),(0,c._)(this,lm,{}),(0,c._)(this,lT,-1),(0,c._)(this,lo,t),(0,c._)(this,lu,e)}}function lF(t){return new v.DOMEvent(lr(t.type),{detail:t})}function lV(){if(!(0,o._)(this,lu).$state.live())return;let t=new s6((0,_._)(this,lv,lN).bind(this));return t.start(),t.stop.bind(t)}function lN(){if(!(0,o._)(this,lc))return;let t=(0,o._)(this,lc).duration()-(0,o._)(this,lc).time();(0,o._)(this,lu).$state.liveSyncPosition.set(isNaN(t)?1/0:t)}function lR(t){var e;null==(e=(0,o._)(this,lu).player)||e.dispatch((0,_._)(this,lp,lF).call(this,t))}function lG(t){var e,i;let s=null==(e=(0,o._)(this,lg))?void 0:e[tl.native],n=(null==s?void 0:s.track).cues;if(!s||!n)return;let a=(0,o._)(this,lg).id,l=null!=(i=(0,o._)(this,lm)[a])?i:0,h=(0,_._)(this,lp,lF).call(this,t);for(let t=l;t<n.length;t++){let e=n[t];e.positionAlign||(e.positionAlign="auto"),(0,o._)(this,lg).addCue(e,h)}(0,o._)(this,lm)[a]=n.length}function lj(t){if(!(0,o._)(this,lc))return;let e=t.tracks,i=[...(0,o._)(this,lo).textTracks].filter(t=>"manualMode"in t),s=(0,_._)(this,lp,lF).call(this,t);for(let t=0;t<i.length;t++){var n,a,l,h,r,u;let d=e[t],_=i[t],p=new tW({id:"dash-".concat(d.kind,"-").concat(t),label:null!=(r=null!=(h=null!=(l=null!=(a=null==d?void 0:d.label)?a:null==(n=d.labels.find(t=>t.text))?void 0:n.text)?l:(null==d?void 0:d.lang)&&lh(d.lang))?h:null==d?void 0:d.lang)?r:void 0,language:null!=(u=d.lang)?u:void 0,kind:d.kind,default:d.defaultTrack});p[tl.native]={managed:!0,track:_},p[tl.readyState]=2,p[tl.onModeChange]=()=>{(0,o._)(this,lc)&&("showing"===p.mode?((0,o._)(this,lc).setTextTrack(t),(0,c._)(this,lg,p)):((0,o._)(this,lc).setTextTrack(-1),(0,c._)(this,lg,null)))},(0,o._)(this,lu).textTracks.add(p,s)}}function lK(t){let{mediaType:e,newMediaInfo:i}=t;if("audio"===e){let e=(0,o._)(this,lu).audioTracks.getById("dash-audio-".concat(i.index));if(e){let i=(0,_._)(this,lp,lF).call(this,t);(0,o._)(this,lu).audioTracks[t8.select](e,!0,i)}}}function lU(t){if("video"!==t.mediaType)return;let e=(0,o._)(this,lu).qualities[t.newQuality];if(e){let i=(0,_._)(this,lp,lF).call(this,t);(0,o._)(this,lu).qualities[t8.select](e,!0,i)}}function lH(t){if((0,o._)(this,lu).$state.canPlay()||!(0,o._)(this,lc))return;let{type:e,mediaPresentationDuration:i}=t.data,s=(0,_._)(this,lp,lF).call(this,t);(0,o._)(this,lu).notify("stream-type-change","static"!==e?"live":"on-demand",s),(0,o._)(this,lu).notify("duration-change",i,s),(0,o._)(this,lu).qualities[io.setAuto](!0,s);let n=(0,o._)(this,lc).getVideoElement(),a=(0,o._)(this,lc).getTracksForTypeFromManifest("video",t.data),l=[...new Set(a.map(t=>t.mimeType))].find(t=>t&&x(n,t)),h=a.filter(t=>l===t.mimeType)[0],r=(0,o._)(this,lc).getTracksForTypeFromManifest("audio",t.data),u=[...new Set(r.map(t=>t.mimeType))].find(t=>t&&M(n,t));if(r=r.filter(t=>u===t.mimeType),h.bitrateList.forEach((t,e)=>{var i,n,a,l,r;let u={id:null!=(n=null==(i=t.id)?void 0:i.toString())?n:"dash-bitrate-".concat(e),width:null!=(a=t.width)?a:0,height:null!=(l=t.height)?l:0,bitrate:null!=(r=t.bandwidth)?r:0,codec:h.codec,index:e};(0,o._)(this,lu).qualities[t8.add](u,s)}),(0,v.isNumber)(h.index)){let t=(0,o._)(this,lu).qualities[h.index];t&&(0,o._)(this,lu).qualities[t8.select](t,!0,s)}r.forEach((t,e)=>{var i,n,a,l;let h=t.labels.find(t=>navigator.languages.some(e=>t.lang&&e.toLowerCase().startsWith(t.lang.toLowerCase())))||t.labels[0],r={id:"dash-audio-".concat(null==t?void 0:t.index),label:null!=(a=null!=(n=null!=(i=null==h?void 0:h.text)?i:t.lang&&lh(t.lang))?n:t.lang)?a:"",language:null!=(l=t.lang)?l:"",kind:"main",mimeType:t.mimeType,codec:t.codec,index:e};(0,o._)(this,lu).audioTracks[t8.add](r,s)}),n.dispatchEvent(new v.DOMEvent("canplay",{trigger:s}))}function lB(t){let{type:e,error:i}=t;27===i.code?(0,_._)(this,lP,lX).call(this,i):(0,_._)(this,lC,lJ).call(this,i)}function lQ(){(0,o._)(this,lT)>=0&&(0,_._)(this,lA,lY).call(this)}function lz(t){"text"===t.mediaType&&requestAnimationFrame((0,_._)(this,lk,lG).bind(this,t))}function lX(t){var e;(0,_._)(this,lA,lY).call(this),null==(e=(0,o._)(this,lc))||e.play(),(0,c._)(this,lT,window.setTimeout(()=>{(0,c._)(this,lT,-1),(0,_._)(this,lC,lJ).call(this,t)},5e3))}function lY(){clearTimeout((0,o._)(this,lT)),(0,c._)(this,lT,-1)}function lJ(t){var e;(0,o._)(this,lu).notify("error",{message:null!=(e=t.message)?e:"",code:1,error:t})}function lZ(){var t;(0,_._)(this,lq,l0).call(this,"video",!0);let{qualities:e}=(0,o._)(this,lu);null==(t=(0,o._)(this,lc))||t.setQualityFor("video",e.selectedIndex,!0)}function l0(t,e){var i;null==(i=(0,o._)(this,lc))||i.updateSettings({streaming:{abr:{autoSwitchBitrate:{[t]:e}}}})}function l1(){let{qualities:t}=(0,o._)(this,lu);(0,o._)(this,lc)&&!t.auto&&t.selected&&((0,_._)(this,lq,l0).call(this,"video",!1),(0,o._)(this,lc).setQualityFor("video",t.selectedIndex,"current"===t.switch),S&&((0,o._)(this,lo).currentTime=(0,o._)(this,lo).currentTime))}function l2(){if(!(0,o._)(this,lc))return;let{audioTracks:t}=(0,o._)(this,lu),e=(0,o._)(this,lc).getTracksFor("audio").find(e=>t.selected&&t.selected.id==="dash-audio-".concat(e.index));e&&(0,o._)(this,lc).setCurrentTrack(e)}function l3(){(0,_._)(this,lA,lY).call(this),(0,c._)(this,lg,null),(0,c._)(this,lm,{})}function l5(t){return t instanceof Error?t:Error("string"==typeof t?t:JSON.stringify(t))}function l4(t,e){if(!t)throw Error("Assertion failed.")}var l9=new WeakMap,l8=new WeakMap,l6=new WeakMap,l7=new WeakSet,ht=new WeakSet,he=new WeakSet,hi=new WeakSet;class hs{constructor(t,e,i){(0,p._)(this,l7),(0,p._)(this,ht),(0,p._)(this,he),(0,p._)(this,hi),(0,u._)(this,l9,{writable:!0,value:void 0}),(0,u._)(this,l8,{writable:!0,value:void 0}),(0,u._)(this,l6,{writable:!0,value:void 0}),(0,c._)(this,l9,t),(0,c._)(this,l8,e),(0,c._)(this,l6,i),(0,_._)(this,l7,hn).call(this)}}async function hn(){let t={onLoadStart:(0,_._)(this,ht,ha).bind(this),onLoaded:(0,_._)(this,he,hl).bind(this),onLoadError:(0,_._)(this,hi,hh).bind(this)},e=await ho((0,o._)(this,l9),t);return((0,v.isUndefined)(e)&&!(0,v.isString)((0,o._)(this,l9))&&(e=await hr((0,o._)(this,l9),t)),e)?window.dashjs.supportsMediaSource()?e:((0,o._)(this,l8).player.dispatch(new v.DOMEvent("dash-unsupported")),(0,o._)(this,l8).notify("error",{message:"[vidstack] `dash.js` is not supported in this environment",code:4}),null):null}function ha(){(0,o._)(this,l8).player.dispatch(new v.DOMEvent("dash-lib-load-start"))}function hl(t){(0,o._)(this,l8).player.dispatch(new v.DOMEvent("dash-lib-loaded",{detail:t})),(0,o._)(this,l6).call(this,t)}function hh(t){let e=l5(t);(0,o._)(this,l8).player.dispatch(new v.DOMEvent("dash-lib-load-error",{detail:e})),(0,o._)(this,l8).notify("error",{message:e.message,code:4,error:e})}async function hr(t){var e,i,s,n,a,l,h,r;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,v.isUndefined)(t)){if(null==(e=o.onLoadStart)||e.call(o),(r=t)&&r.prototype&&r.prototype!==Function)return null==(i=o.onLoaded)||i.call(o,t),t;if(hu(t)){let e=t.MediaPlayer;return null==(s=o.onLoaded)||s.call(o,e),e}try{let e=null==(n=await t())?void 0:n.default;if(hu(e))return null==(a=o.onLoaded)||a.call(o,e.MediaPlayer),e.MediaPlayer;if(e)null==(l=o.onLoaded)||l.call(o,e);else throw Error("");return e}catch(t){null==(h=o.onLoadError)||h.call(o,t)}}}async function ho(t){var e,i,s;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,v.isString)(t)){null==(e=n.onLoadStart)||e.call(n);try{if(await Z(t),!(0,v.isFunction)(window.dashjs.MediaPlayer))throw Error("");let e=window.dashjs.MediaPlayer;return null==(i=n.onLoaded)||i.call(n,e),e}catch(t){null==(s=n.onLoadError)||s.call(n,t)}}}function hu(t){return t&&"MediaPlayer"in t}var hc=new WeakMap,hd=new WeakMap,h_=new WeakMap;class hp extends la{get ctor(){return(0,o._)(this,hc)}get instance(){return(0,o._)(this,hd).instance}get type(){return"dash"}get canLiveSync(){return!0}get config(){return(0,o._)(this,hd).config}set config(t){(0,o._)(this,hd).config=t}get library(){return(0,o._)(this,h_)}set library(t){(0,c._)(this,h_,t)}preconnect(){(0,v.isString)((0,o._)(this,h_))&&Y((0,o._)(this,h_))}setup(){super.setup(),new hs((0,o._)(this,h_),this.ctx,t=>{(0,c._)(this,hc,t),(0,o._)(this,hd).setup(t),this.ctx.notify("provider-setup",this);let e=(0,v.peek)(this.ctx.$state.source);e&&this.loadSource(e)})}async loadSource(t,e){if(!(0,v.isString)(t.src))return void this.removeSource();this.media.preload=e||"",this.appendSource(t,"application/x-mpegurl"),(0,o._)(this,hd).loadSource(t),this.currentSrc=t}onInstance(t){let e=(0,o._)(this,hd).instance;return e&&t(e),(0,o._)(this,hd).onInstance(t)}destroy(){(0,o._)(this,hd).destroy()}constructor(...t){super(...t),(0,u._)(this,hc,{writable:!0,value:void 0}),(0,u._)(this,hd,{writable:!0,value:void 0}),(0,u._)(this,h_,{writable:!0,value:void 0}),this.$$PROVIDER_TYPE="DASH",(0,c._)(this,hc,null),(0,c._)(this,hd,new lI(this.video,this.ctx)),(0,c._)(this,h_,"".concat("https://cdn.jsdelivr.net","/npm/dashjs@4.7.4/dist/dash",".all.min.js"))}}hp.supported=E();var hf=Object.freeze({__proto__:null,DASHProvider:hp});class hv extends sO{canPlay(t){return hv.supported&&Q(t)}async load(t){if(m)throw Error("[vidstack] can not load dash provider server-side");return new(await Promise.resolve().then(function(){return hf})).DASHProvider(this.target,t)}constructor(...t){super(...t),this.name="dash"}}hv.supported=E();class hw{preconnect(){for(let t of["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"])Y(t)}canPlay(t){return(0,v.isString)(t.src)&&"video/vimeo"===t.type}mediaType(){return"video"}async load(t){if(m)throw Error("[vidstack] can not load vimeo provider server-side");return new(await i.e(880).then(i.bind(i,5880))).VimeoProvider(this.target,t)}async loadPoster(t,e,s){let{resolveVimeoVideoId:n,getVimeoVideoInfo:a}=await i.e(60).then(i.bind(i,5060));if(!(0,v.isString)(t.src))return null;let{videoId:l,hash:h}=n(t.src);return l?a(l,s,h).then(t=>t?t.poster:null):null}constructor(){this.name="vimeo"}}class hg{preconnect(){for(let t of["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"])Y(t)}canPlay(t){return(0,v.isString)(t.src)&&"video/youtube"===t.type}mediaType(){return"video"}async load(t){if(m)throw Error("[vidstack] can not load youtube provider server-side");return new(await i.e(892).then(i.bind(i,8892))).YouTubeProvider(this.target,t)}async loadPoster(t,e,s){let{findYouTubePoster:n,resolveYouTubeVideoId:a}=await i.e(412).then(i.bind(i,8412)),l=(0,v.isString)(t.src)&&a(t.src);return l?n(l,s):null}constructor(){this.name="youtube"}}function hm(t,e){let i=String(t),s=i.length;if(s<e){let i="0".repeat(e-s);return"".concat(i).concat(t)}return i}function hk(t){let e=Math.trunc(t/3600),i=Math.trunc(t%3600/60);return{hours:e,minutes:i,seconds:Math.trunc(t%60),fraction:Number((t-Math.trunc(t)).toPrecision(3))}}function hb(t){let{padHrs:e=null,padMins:i=null,showHrs:s=!1,showMs:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{hours:a,minutes:l,seconds:h,fraction:r}=hk(t),o=e?hm(a,2):a,u=i||(0,v.isNull)(i)&&t>=3600?hm(l,2):l,c=hm(h,2),d=n&&r>0?".".concat(String(r).replace(/^0?\./,"")):"",_="".concat(u,":").concat(c).concat(d);return a>0||s?"".concat(o,":").concat(_):_}function hy(t){let e=[],{hours:i,minutes:s,seconds:n}=hk(t);return i>0&&e.push("".concat(i," hour")),s>0&&e.push("".concat(s," min")),(n>0||0===e.length)&&e.push("".concat(n," sec")),e.join(" ")}let hS=Symbol(0),hW=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"];var h$=new WeakMap,hM=new WeakMap;class hx extends iw{async onAttach(t){if(m)return;let e=this.$props[(0,o._)(this,h$)]();if("eager"===e)requestAnimationFrame((0,o._)(this,hM));else if("idle"===e)(0,v.waitIdlePeriod)((0,o._)(this,hM));else if("visible"===e){let e,i=new IntersectionObserver(t=>{this.scope&&t[0].isIntersecting&&(null==e||e(),e=void 0,(0,o._)(this,hM).call(this))});i.observe(t),e=(0,v.onDispose)(()=>i.disconnect())}}constructor(t,e){super(),(0,u._)(this,h$,{writable:!0,value:void 0}),(0,u._)(this,hM,{writable:!0,value:void 0}),(0,c._)(this,h$,t),(0,c._)(this,hM,e)}}var hT=new WeakMap,hP=new WeakMap,hA=new WeakSet;class hC{notify(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];m||(0,o._)(this,hT).call(this,new v.DOMEvent(t,{detail:null==i?void 0:i[0],trigger:null==i?void 0:i[1]}))}async ready(t,e){if(!m)return(0,v.untrack)(async()=>{var i,s,n,a,l,h,r,u,c,d,p,f,w,g,m;let{logger:k}=(0,o._)(this,hP),{autoPlay:b,canPlay:y,started:S,duration:W,seekable:$,buffered:M,remotePlaybackInfo:x,playsInline:T,savedState:P,source:A}=(0,o._)(this,hP).$state;if(y())return;let C={duration:null!=(a=null==t?void 0:t.duration)?a:W(),seekable:null!=(l=null==t?void 0:t.seekable)?l:$(),buffered:null!=(h=null==t?void 0:t.buffered)?h:M(),provider:(0,o._)(this,hP).$provider()};this.notify("can-play",C,e),(0,v.tick)();let E=(0,o._)(this,hP).$provider(),{storage:q,qualities:D}=(0,o._)(this,hP),{muted:O,volume:L,clipStartTime:I,playbackRate:F}=(0,o._)(this,hP).$props;await (null==q||null==(i=q.onLoad)?void 0:i.call(q,A()));let V=null==(s=P())?void 0:s.currentTime,N=null==(n=P())?void 0:n.paused,R=await (null==q?void 0:q.getTime()),G=null!=(r=null!=V?V:R)?r:I(),j=!1===N||!0!==N&&!S()&&b();if(E){E.setVolume(null!=(f=await (null==q?void 0:q.getVolume()))?f:L()),E.setMuted(O()||!!await (null==q?void 0:q.getMuted()));let t=null!=(w=await (null==q?void 0:q.getAudioGain()))?w:1;t>1&&(null==(c=E.audioGain)||null==(u=c.setGain)||u.call(c,t)),null==(d=E.setPlaybackRate)||d.call(E,null!=(g=await (null==q?void 0:q.getPlaybackRate()))?g:F()),null==(p=E.setPlaysInline)||p.call(E,T()),G>0&&E.setCurrentTime(G)}let K=await (null==q?void 0:q.getVideoQuality());if(K&&D.length){let t=null,e=1/0;for(let i of D){let s=Math.abs(K.width-i.width)+Math.abs(K.height-i.height)+(K.bitrate?Math.abs(K.bitrate-(null!=(m=i.bitrate)?m:0)):0);s<e&&(t=i,e=s)}t&&(t.selected=!0)}y()&&j?await (0,_._)(this,hA,hE).call(this,e):R&&R>0&&this.notify("started",void 0,e),x.set(null)})}constructor(t,e){(0,p._)(this,hA),(0,u._)(this,hT,{writable:!0,value:void 0}),(0,u._)(this,hP,{writable:!0,value:void 0}),(0,c._)(this,hT,t),(0,c._)(this,hP,e)}}async function hE(t){let{player:e,$state:{autoPlaying:i,muted:s}}=(0,o._)(this,hP);i.set(!0);let n=new v.DOMEvent("auto-play-attempt",{trigger:t});try{await e.play(n)}catch(t){}}var hq=new WeakMap;class hD{enqueue(t,e){(0,o._)(this,hq).set(t,e)}serve(t){let e=this.peek(t);return(0,o._)(this,hq).delete(t),e}peek(t){return(0,o._)(this,hq).get(t)}delete(t){(0,o._)(this,hq).delete(t)}clear(){(0,o._)(this,hq).clear()}constructor(){(0,u._)(this,hq,{writable:!0,value:void 0}),(0,c._)(this,hq,new Map)}}var hO=new WeakMap,hL=new WeakMap,hI=new WeakMap,hF=new WeakSet,hV=new WeakSet;class hN{get size(){return(0,o._)(this,hI).size}get isServing(){return(0,o._)(this,hO)}async waitForFlush(){(0,o._)(this,hO)||await (0,o._)(this,hL).promise}enqueue(t,e){if((0,o._)(this,hO))return void e();(0,o._)(this,hI).delete(t),(0,o._)(this,hI).set(t,e)}serve(t){var e;null==(e=(0,o._)(this,hI).get(t))||e(),(0,o._)(this,hI).delete(t)}start(){(0,_._)(this,hF,hR).call(this),(0,c._)(this,hO,!0),(0,o._)(this,hI).size>0&&(0,_._)(this,hF,hR).call(this)}stop(){(0,c._)(this,hO,!1)}reset(){this.stop(),(0,o._)(this,hI).clear(),(0,_._)(this,hV,hG).call(this)}constructor(){(0,p._)(this,hF),(0,p._)(this,hV),(0,u._)(this,hO,{writable:!0,value:void 0}),(0,u._)(this,hL,{writable:!0,value:void 0}),(0,u._)(this,hI,{writable:!0,value:void 0}),(0,c._)(this,hO,!1),(0,c._)(this,hL,(0,v.deferredPromise)()),(0,c._)(this,hI,new Map)}}function hR(){for(let t of(0,o._)(this,hI).keys())this.serve(t);(0,_._)(this,hV,hG).call(this)}function hG(){(0,o._)(this,hL).resolve(),(0,c._)(this,hL,(0,v.deferredPromise)())}function hj(t){return()=>t()?"true":"false"}var hK=new WeakMap,hU=new WeakMap,hH=new WeakMap,hB=new WeakMap,hQ=new WeakMap,hz=new WeakMap,hX=new WeakMap,hY=new WeakSet,hJ=new WeakSet,hZ=new WeakSet,h0=new WeakSet,h1=new WeakMap,h2=new WeakSet,h3=new WeakSet,h5=new WeakSet,h4=new WeakSet,h9=new WeakSet,h8=new WeakSet,h6=new WeakSet,h7=new WeakSet,rt=new WeakMap,re=new WeakSet,ri=new WeakSet,rs=new WeakSet,rn=new WeakSet;class ra extends iw{onAttach(){this.listen("fullscreen-change",(0,_._)(this,re,rg).bind(this))}onConnect(t){let e=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),i=new v.EventsController(t),s=(0,_._)(this,hZ,rr).bind(this);for(let t of e)t.startsWith("media-")&&i.add(t,s);(0,_._)(this,hY,rl).call(this),(0,v.effect)((0,_._)(this,hJ,rh).bind(this)),(0,v.effect)((0,_._)(this,h5,rd).bind(this)),(0,v.effect)((0,_._)(this,h4,r_).bind(this)),(0,v.effect)((0,_._)(this,h9,rp).bind(this)),(0,v.effect)((0,_._)(this,h8,rf).bind(this)),(0,v.effect)((0,_._)(this,h6,rv).bind(this)),(0,v.effect)((0,_._)(this,h7,rw).bind(this))}onDestroy(){try{let t=this.createEvent("destroy"),{pictureInPicture:e,fullscreen:i}=this.$state;i()&&this.exitFullscreen("prefer-media",t),e()&&this.exitPictureInPicture(t)}catch(t){}(0,o._)(this,hX).reset()}async play(t){if(m)return;let{canPlay:e,paused:i,autoPlaying:s}=this.$state;if((0,_._)(this,h0,ro).call(this,t)||!(0,v.peek)(i))return;t&&(0,o._)(this,hU).queue.enqueue("media-play-request",t);let n=(0,v.peek)(s);try{let t=(0,v.peek)((0,o._)(this,hz));return rb(t,(0,v.peek)(e)),function(t){if("undefined"!=typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches&&t)throw Error("[vidstack] autoplay blocked")}(n),await t.play()}catch(i){let e=this.createEvent("play-fail",{detail:l5(i),trigger:t});throw e.autoPlay=n,(0,o._)(this,hK).handle(e),i}}async pause(t){if(m)return;let{canPlay:e,paused:i}=this.$state;if(!(0,v.peek)(i)){t&&(0,o._)(this,hU).queue.enqueue("media-pause-request",t);try{let t=(0,v.peek)((0,o._)(this,hz));return rb(t,(0,v.peek)(e)),await t.pause()}catch(t){throw(0,o._)(this,hU).queue.delete("media-pause-request"),t}}}setAudioGain(t,e){let{audioGain:i,canSetAudioGain:s}=this.$state;if(i()===t)return;let n=(0,o._)(this,hz).call(this);if(!(null==n?void 0:n.audioGain)||!s())throw Error("[vidstack] audio gain api not available");e&&(0,o._)(this,hU).queue.enqueue("media-audio-gain-change-request",e),n.audioGain.setGain(t)}seekToLiveEdge(t){var e;if(m)return;let{canPlay:i,live:s,liveEdge:n,canSeek:a,liveSyncPosition:l,seekableEnd:h,userBehindLiveEdge:r}=this.$state;if(r.set(!1),(0,v.peek)(()=>!s()||n()||!a()))return;let u=(0,v.peek)((0,o._)(this,hz));rb(u,(0,v.peek)(i)),t&&(0,o._)(this,hU).queue.enqueue("media-seek-request",t);let c=h()-2;u.setCurrentTime(Math.min(c,null!=(e=l())?e:c))}async enterFullscreen(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prefer-media",e=arguments.length>1?arguments[1]:void 0;if(m)return;let i=(0,_._)(this,h2,ru).call(this,t);if(ry(t,i),!i.active)return(0,v.peek)(this.$state.pictureInPicture)&&((0,c._)(this,h1,!0),await this.exitPictureInPicture(e)),e&&(0,o._)(this,hU).queue.enqueue("media-enter-fullscreen-request",e),i.enter()}async exitFullscreen(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prefer-media",e=arguments.length>1?arguments[1]:void 0;if(m)return;let i=(0,_._)(this,h2,ru).call(this,t);if(ry(t,i),i.active){e&&(0,o._)(this,hU).queue.enqueue("media-exit-fullscreen-request",e);try{let t=await i.exit();return(0,o._)(this,h1)&&(0,v.peek)(this.$state.canPictureInPicture)&&await this.enterPictureInPicture(),t}finally{(0,c._)(this,h1,!1)}}}async enterPictureInPicture(t){if(!m&&((0,_._)(this,h3,rc).call(this),!this.$state.pictureInPicture()))return t&&(0,o._)(this,hU).queue.enqueue("media-enter-pip-request",t),await (0,o._)(this,hz).call(this).pictureInPicture.enter()}async exitPictureInPicture(t){if(!m&&((0,_._)(this,h3,rc).call(this),this.$state.pictureInPicture()))return t&&(0,o._)(this,hU).queue.enqueue("media-exit-pip-request",t),await (0,o._)(this,hz).call(this).pictureInPicture.exit()}async "media-airplay-request"(t){try{await this.requestAirPlay(t)}catch(t){}}async requestAirPlay(t){try{var e;let i=null==(e=(0,o._)(this,hz).call(this))?void 0:e.airPlay;if(!(null==i?void 0:i.supported))throw Error("No AirPlay adapter.");return t&&(0,o._)(this,hU).queue.enqueue("media-airplay-request",t),await i.prompt()}catch(t){throw(0,o._)(this,hU).queue.delete("media-airplay-request"),t}}async "media-google-cast-request"(t){try{await this.requestGoogleCast(t)}catch(t){}}async requestGoogleCast(t){try{let{canGoogleCast:e}=this.$state;if(!(0,v.peek)(e)){let t=Error("Cast not available.");throw t.code="CAST_NOT_AVAILABLE",t}if(Y("https://www.gstatic.com"),!(0,o._)(this,rt)){let t=await i.e(45).then(i.bind(i,9045)).then(function(t){return t.loader});(0,c._)(this,rt,new t.GoogleCastLoader)}await (0,o._)(this,rt).prompt((0,o._)(this,hH)),t&&(0,o._)(this,hU).queue.enqueue("media-google-cast-request",t);let s="disconnected"!==(0,v.peek)(this.$state.remotePlaybackState);s&&this.$state.savedState.set({paused:(0,v.peek)(this.$state.paused),currentTime:(0,v.peek)(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(s?(0,o._)(this,rt):null)}catch(t){throw(0,o._)(this,hU).queue.delete("media-google-cast-request"),t}}"media-clip-start-change-request"(t){let{clipStartTime:e}=this.$state;e.set(t.detail)}"media-clip-end-change-request"(t){let{clipEndTime:e}=this.$state;e.set(t.detail),this.dispatch("duration-change",{detail:t.detail,trigger:t})}"media-duration-change-request"(t){let{providedDuration:e,clipEndTime:i}=this.$state;e.set(t.detail),0>=i()&&this.dispatch("duration-change",{detail:t.detail,trigger:t})}"media-audio-track-change-request"(t){let{logger:e,audioTracks:i}=(0,o._)(this,hH);if(i.readonly)return;let s=i[t.detail];if(s){let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),s.selected=!0}}async "media-enter-fullscreen-request"(t){try{await this.enterFullscreen(t.detail,t)}catch(e){(0,_._)(this,ri,rm).call(this,e,t)}}async "media-exit-fullscreen-request"(t){try{await this.exitFullscreen(t.detail,t)}catch(e){(0,_._)(this,ri,rm).call(this,e,t)}}async "media-orientation-lock-request"(t){let e=t.type;try{(0,o._)(this,hU).queue.enqueue(e,t),await (0,o._)(this,hQ).lock(t.detail)}catch(t){(0,o._)(this,hU).queue.delete(e)}}async "media-orientation-unlock-request"(t){let e=t.type;try{(0,o._)(this,hU).queue.enqueue(e,t),await (0,o._)(this,hQ).unlock()}catch(t){(0,o._)(this,hU).queue.delete(e)}}async "media-enter-pip-request"(t){try{await this.enterPictureInPicture(t)}catch(e){(0,_._)(this,rs,rk).call(this,e,t)}}async "media-exit-pip-request"(t){try{await this.exitPictureInPicture(t)}catch(e){(0,_._)(this,rs,rk).call(this,e,t)}}"media-live-edge-request"(t){let{live:e,liveEdge:i,canSeek:s}=this.$state;if(!(!e()||i())&&s()){(0,o._)(this,hU).queue.enqueue("media-seek-request",t);try{this.seekToLiveEdge()}catch(t){(0,o._)(this,hU).queue.delete("media-seek-request")}}}async "media-loop-request"(t){try{(0,o._)(this,hU).looping=!0,(0,o._)(this,hU).replaying=!0,await this.play(t)}catch(t){(0,o._)(this,hU).looping=!1}}"media-user-loop-change-request"(t){this.$state.userPrefersLoop.set(t.detail)}async "media-pause-request"(t){if(!this.$state.paused())try{await this.pause(t)}catch(t){}}async "media-play-request"(t){if(this.$state.paused())try{await this.play(t)}catch(t){}}"media-rate-change-request"(t){let{playbackRate:e,canSetPlaybackRate:i}=this.$state;if(e()===t.detail||!i())return;let s=(0,o._)(this,hz).call(this);(null==s?void 0:s.setPlaybackRate)&&((0,o._)(this,hU).queue.enqueue("media-rate-change-request",t),s.setPlaybackRate(t.detail))}"media-audio-gain-change-request"(t){try{this.setAudioGain(t.detail,t)}catch(t){}}"media-quality-change-request"(t){var e,i;let{qualities:s,storage:n,logger:a}=(0,o._)(this,hH);if(s.readonly)return;(0,o._)(this,hU).queue.enqueue("media-quality-change-request",t);let l=t.detail;if(l<0)s.autoSelect(t),t.isOriginTrusted&&(null==n||null==(e=n.setVideoQuality)||e.call(n,null));else{let e=s[l];e&&(e.selected=!0,t.isOriginTrusted&&(null==n||null==(i=n.setVideoQuality)||i.call(n,{id:e.id,width:e.width,height:e.height,bitrate:e.bitrate})))}}"media-pause-controls-request"(t){let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),this.controls.pause(t)}"media-resume-controls-request"(t){let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),this.controls.resume(t)}"media-seek-request"(t){let{canSeek:e,ended:i,live:s,seekableEnd:n,userBehindLiveEdge:a}=this.$state,l=t.detail;i()&&((0,o._)(this,hU).replaying=!0);let h=t.type;(0,o._)(this,hU).seeking=!1,(0,o._)(this,hU).queue.delete(h);let r=tR(l,this.$state);Number.isFinite(r)&&e()&&((0,o._)(this,hU).queue.enqueue(h,t),(0,o._)(this,hz).call(this).setCurrentTime(r),s()&&t.isOriginTrusted&&Math.abs(n()-r)>=2&&a.set(!0))}"media-seeking-request"(t){let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),this.$state.seeking.set(!0),(0,o._)(this,hU).seeking=!0}"media-start-loading"(t){if(this.$state.canLoad())return;let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),(0,o._)(this,hK).handle(this.createEvent("can-load"))}"media-poster-start-loading"(t){if(this.$state.canLoadPoster())return;let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),(0,o._)(this,hK).handle(this.createEvent("can-load-poster"))}"media-text-track-change-request"(t){let{index:e,mode:i}=t.detail,s=(0,o._)(this,hH).textTracks[e];if(s){let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),s.setMode(i,t)}}"media-mute-request"(t){if(this.$state.muted())return;let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),(0,o._)(this,hz).call(this).setMuted(!0)}"media-unmute-request"(t){let{muted:e,volume:i}=this.$state;if(!e())return;let s=t.type;(0,o._)(this,hU).queue.enqueue(s,t),(0,o._)(this,hH).$provider().setMuted(!1),0===i()&&((0,o._)(this,hU).queue.enqueue(s,t),(0,o._)(this,hz).call(this).setVolume(.25))}"media-volume-change-request"(t){let{muted:e,volume:i}=this.$state,s=t.detail;if(i()===s)return;let n=t.type;(0,o._)(this,hU).queue.enqueue(n,t),(0,o._)(this,hz).call(this).setVolume(s),s>0&&e()&&((0,o._)(this,hU).queue.enqueue(n,t),(0,o._)(this,hz).call(this).setMuted(!1))}constructor(t,e,i){super(),(0,p._)(this,hY),(0,p._)(this,hJ),(0,p._)(this,hZ),(0,p._)(this,h0),(0,p._)(this,h2),(0,p._)(this,h3),(0,p._)(this,h5),(0,p._)(this,h4),(0,p._)(this,h9),(0,p._)(this,h8),(0,p._)(this,h6),(0,p._)(this,h7),(0,p._)(this,re),(0,p._)(this,ri),(0,p._)(this,rs),(0,p._)(this,rn),(0,u._)(this,hK,{writable:!0,value:void 0}),(0,u._)(this,hU,{writable:!0,value:void 0}),(0,u._)(this,hH,{writable:!0,value:void 0}),(0,u._)(this,hB,{writable:!0,value:void 0}),(0,u._)(this,hQ,{writable:!0,value:void 0}),(0,u._)(this,hz,{writable:!0,value:void 0}),(0,u._)(this,hX,{writable:!0,value:void 0}),(0,u._)(this,h1,{writable:!0,value:void 0}),(0,u._)(this,rt,{writable:!0,value:void 0}),(0,c._)(this,hX,new hN),(0,c._)(this,h1,!1),(0,c._)(this,hK,t),(0,c._)(this,hU,e),(0,c._)(this,hH,i),(0,c._)(this,hz,i.$provider),this.controls=new i8,(0,c._)(this,hB,new sv),(0,c._)(this,hQ,new sP)}}function rl(){let{load:t}=this.$props,{canLoad:e}=this.$state;if("play"!==t()||e())return;let i=this.listen("media-play-request",t=>{(0,_._)(this,h0,ro).call(this,t),i()})}function rh(){let t=(0,o._)(this,hz).call(this),e=this.$state.canPlay();return t&&e&&(0,o._)(this,hX).start(),()=>{(0,o._)(this,hX).stop()}}function rr(t){t.stopPropagation(),!t.defaultPrevented&&this[t.type]&&((0,v.peek)((0,o._)(this,hz))?this[t.type](t):(0,o._)(this,hX).enqueue(t.type,()=>{(0,v.peek)((0,o._)(this,hz))&&this[t.type](t)}))}function ro(t){let{load:e}=this.$props,{canLoad:i}=this.$state;if("play"===e()&&!i()){let e=this.createEvent("media-start-loading",{trigger:t});return this.dispatchEvent(e),(0,o._)(this,hX).enqueue("media-play-request",async()=>{try{await this.play(e)}catch(t){}}),!0}return!1}function ru(t){let e=(0,v.peek)((0,o._)(this,hz));return"prefer-media"===t&&(0,o._)(this,hB).supported||"media"===t?(0,o._)(this,hB):null==e?void 0:e.fullscreen}function rc(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}function rd(){this.controls.defaultDelay=this.$props.controlsDelay()}function r_(){var t,e;let{canSetAudioGain:i}=this.$state,s=!!(null==(e=(0,o._)(this,hz).call(this))||null==(t=e.audioGain)?void 0:t.supported);i.set(s)}function rp(){var t,e;let{canAirPlay:i}=this.$state,s=!!(null==(e=(0,o._)(this,hz).call(this))||null==(t=e.airPlay)?void 0:t.supported);i.set(s)}function rf(){let{canGoogleCast:t,source:e}=this.$state,i=S&&!b&&z(e());t.set(i)}function rv(){var t,e;let{canFullscreen:i}=this.$state,s=(0,o._)(this,hB).supported||!!(null==(e=(0,o._)(this,hz).call(this))||null==(t=e.fullscreen)?void 0:t.supported);i.set(s)}function rw(){var t,e;let{canPictureInPicture:i}=this.$state,s=!!(null==(e=(0,o._)(this,hz).call(this))||null==(t=e.pictureInPicture)?void 0:t.supported);i.set(s)}async function rg(t){let e=(0,v.peek)(this.$props.fullscreenOrientation),i=t.detail;if(!(0,v.isUndefined)(e)&&"none"!==e&&(0,o._)(this,hQ).supported)if(i){if((0,o._)(this,hQ).locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else(0,o._)(this,hQ).locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}function rm(t,e){(0,o._)(this,hK).handle(this.createEvent("fullscreen-error",{detail:l5(t)}))}function rk(t,e){(0,o._)(this,hK).handle(this.createEvent("picture-in-picture-error",{detail:l5(t)}))}function rb(t,e){if(!t||!e)throw Error("[vidstack] media not ready")}function ry(t,e){if(null==e||!e.supported)throw Error("[vidstack] no fullscreen support")}class rS{constructor(){this.seeking=!1,this.looping=!1,this.replaying=!1,this.queue=new hD}}let rW=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);var r$=new WeakMap,rM=new WeakMap,rx=new WeakMap,rT=new WeakMap,rP=new WeakMap,rA=new WeakMap,rC=new WeakMap,rE=new WeakMap,rq=new WeakMap,rD=new WeakSet,rO=new WeakSet,rL=new WeakSet,rI=new WeakSet,rF=new WeakSet,rV=new WeakSet,rN=new WeakSet,rR=new WeakSet,rG=new WeakSet,rj=new WeakSet,rK=new WeakSet,rU=new WeakSet,rH=new WeakSet,rB=new WeakSet,rQ=new WeakMap,rz=new WeakSet,rX=new WeakSet,rY=new WeakSet,rJ=new WeakSet,rZ=new WeakSet,r0=new WeakSet,r1=new WeakSet,r2=new WeakSet,r3=new WeakSet,r5=new WeakSet,r4=new WeakSet,r9=new WeakMap,r8=new WeakSet,r6=new WeakSet;class r7 extends iw{onAttach(t){t.setAttribute("aria-busy","true"),new v.EventsController(this).add("fullscreen-change",this["fullscreen-change"].bind(this)).add("fullscreen-error",this["fullscreen-error"].bind(this)).add("orientation-change",this["orientation-change"].bind(this))}onConnect(t){(0,v.effect)((0,_._)(this,rJ,ow).bind(this)),(0,_._)(this,rF,on).call(this),(0,_._)(this,rV,oa).call(this),(0,_._)(this,rN,ol).call(this),(0,_._)(this,rD,ot).call(this),(0,v.onDispose)((0,_._)(this,rO,oe).bind(this))}onDestroy(){let{audioTracks:t,qualities:e,textTracks:i}=(0,o._)(this,rM);t[t8.reset](),e[t8.reset](),i[t8.reset](),(0,_._)(this,rX,of).call(this)}handle(t){if(!this.scope)return;let e=t.type;(0,v.untrack)(()=>{var e;return null==(e=this[t.type])?void 0:e.call(this,t)}),m||(rW.has(e)&&(0,o._)(this,rx).set(e,t),this.dispatch(t))}"provider-change"(t){var e,i;let s=(0,o._)(this,rM).$provider(),n=t.detail;(null==s?void 0:s.type)!==(null==n?void 0:n.type)&&(null==s||null==(e=s.destroy)||e.call(s),null==s||null==(i=s.scope)||i.dispose(),(0,o._)(this,rM).$provider.set(t.detail),s&&null===t.detail&&(0,_._)(this,r0,om).call(this,t))}"provider-loader-change"(t){}"auto-play"(t){this.$state.autoPlayError.set(null)}"auto-play-fail"(t){this.$state.autoPlayError.set(t.detail),(0,_._)(this,rL,oi).call(this)}"can-load"(t){this.$state.canLoad.set(!0),(0,o._)(this,rx).set("can-load",t),(0,o._)(this,rM).textTracks[tl.canLoad](),(0,_._)(this,rI,os).call(this,"media-start-loading",t)}"can-load-poster"(t){this.$state.canLoadPoster.set(!0),(0,o._)(this,rx).set("can-load-poster",t),(0,_._)(this,rI,os).call(this,"media-poster-start-loading",t)}"media-type-change"(t){let e=(0,o._)(this,rx).get("source-change");e&&t.triggers.add(e);let i=this.$state.viewType();this.$state.mediaType.set(t.detail);let s=this.$state.providedViewType(),n="unknown"===s?t.detail:s;i!==n&&(m?this.$state.inferredViewType.set(n):setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:n,trigger:t}))})},0))}"stream-type-change"(t){let e=(0,o._)(this,rx).get("source-change");e&&t.triggers.add(e);let{streamType:i,inferredStreamType:s}=this.$state;s.set(t.detail),t.detail=i()}"rate-change"(t){let{storage:e}=(0,o._)(this,rM),{canPlay:i}=this.$state;if(this.$state.playbackRate.set(t.detail),(0,_._)(this,rI,os).call(this,"media-rate-change-request",t),i()){var s;null==e||null==(s=e.setPlaybackRate)||s.call(e,t.detail)}}"remote-playback-change"(t){let{remotePlaybackState:e,remotePlaybackType:i}=this.$state,{type:s,state:n}=t.detail,a="connected"===n;i.set(s),e.set(n);let l="airplay"===s?"media-airplay-request":"media-google-cast-request";if(a)(0,_._)(this,rI,os).call(this,l,t);else{let e=(0,o._)(this,r$).queue.peek(l);e&&(t.request=e,t.triggers.add(e))}}"sources-change"(t){let e=this.$state.sources(),i=t.detail;this.$state.sources.set(i),(0,_._)(this,rZ,og).call(this,e,i,t)}"source-change"(t){var e,i;t.isQualityChange=(null==(e=t.originEvent)?void 0:e.type)==="quality-change";let s=t.detail;(0,_._)(this,r0,om).call(this,t,t.isQualityChange),(0,o._)(this,rx).set(t.type,t),this.$state.source.set(s),null==(i=this.el)||i.setAttribute("aria-busy","true")}abort(t){let e=(0,o._)(this,rx).get("source-change");e&&t.triggers.add(e);let i=(0,o._)(this,rx).get("can-load");i&&!t.triggers.hasType("can-load")&&t.triggers.add(i)}"load-start"(t){let e=(0,o._)(this,rx).get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);let e=(0,o._)(this,rx).get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){let e=(0,o._)(this,rx).get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){let e=(0,o._)(this,rx).get("load-start");e&&t.triggers.add(e)}"can-play"(t){var e;let i=(0,o._)(this,rx).get("loaded-metadata");i&&t.triggers.add(i),(0,_._)(this,r1,ok).call(this,t.detail),null==(e=this.el)||e.setAttribute("aria-busy","false")}"can-play-through"(t){(0,_._)(this,r1,ok).call(this,t.detail);let e=(0,o._)(this,rx).get("can-play");e&&t.triggers.add(e)}"duration-change"(t){let{live:e,intrinsicDuration:i,providedDuration:s,clipEndTime:n,ended:a}=this.$state,l=t.detail;if(!e()){let e=Number.isNaN(l)?0:l;i.set(e),a()&&(0,_._)(this,r5,oS).call(this,t)}(s()>0||n()>0)&&t.stopImmediatePropagation()}progress(t){let{buffered:e,seekable:i}=this.$state,{buffered:s,seekable:n}=t.detail,a=L(s),l=s.length!==e().length,h=a!==L(e()),r=L(n),o=n.length!==i().length,u=r!==L(i());(l||h)&&e.set(s),(o||u)&&i.set(n)}play(t){let{paused:e,autoPlayError:i,ended:s,autoPlaying:n,playsInline:a,pointer:l,muted:h,viewType:r,live:u,userBehindLiveEdge:c}=this.$state;if((0,_._)(this,r2,ob).call(this),!e())return void t.stopImmediatePropagation();t.autoPlay=n();let d=(0,o._)(this,rx).get("waiting");d&&t.triggers.add(d),(0,_._)(this,rI,os).call(this,"media-play-request",t),(0,o._)(this,rx).set("play",t),e.set(!1),i.set(null),t.autoPlay&&(this.handle(this.createEvent("auto-play",{detail:{muted:h()},trigger:t})),n.set(!1)),(s()||(0,o._)(this,r$).replaying)&&((0,o._)(this,r$).replaying=!1,s.set(!1),this.handle(this.createEvent("replay",{trigger:t}))),a()||"video"!==r()||"coarse"!==l()||(0,o._)(this,rM).remote.enterFullscreen("prefer-media",t),u()&&!c()&&(0,o._)(this,rM).remote.seekToLiveEdge(t)}"play-fail"(t){let{muted:e,autoPlaying:i}=this.$state,s=(0,o._)(this,rx).get("play");s&&t.triggers.add(s),(0,_._)(this,rI,os).call(this,"media-play-request",t);let{paused:n,playing:a}=this.$state;n.set(!0),a.set(!1),(0,_._)(this,rL,oi).call(this),(0,o._)(this,rx).set("play-fail",t),t.autoPlay&&(this.handle(this.createEvent("auto-play-fail",{detail:{muted:e(),error:t.detail},trigger:t})),i.set(!1))}playing(t){let e=(0,o._)(this,rx).get("play"),i=(0,o._)(this,rx).get("seeked");e?t.triggers.add(e):i&&t.triggers.add(i),setTimeout(()=>(0,_._)(this,rL,oi).call(this),0);let{paused:s,playing:n,live:a,liveSyncPosition:l,seekableEnd:h,started:r,currentTime:u,seeking:c,ended:d}=this.$state;if(s.set(!1),n.set(!0),c.set(!1),d.set(!1),(0,o._)(this,r$).looping){(0,o._)(this,r$).looping=!1;return}if(a()&&!r()&&0===u()){var p;let t=null!=(p=l())?p:h()-2;Number.isFinite(t)&&(0,o._)(this,rM).$provider().setCurrentTime(t)}this.started(t)}started(t){let{started:e}=this.$state;e()||(e.set(!0),this.handle(this.createEvent("started",{trigger:t})))}pause(t){var e;(null==(e=this.el)?void 0:e.isConnected)||(0,c._)(this,rq,!0),(0,_._)(this,rI,os).call(this,"media-pause-request",t);let i=(0,o._)(this,rx).get("seeked");i&&t.triggers.add(i);let{paused:s,playing:n}=this.$state;s.set(!0),n.set(!1),(0,o._)(this,rT)&&setTimeout(()=>{this.handle(this.createEvent("end",{trigger:t})),(0,c._)(this,rT,!1)},0),(0,_._)(this,rL,oi).call(this)}"time-change"(t){if((0,o._)(this,r$).looping)return void t.stopImmediatePropagation();let{waiting:e,played:i,clipEndTime:s,realCurrentTime:n,currentTime:a}=this.$state,l=t.detail,h=s();for(let i of(n.set(l),(0,_._)(this,r3,oy).call(this),e.set(!1),(0,o._)(this,rM).textTracks))i[tl.updateActiveCues](l,t);h>0&&l>=h&&((0,c._)(this,rT,!0),this.dispatch("media-pause-request",{trigger:t})),(0,_._)(this,r4,oW).call(this),this.dispatch("time-update",{detail:{currentTime:a(),played:i()},trigger:t})}"audio-gain-change"(t){var e;let{storage:i}=(0,o._)(this,rM),{canPlay:s,audioGain:n}=this.$state;n.set(t.detail),(0,_._)(this,rI,os).call(this,"media-audio-gain-change-request",t),s()&&(null==i||null==(e=i.setAudioGain)||e.call(i,n()))}"volume-change"(t){let{storage:e}=(0,o._)(this,rM),{volume:i,muted:s,canPlay:n}=this.$state,a=t.detail;if(i.set(a.volume),s.set(a.muted||0===a.volume),(0,_._)(this,rI,os).call(this,"media-volume-change-request",t),(0,_._)(this,rI,os).call(this,a.muted?"media-mute-request":"media-unmute-request",t),n()){var l,h;null==e||null==(l=e.setVolume)||l.call(e,i()),null==e||null==(h=e.setMuted)||h.call(e,s())}}seeked(t){let{seeking:e,currentTime:i,realCurrentTime:s,paused:n,seekableEnd:a,ended:l,live:h}=this.$state;if((0,o._)(this,r$).seeking)e.set(!0),t.stopImmediatePropagation();else if(e()){let i=(0,o._)(this,rx).get("waiting");i&&t.triggers.add(i);let a=(0,o._)(this,rx).get("seeking");a&&!t.triggers.has(a)&&t.triggers.add(a),n()&&(0,_._)(this,r6,oM).call(this),e.set(!1),s.set(t.detail),(0,_._)(this,rI,os).call(this,"media-seek-request",t);let l=null==t?void 0:t.originEvent;null==l||!l.isTrusted||l instanceof MessageEvent||/seek/.test(l.type)||this.started(t)}h()||(Math.floor(i())!==Math.floor(a())?l.set(!1):this.end(t))}waiting(t){(0,o._)(this,rC)||(0,o._)(this,r$).seeking||(t.stopImmediatePropagation(),(0,c._)(this,rE,t),(0,o._)(this,r9).call(this))}end(t){let{loop:e,ended:i}=this.$state;if(!(!e()&&i())){if(e())return void setTimeout(()=>{requestAnimationFrame(()=>{(0,_._)(this,r2,ob).call(this,t),this.dispatch("media-loop-request",{trigger:t})})},10);setTimeout(()=>(0,_._)(this,r8,o$).call(this,t),0)}}"fullscreen-change"(t){let e=t.detail;this.$state.fullscreen.set(e),(0,_._)(this,rI,os).call(this,e?"media-enter-fullscreen-request":"media-exit-fullscreen-request",t)}"fullscreen-error"(t){(0,_._)(this,rI,os).call(this,"media-enter-fullscreen-request",t),(0,_._)(this,rI,os).call(this,"media-exit-fullscreen-request",t)}"orientation-change"(t){let e=t.detail.lock;(0,_._)(this,rI,os).call(this,e?"media-orientation-lock-request":"media-orientation-unlock-request",t)}"picture-in-picture-change"(t){let e=t.detail;this.$state.pictureInPicture.set(e),(0,_._)(this,rI,os).call(this,e?"media-enter-pip-request":"media-exit-pip-request",t)}"picture-in-picture-error"(t){(0,_._)(this,rI,os).call(this,"media-enter-pip-request",t),(0,_._)(this,rI,os).call(this,"media-exit-pip-request",t)}"title-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail))}"poster-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail))}constructor(t,e){super(),(0,p._)(this,rD),(0,p._)(this,rO),(0,p._)(this,rL),(0,p._)(this,rI),(0,p._)(this,rF),(0,p._)(this,rV),(0,p._)(this,rN),(0,p._)(this,rR),(0,p._)(this,rG),(0,p._)(this,rj),(0,p._)(this,rK),(0,p._)(this,rU),(0,p._)(this,rH),(0,p._)(this,rB),(0,p._)(this,rz),(0,p._)(this,rX),(0,p._)(this,rY),(0,p._)(this,rJ),(0,p._)(this,rZ),(0,p._)(this,r0),(0,p._)(this,r1),(0,p._)(this,r2),(0,p._)(this,r3),(0,p._)(this,r5),(0,p._)(this,r4),(0,p._)(this,r8),(0,p._)(this,r6),(0,u._)(this,r$,{writable:!0,value:void 0}),(0,u._)(this,rM,{writable:!0,value:void 0}),(0,u._)(this,rx,{writable:!0,value:void 0}),(0,u._)(this,rT,{writable:!0,value:void 0}),(0,u._)(this,rP,{writable:!0,value:void 0}),(0,u._)(this,rA,{writable:!0,value:void 0}),(0,u._)(this,rC,{writable:!0,value:void 0}),(0,u._)(this,rE,{writable:!0,value:void 0}),(0,u._)(this,rq,{writable:!0,value:void 0}),(0,u._)(this,rQ,{writable:!0,value:void 0}),(0,u._)(this,r9,{writable:!0,value:void 0}),(0,c._)(this,rx,new Map),(0,c._)(this,rT,!1),(0,c._)(this,rP,[]),(0,c._)(this,rA,[-1,-1]),(0,c._)(this,rC,!1),(0,c._)(this,rq,!1),(0,c._)(this,rQ,null),this.seeking=(0,v.functionThrottle)(t=>{let{seeking:e,realCurrentTime:i,paused:s}=this.$state;e.set(!0),i.set(t.detail),(0,_._)(this,rI,os).call(this,"media-seeking-request",t),s()&&((0,c._)(this,rE,t),(0,o._)(this,r9).call(this)),(0,c._)(this,rA,[-1,-1])},150,{leading:!0}),(0,c._)(this,r9,(0,v.functionDebounce)(()=>{if(!(0,o._)(this,rE))return;(0,c._)(this,rC,!0);let{waiting:t,playing:e}=this.$state;t.set(!0),e.set(!1);let i=this.createEvent("waiting",{trigger:(0,o._)(this,rE)});(0,o._)(this,rx).set("waiting",i),this.dispatch(i),(0,c._)(this,rE,void 0),(0,c._)(this,rC,!1)},300)),(0,c._)(this,r$,t),(0,c._)(this,rM,e)}}function ot(){(0,o._)(this,rq)&&(requestAnimationFrame(()=>{this.scope&&(0,o._)(this,rM).remote.play(new v.DOMEvent("dom-connect"))}),(0,c._)(this,rq,!1))}function oe(){var t;(0,o._)(this,rq)||((0,c._)(this,rq,!this.$state.paused()),null==(t=(0,o._)(this,rM).$provider())||t.pause())}function oi(){(0,_._)(this,r6,oM).call(this),(0,c._)(this,rT,!1),(0,o._)(this,r$).replaying=!1,(0,o._)(this,r$).looping=!1,(0,c._)(this,rC,!1),(0,c._)(this,rE,void 0),(0,o._)(this,rx).clear()}function os(t,e){let i=(0,o._)(this,r$).queue.serve(t);i&&(e.request=i,e.triggers.add(i))}function on(){(0,_._)(this,rR,oh).call(this),(0,_._)(this,rG,or).call(this);let t=(0,o._)(this,rM).textTracks;new v.EventsController(t).add("add",(0,_._)(this,rR,oh).bind(this)).add("remove",(0,_._)(this,rR,oh).bind(this)).add("mode-change",(0,_._)(this,rG,or).bind(this))}function oa(){let t=(0,o._)(this,rM).qualities;new v.EventsController(t).add("add",(0,_._)(this,rU,oc).bind(this)).add("remove",(0,_._)(this,rU,oc).bind(this)).add("change",(0,_._)(this,rH,od).bind(this)).add("auto-change",(0,_._)(this,rB,o_).bind(this)).add("readonly-change",(0,_._)(this,rY,ov).bind(this))}function ol(){let t=(0,o._)(this,rM).audioTracks;new v.EventsController(t).add("add",(0,_._)(this,rj,oo).bind(this)).add("remove",(0,_._)(this,rj,oo).bind(this)).add("change",(0,_._)(this,rK,ou).bind(this))}function oh(t){let{textTracks:e}=this.$state;e.set((0,o._)(this,rM).textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}function or(t){t&&(0,_._)(this,rI,os).call(this,"media-text-track-change-request",t);let e=(0,o._)(this,rM).textTracks.selected,{textTrack:i}=this.$state;i()!==e&&(i.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}function oo(t){let{audioTracks:e}=this.$state;e.set((0,o._)(this,rM).audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}function ou(t){let{audioTrack:e}=this.$state;e.set((0,o._)(this,rM).audioTracks.selected),t&&(0,_._)(this,rI,os).call(this,"media-audio-track-change-request",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}function oc(t){let{qualities:e}=this.$state;e.set((0,o._)(this,rM).qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}function od(t){let{quality:e}=this.$state;e.set((0,o._)(this,rM).qualities.selected),t&&(0,_._)(this,rI,os).call(this,"media-quality-change-request",t),this.dispatch("quality-change",{detail:e(),trigger:t})}function o_(){let{qualities:t}=(0,o._)(this,rM),e=t.auto;this.$state.autoQuality.set(e),e||(0,_._)(this,rX,of).call(this)}function op(){(0,_._)(this,rX,of).call(this),(0,c._)(this,rQ,(0,v.effect)(()=>{let{qualities:t}=(0,o._)(this,rM),{mediaWidth:e,mediaHeight:i}=this.$state,s=e(),n=i();if(0===s||0===n)return;let a=null,l=1/0;for(let e of t){let t=Math.abs(e.width-s)+Math.abs(e.height-n);t<l&&(l=t,a=e)}a&&t[t8.select](a,!0,new v.DOMEvent("resize",{detail:{width:s,height:n}}))}))}function of(){var t;null==(t=(0,o._)(this,rQ))||t.call(this),(0,c._)(this,rQ,null)}function ov(){this.$state.canSetQuality.set(!(0,o._)(this,rM).qualities.readonly)}function ow(){let{canSetVolume:t,isGoogleCastConnected:e}=this.$state;if(e())return void t.set(!1);C().then(t.set)}function og(t,e,i){let{qualities:s}=(0,o._)(this,rM),n=!1,a=!1;for(let n of t)if(g(n)&&!e.some(t=>t.src===n.src)){let t=s.getBySrc(n.src);t&&(s[t8.remove](t,i),a=!0)}for(let t of(a&&!s.length&&(this.$state.savedState.set(null),s[t8.reset](i)),e)){var l;if(!g(t)||s.getBySrc(t.src))continue;let e={id:null!=(l=t.id)?l:t.height+"p",bitrate:null,codec:null,...t,selected:!1};s[t8.add](e,i),n=!0}n&&!s[io.enableAuto]&&((0,_._)(this,rz,op).call(this),s[io.enableAuto]=(0,_._)(this,rz,op).bind(this),s[io.setAuto](!0,i))}function om(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{audioTracks:i,qualities:s}=(0,o._)(this,rM);if(!e){(0,c._)(this,rP,[]),(0,c._)(this,rA,[-1,-1]),i[t8.reset](t),s[t8.reset](t),tN(this.$state,e),(0,_._)(this,rL,oi).call(this);return}tN(this.$state,e),(0,_._)(this,rL,oi).call(this)}function ok(t){var e;let{seekable:i,buffered:s,intrinsicDuration:n,canPlay:a}=this.$state;a.set(!0),s.set(t.buffered),i.set(t.seekable);let l=null!=(e=L(t.seekable))?e:1/0;n.set(l)}function ob(t){if(!(0,v.peek)((0,o._)(this,rM).$provider))return;let{ended:e,seekableStart:i,clipEndTime:s,currentTime:n,realCurrentTime:a,duration:l}=this.$state,h=e()||a()<i()||s()>0&&a()>=s()||.1>Math.abs(n()-l());return h&&this.dispatch("media-seek-request",{detail:i(),trigger:t}),h}function oy(){var t,e,i;let s,n,{currentTime:a,played:l,paused:h}=this.$state;h()||((0,c._)(this,rA,(t=(0,o._)(this,rP),e=(0,o._)(this,rA),i=a(),s=e[0],n=e[1],i<s?[i,-1]:i===s?e:-1===s?(e[0]=i,e):(i>s&&(e[1]=i,-1===n&&t.push(e)),!function(t){if(t.length<=1)return;t.sort((t,e)=>t[0]-e[0]);let e=[],i=t[0];for(let s=1;s<t.length;s++){let n=t[s];i[1]>=n[0]-1?i=[i[0],Math.max(i[1],n[1])]:(e.push(i),i=n)}e.push(i)}(t),e))),l.set(new D((0,o._)(this,rP))))}function oS(t){let{clipStartTime:e,clipEndTime:i,duration:s}=this.$state;e()>0||i()>0||this.handle(this.createEvent("time-change",{detail:s(),trigger:t}))}function oW(){let{storage:t}=(0,o._)(this,rM),{canPlay:e,realCurrentTime:i}=this.$state;if(e()){var s;null==t||null==(s=t.setTime)||s.call(t,i())}}function o$(t){var e;let{storage:i}=(0,o._)(this,rM),{paused:s,seeking:n,ended:a,duration:l}=this.$state;(0,_._)(this,r5,oS).call(this,t),s()||this.dispatch("pause",{trigger:t}),n()&&this.dispatch("seeked",{detail:l(),trigger:t}),a.set(!0),(0,_._)(this,rL,oi).call(this),null==i||null==(e=i.setTime)||e.call(i,l(),!0),this.dispatch("ended",{trigger:t})}function oM(){(0,o._)(this,r9).cancel(),this.$state.waiting.set(!1)}var ox=new WeakSet,oT=new WeakSet,oP=new WeakSet,oA=new WeakSet,oC=new WeakSet,oE=new WeakSet,oq=new WeakSet,oD=new WeakSet,oO=new WeakSet,oL=new WeakSet,oI=new WeakSet,oF=new WeakSet,oV=new WeakSet,oN=new WeakSet,oR=new WeakSet,oG=new WeakSet,oj=new WeakSet;class oK extends iw{onSetup(){if((0,_._)(this,ox,oU).call(this),!m)for(let t of[(0,_._)(this,oA,oB),(0,_._)(this,oE,oz),(0,_._)(this,oV,o2),(0,_._)(this,oN,o3),(0,_._)(this,oD,oY),(0,_._)(this,oL,oZ),(0,_._)(this,oI,o0),(0,_._)(this,oR,o5),(0,_._)(this,oj,o9),(0,_._)(this,oG,o4),(0,_._)(this,oq,oX),(0,_._)(this,oF,o1),(0,_._)(this,oO,oJ),(0,_._)(this,oT,oH),(0,_._)(this,oC,oQ)])(0,v.effect)(t.bind(this))}constructor(...t){super(...t),(0,p._)(this,ox),(0,p._)(this,oT),(0,p._)(this,oP),(0,p._)(this,oA),(0,p._)(this,oC),(0,p._)(this,oE),(0,p._)(this,oq),(0,p._)(this,oD),(0,p._)(this,oO),(0,p._)(this,oL),(0,p._)(this,oI),(0,p._)(this,oF),(0,p._)(this,oV),(0,p._)(this,oN),(0,p._)(this,oR),(0,p._)(this,oG),(0,p._)(this,oj)}}function oU(){let t={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},e=new Set(["currentTime","paused","playbackRate","volume"]);for(let n of Object.keys(this.$props)){var i,s;e.has(n)||null==(i=this.$state[null!=(s=t[n])?s:n])||i.set(this.$props[n]())}this.$state.muted.set(this.$props.muted()||0===this.$props.volume())}function oH(){let{viewType:t,streamType:e,title:i,poster:s,loop:n}=this.$props,a=this.$state;a.providedPoster.set(s()),a.providedStreamType.set(e()),a.providedViewType.set(t()),a.providedTitle.set(i()),a.providedLoop.set(n())}function oB(){let{artist:t,artwork:e}=this.$props;this.$state.artist.set(t()),this.$state.artwork.set(e())}function oQ(){let{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}function oz(){let t=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(t),this.dispatch("auto-play-change",{detail:t})}function oX(){let t=this.$state.loop();this.dispatch("loop-change",{detail:t})}function oY(){let t=this.$props.controls();this.$state.controls.set(t)}function oJ(){let{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}function oZ(){var t;let e=null!=(t=this.$props.crossOrigin())?t:this.$props.crossorigin();this.$state.crossOrigin.set(!0===e?"":e)}function o0(){let{duration:t}=this.$props;this.dispatch("media-duration-change-request",{detail:t()})}function o1(){let t=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(t),this.dispatch("plays-inline-change",{detail:t})}function o2(){let{clipStartTime:t}=this.$props;this.dispatch("media-clip-start-change-request",{detail:t()})}function o3(){let{clipEndTime:t}=this.$props;this.dispatch("media-clip-end-change-request",{detail:t()})}function o5(){this.dispatch("live-change",{detail:this.$state.live()})}function o4(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}function o9(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}let o8=["play","pause","seekforward","seekbackward","seekto"];var o6=new WeakSet,o7=new WeakSet,ut=new WeakSet,ue=new WeakSet;class ui extends iw{onConnect(){(0,v.effect)((0,_._)(this,o7,un).bind(this)),(0,v.effect)((0,_._)(this,ut,ua).bind(this));let t=(0,_._)(this,ue,ul).bind(this);for(let e of o8)navigator.mediaSession.setActionHandler(e,t);(0,v.onDispose)((0,_._)(this,o6,us).bind(this))}constructor(...t){super(...t),(0,p._)(this,o6),(0,p._)(this,o7),(0,p._)(this,ut),(0,p._)(this,ue)}}function us(){for(let t of o8)navigator.mediaSession.setActionHandler(t,null)}function un(){var t;let{title:e,artist:i,artwork:s,poster:n}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:e(),artist:i(),artwork:null!=(t=s())?t:[{src:n()}]})}function ua(){let{canPlay:t,paused:e}=this.$state;navigator.mediaSession.playbackState=t()?e()?"paused":"playing":"none"}function ul(t){let e=new v.DOMEvent("media-session-action",{detail:t});switch(t.action){case"play":this.dispatch("media-play-request",{trigger:e});break;case"pause":this.dispatch("media-pause-request",{trigger:e});break;case"seekto":case"seekforward":case"seekbackward":var i;this.dispatch("media-seek-request",{detail:(0,v.isNumber)(t.seekTime)?t.seekTime:this.$state.currentTime()+(null!=(i=t.seekOffset)?i:"seekforward"===t.action?10:-10),trigger:e})}}let uh=(0,v.signal)(!1);m||((0,v.listenEvent)(document,"pointerdown",()=>{uh.set(!1)}),(0,v.listenEvent)(document,"keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||uh.set(!0)}));var ur=new WeakMap,uo=new WeakSet,uu=new WeakSet,uc=new WeakSet,ud=new WeakSet;class u_ extends v.ViewController{onConnect(t){(0,v.effect)(()=>{let e=new v.EventsController(t);if(!uh()){(0,o._)(this,ur).set(!1),ug(t,!1),e.add("pointerenter",(0,_._)(this,uc,uv).bind(this)).add("pointerleave",(0,_._)(this,ud,uw).bind(this));return}let i=document.activeElement===t;(0,o._)(this,ur).set(i),ug(t,i),e.add("focus",(0,_._)(this,uo,up).bind(this)).add("blur",(0,_._)(this,uu,uf).bind(this))})}focused(){return(0,o._)(this,ur).call(this)}constructor(...t){super(...t),(0,p._)(this,uo),(0,p._)(this,uu),(0,p._)(this,uc),(0,p._)(this,ud),(0,u._)(this,ur,{writable:!0,value:void 0}),(0,c._)(this,ur,(0,v.signal)(!1))}}function up(){(0,o._)(this,ur).set(!0),ug(this.el,!0)}function uf(){(0,o._)(this,ur).set(!1),ug(this.el,!1)}function uv(){um(this.el,!0)}function uw(){um(this.el,!1)}function ug(t,e){(0,v.setAttribute)(t,"data-focus",e),(0,v.setAttribute)(t,"data-hocus",e)}function um(t,e){(0,v.setAttribute)(t,"data-hocus",e),(0,v.setAttribute)(t,"data-hover",e)}var uk=new WeakMap,ub=new WeakMap,uy=new WeakMap,uS=new WeakMap,uW=new WeakMap,u$=new WeakMap,uM=new WeakSet,ux=new WeakSet,uT=new WeakSet,uP=new WeakSet,uA=new WeakSet,uC=new WeakSet,uE=new WeakSet,uq=new WeakSet,uD=new WeakSet,uO=new WeakSet,uL=new WeakSet,uI=new WeakSet,uF=new WeakSet,uV=new WeakSet,uN=new WeakSet,uR=new WeakSet,uG=new WeakSet,uj=new WeakSet,uK=new WeakSet,uU=new WeakSet,uH=new WeakSet;class uB extends v.Component{onSetup(){(0,_._)(this,uP,uZ).call(this),(0,v.effect)((0,_._)(this,uT,uJ).bind(this)),(0,v.effect)((0,_._)(this,uO,u4).bind(this)),(0,v.effect)((0,_._)(this,uq,u3).bind(this)),(0,v.effect)((0,_._)(this,uV,u7).bind(this)),(0,v.effect)((0,_._)(this,uI,u8).bind(this)),(0,v.effect)((0,_._)(this,uj,cs).bind(this)),(0,v.effect)((0,_._)(this,uR,ce).bind(this))}onAttach(t){t.setAttribute("data-media-player",""),ed(t,"tabindex","0"),ed(t,"role","region"),(0,v.effect)((0,_._)(this,uU,ca).bind(this)),m?(0,_._)(this,uM,uX).call(this):(0,v.effect)((0,_._)(this,uM,uX).bind(this)),m?(0,_._)(this,ux,uY).call(this):(0,v.effect)((0,_._)(this,ux,uY).bind(this)),(0,v.listenEvent)(t,"find-media-player",(0,_._)(this,uA,u0).bind(this))}onConnect(t){y&&(0,v.setAttribute)(t,"data-iphone","");let e=window.matchMedia("(pointer: coarse)");(0,_._)(this,uE,u2).call(this,e),e.onchange=(0,_._)(this,uE,u2).bind(this);let i=new ResizeObserver((0,v.animationFrameThrottle)((0,_._)(this,uC,u1).bind(this)));i.observe(t),(0,v.effect)((0,_._)(this,uC,u1).bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),(0,v.onDispose)(()=>{i.disconnect(),e.onchange=null})}onDestroy(){(0,o._)(this,uk).player=null,this.canPlayQueue.reset()}get provider(){return(0,o._)(this,uS)}get controls(){return(0,o._)(this,uy).controls}set controls(t){(0,o._)(this,uW).controls.set(t)}get title(){return(0,v.peek)(this.$state.title)}set title(t){if((0,o._)(this,u$))return void(0,c._)(this,u$,!1);(0,o._)(this,uW).title.set(t)}get qualities(){return(0,o._)(this,uk).qualities}get audioTracks(){return(0,o._)(this,uk).audioTracks}get textTracks(){return(0,o._)(this,uk).textTracks}get textRenderers(){return(0,o._)(this,uk).textRenderers}get duration(){return this.$state.duration()}set duration(t){(0,o._)(this,uW).duration.set(t)}get paused(){return(0,v.peek)(this.$state.paused)}set paused(t){(0,_._)(this,uD,u5).call(this,t)}get muted(){return(0,v.peek)(this.$state.muted)}set muted(t){(0,_._)(this,uL,u9).call(this,t)}get currentTime(){return(0,v.peek)(this.$state.currentTime)}set currentTime(t){(0,_._)(this,uF,u6).call(this,t)}get volume(){return(0,v.peek)(this.$state.volume)}set volume(t){(0,_._)(this,uN,ct).call(this,t)}get playbackRate(){return(0,v.peek)(this.$state.playbackRate)}set playbackRate(t){(0,_._)(this,uG,ci).call(this,t)}async play(t){return(0,o._)(this,uy).play(t)}async pause(t){return(0,o._)(this,uy).pause(t)}async enterFullscreen(t,e){return(0,o._)(this,uy).enterFullscreen(t,e)}async exitFullscreen(t,e){return(0,o._)(this,uy).exitFullscreen(t,e)}enterPictureInPicture(t){return(0,o._)(this,uy).enterPictureInPicture(t)}exitPictureInPicture(t){return(0,o._)(this,uy).exitPictureInPicture(t)}seekToLiveEdge(t){(0,o._)(this,uy).seekToLiveEdge(t)}startLoading(t){(0,o._)(this,uk).notify("can-load",void 0,t)}startLoadingPoster(t){(0,o._)(this,uk).notify("can-load-poster",void 0,t)}requestAirPlay(t){return(0,o._)(this,uy).requestAirPlay(t)}requestGoogleCast(t){return(0,o._)(this,uy).requestGoogleCast(t)}setAudioGain(t,e){return(0,o._)(this,uy).setAudioGain(t,e)}destroy(){super.destroy(),(0,o._)(this,uk).remote.setPlayer(null),this.dispatch("destroy")}constructor(){super(),(0,u._)(this,uS,{get:uQ,set:void 0}),(0,u._)(this,uW,{get:uz,set:void 0}),(0,p._)(this,uM),(0,p._)(this,ux),(0,p._)(this,uT),(0,p._)(this,uP),(0,p._)(this,uA),(0,p._)(this,uC),(0,p._)(this,uE),(0,p._)(this,uq),(0,p._)(this,uD),(0,p._)(this,uO),(0,p._)(this,uL),(0,p._)(this,uI),(0,p._)(this,uF),(0,p._)(this,uV),(0,p._)(this,uN),(0,p._)(this,uR),(0,p._)(this,uG),(0,p._)(this,uj),(0,p._)(this,uK),(0,p._)(this,uU),(0,p._)(this,uH),(0,u._)(this,uk,{writable:!0,value:void 0}),(0,u._)(this,ub,{writable:!0,value:void 0}),(0,u._)(this,uy,{writable:!0,value:void 0}),(0,u._)(this,u$,{writable:!0,value:void 0}),this.canPlayQueue=new hN,(0,c._)(this,u$,!1),new oK;let t={player:this,qualities:new ip,audioTracks:new el,storage:null,$provider:(0,v.signal)(null),$providerSetup:(0,v.signal)(!1),$props:this.$props,$state:this.$state};t.remote=this.remoteControl=new tX(void 0),t.remote.setPlayer(this),t.textTracks=new ia,t.textTracks[tl.crossOrigin]=this.$state.crossOrigin,t.textRenderers=new ez(t),t.ariaKeys={},(0,c._)(this,uk,t),(0,v.provideContext)(tG,t),this.orientation=new sP,new u_,new iC(t);let e=new rS;(0,c._)(this,ub,new r7(e,t)),(0,c._)(this,uy,new ra((0,o._)(this,ub),e,t)),t.delegate=new hC((0,o._)(this,ub).handle.bind((0,o._)(this,ub)),t),t.notify=t.delegate.notify.bind(t.delegate),"undefined"!=typeof navigator&&"mediaSession"in navigator&&new ui,new hx("load",this.startLoading.bind(this)),new hx("posterLoad",this.startLoadingPoster.bind(this))}}function uQ(){return(0,o._)(this,uk).$provider()}function uz(){return this.$props}function uX(){let t=this.$el,{title:e,live:i,viewType:s,providedTitle:n}=this.$state,a=i(),l=(0,v.uppercaseFirstChar)(s()),h="Unknown"!==l?"".concat(a?"Live ":"").concat(l):a?"Live":"Media",r=e();(0,v.setAttribute)(this.el,"aria-label","".concat(h," Player")+(r?" - ".concat(r):"")),!m&&(null==t?void 0:t.hasAttribute("title"))&&((0,c._)(this,u$,!0),null==t||t.removeAttribute("title"))}function uY(){let t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),(0,v.setAttribute)(this.el,"data-orientation",t),(0,_._)(this,uC,u1).call(this)}function uJ(){this.$state.canPlay()&&(0,o._)(this,uS)?this.canPlayQueue.start():this.canPlayQueue.stop()}function uZ(){if(uB[hS])return void this.setAttributes(uB[hS]);let t={"data-load":function(){return this.$props.load()},"data-captions":function(){let t=this.$state.textTrack();return!!t&&tE(t)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){let{canLoad:t,canPlay:e,waiting:i}=this.$state;return t()&&(!e()||i())},"data-error":function(){let{error:t}=this.$state;return!!t()},"data-autoplay-error":function(){let{autoPlayError:t}=this.$state;return!!t()}},e={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(let s of hW){var i;t["data-"+(null!=(i=e[s])?i:(0,v.camelToKebabCase)(s))]=function(){return this.$state[s]()}}delete t.title,uB[hS]=t,this.setAttributes(t)}function u0(t){t.detail(this)}function u1(){if(m||!this.el)return;let t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),(0,v.setStyle)(this.el,"--player-width",t+"px"),(0,v.setStyle)(this.el,"--player-height",e+"px")}function u2(t){if(m)return;let e=t.matches?"coarse":"fine";(0,v.setAttribute)(this.el,"data-pointer",e),this.$state.pointer.set(e),(0,_._)(this,uC,u1).call(this)}function u3(){(0,_._)(this,uD,u5).call(this,this.$props.paused())}function u5(t){t?this.canPlayQueue.enqueue("paused",()=>(0,o._)(this,uy).pause()):this.canPlayQueue.enqueue("paused",()=>(0,o._)(this,uy).play())}function u4(){(0,_._)(this,uL,u9).call(this,this.$props.muted())}function u9(t){this.canPlayQueue.enqueue("muted",()=>{(0,o._)(this,uS)&&(0,o._)(this,uS).setMuted(t)})}function u8(){(0,_._)(this,uF,u6).call(this,this.$props.currentTime())}function u6(t){this.canPlayQueue.enqueue("currentTime",()=>{let{currentTime:e}=this.$state;t!==(0,v.peek)(e)&&(0,v.peek)(()=>{if(!(0,o._)(this,uS))return;let e=tR(t,this.$state);Number.isFinite(e)&&(0,o._)(this,uS).setCurrentTime(e)})})}function u7(){(0,_._)(this,uN,ct).call(this,this.$props.volume())}function ct(t){let e=eo(0,t,1);this.canPlayQueue.enqueue("volume",()=>{(0,o._)(this,uS)&&(0,o._)(this,uS).setVolume(e)})}function ce(){(0,_._)(this,uG,ci).call(this,this.$props.playbackRate())}function ci(t){this.canPlayQueue.enqueue("rate",()=>{var e,i;(0,o._)(this,uS)&&(null==(e=(i=(0,o._)(this,uS)).setPlaybackRate)||e.call(i,t))})}function cs(){(0,_._)(this,uK,cn).call(this,this.$props.playsInline())}function cn(t){this.canPlayQueue.enqueue("playsinline",()=>{var e,i;(0,o._)(this,uS)&&(null==(e=(i=(0,o._)(this,uS)).setPlaysInline)||e.call(i,t))})}function ca(){let t=this.$props.storage(),e=(0,v.isString)(t)?new tZ:t;if(null==e?void 0:e.onChange){var i;let{source:s}=this.$state,n=(0,v.isString)(t)?t:null==(i=this.el)?void 0:i.id,a=(0,v.computed)((0,_._)(this,uH,cl).bind(this));(0,v.effect)(()=>e.onChange(s(),a(),n||void 0))}(0,o._)(this,uk).storage=e,(0,o._)(this,uk).textTracks.setStorage(e),(0,v.onDispose)(()=>{var t;null==e||null==(t=e.onDestroy)||t.call(e),(0,o._)(this,uk).storage=null,(0,o._)(this,uk).textTracks.setStorage(null)})}function cl(){let{clipStartTime:t,clipEndTime:e}=this.$props,{source:i}=this.$state,s=i();return s.src?"".concat(s.src,":").concat(t(),":").concat(e()):null}uB.props={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:{togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},storage:null},uB.state=tq;let ch=uB.prototype;(0,v.prop)(ch,"canPlayQueue"),(0,v.prop)(ch,"remoteControl"),(0,v.prop)(ch,"provider"),(0,v.prop)(ch,"controls"),(0,v.prop)(ch,"orientation"),(0,v.prop)(ch,"title"),(0,v.prop)(ch,"qualities"),(0,v.prop)(ch,"audioTracks"),(0,v.prop)(ch,"textTracks"),(0,v.prop)(ch,"textRenderers"),(0,v.prop)(ch,"duration"),(0,v.prop)(ch,"paused"),(0,v.prop)(ch,"muted"),(0,v.prop)(ch,"currentTime"),(0,v.prop)(ch,"volume"),(0,v.prop)(ch,"playbackRate"),(0,v.method)(ch,"play"),(0,v.method)(ch,"pause"),(0,v.method)(ch,"enterFullscreen"),(0,v.method)(ch,"exitFullscreen"),(0,v.method)(ch,"enterPictureInPicture"),(0,v.method)(ch,"exitPictureInPicture"),(0,v.method)(ch,"seekToLiveEdge"),(0,v.method)(ch,"startLoading"),(0,v.method)(ch,"startLoadingPoster"),(0,v.method)(ch,"requestAirPlay"),(0,v.method)(ch,"requestGoogleCast"),(0,v.method)(ch,"setAudioGain");let cr=new Map;var co=new WeakMap,cu=new WeakMap,cc=new WeakMap,cd=new WeakMap,c_=new WeakMap,cp=new WeakSet,cf=new WeakSet,cv=new WeakSet,cw=new WeakSet,cg=new WeakSet,cm=new WeakSet,ck=new WeakSet,cb=new WeakSet;class cy{connect(){let t=(0,o._)(this,c_).call(this);(0,o._)(this,co)&&((0,_._)(this,cw,cM).call(this,(0,o._)(this,cd).$state.source(),t),(0,_._)(this,cg,cx).call(this,t),(0,c._)(this,co,!1)),(0,v.effect)((0,_._)(this,cp,cS).bind(this)),(0,v.effect)((0,_._)(this,cf,cW).bind(this)),(0,v.effect)((0,_._)(this,cm,cT).bind(this)),(0,v.effect)((0,_._)(this,ck,cP).bind(this)),(0,v.effect)((0,_._)(this,cb,cA).bind(this))}constructor(t,e,i,s=[]){(0,p._)(this,cp),(0,p._)(this,cf),(0,p._)(this,cv),(0,p._)(this,cw),(0,p._)(this,cg),(0,p._)(this,cm),(0,p._)(this,ck),(0,p._)(this,cb),(0,u._)(this,co,{writable:!0,value:void 0}),(0,u._)(this,cu,{writable:!0,value:void 0}),(0,u._)(this,cc,{writable:!0,value:void 0}),(0,u._)(this,cd,{writable:!0,value:void 0}),(0,u._)(this,c_,{writable:!0,value:void 0}),(0,c._)(this,co,!1),(0,c._)(this,cc,t),(0,c._)(this,cd,e),(0,c._)(this,c_,i);let n=new hv,a=new sL,l=new sO,h=new sD,r=[new hg,new hw];(0,c._)(this,cu,(0,v.computed)(()=>{let t=e.$state.remotePlaybackLoader(),i=e.$props.preferNativeHLS()?[l,h,n,a,...r,...s]:[a,l,h,n,...r,...s];return t?[t,...i]:i}));let{$state:d}=e;for(let t of(d.sources.set(cC(e.$props.src())),d.sources())){let i=(0,o._)(this,cu).call(this).find(e=>e.canPlay(t));if(!i)continue;let s=i.mediaType(t);e.$state.source.set(t),e.$state.mediaType.set(s),e.$state.inferredViewType.set(s),(0,o._)(this,c_).set(i),(0,c._)(this,co,!0);break}}}function cS(){(0,o._)(this,cd).notify("sources-change",[...cC((0,o._)(this,cd).$props.src()),...(0,o._)(this,cc).call(this)])}function cW(){var t;let{$state:e}=(0,o._)(this,cd),i=e.sources(),s=(0,v.peek)(e.source),n=(0,_._)(this,cv,c$).call(this,s,i);if((null==(t=i[0])?void 0:t.src)&&!n.src&&!n.type){let{crossOrigin:t}=e,s=tt(t()),n=new AbortController;return Promise.all(i.map(t=>(0,v.isString)(t.src)&&"?"===t.type?fetch(t.src,{method:"HEAD",credentials:s,signal:n.signal}).then(e=>(t.type=e.headers.get("content-type")||"??",cr.set(t.src,t.type),t)).catch(()=>t):t)).then(t=>{if(n.signal.aborted)return;let i=(0,_._)(this,cv,c$).call(this,(0,v.peek)(e.source),t);(0,v.tick)(),i.src||(0,o._)(this,cd).notify("error",{message:"Failed to load resource.",code:4})}),()=>n.abort()}(0,v.tick)()}function c$(t,e){let i={src:"",type:""},s=null,n=new v.DOMEvent("sources-change",{detail:{sources:e}}),a=(0,o._)(this,cu).call(this),{started:l,paused:h,currentTime:r,quality:u,savedState:c}=(0,o._)(this,cd).$state;for(let t of e){let e=a.find(e=>e.canPlay(t));if(e){i=t,s=e;break}}if(g(i)){let t=u(),s=e.find(e=>e.src===(null==t?void 0:t.src));(0,v.peek)(l)?c.set({paused:(0,v.peek)(h),currentTime:(0,v.peek)(r)}):c.set(null),s&&(i=s,n=new v.DOMEvent("quality-change",{detail:{quality:t}}))}return cq(t,i)||(0,_._)(this,cw,cM).call(this,i,s,n),s!==(0,v.peek)((0,o._)(this,c_))&&(0,_._)(this,cg,cx).call(this,s,n),i}function cM(t,e,i){(0,o._)(this,cd).notify("source-change",t,i),(0,o._)(this,cd).notify("media-type-change",(null==e?void 0:e.mediaType(t))||"unknown",i)}function cx(t,e){(0,o._)(this,cd).$providerSetup.set(!1),(0,o._)(this,cd).notify("provider-change",null,e),t&&(0,v.peek)(()=>{var e;return null==(e=t.preconnect)?void 0:e.call(t,(0,o._)(this,cd))}),(0,o._)(this,c_).set(t),(0,o._)(this,cd).notify("provider-loader-change",t,e)}function cT(){let t=(0,o._)(this,cd).$provider();if(!(!t||(0,v.peek)((0,o._)(this,cd).$providerSetup))){if((0,o._)(this,cd).$state.canLoad()){(0,v.scoped)(()=>t.setup(),t.scope),(0,o._)(this,cd).$providerSetup.set(!0);return}(0,v.peek)(()=>{var e;return null==(e=t.preconnect)?void 0:e.call(t)})}}function cP(){if(!(0,o._)(this,cd).$providerSetup())return;let t=(0,o._)(this,cd).$provider(),e=(0,o._)(this,cd).$state.source(),i=(0,v.peek)((0,o._)(this,cd).$state.crossOrigin),s=(0,v.peek)((0,o._)(this,cd).$props.preferNativeHLS);if(!cq(null==t?void 0:t.currentSrc,e)){if((0,o._)(this,cd).$state.canLoad()){let n=new AbortController;if(B(e))(s||!E())&&(function t(e,i){return fetch(e,i).then(t=>t.text()).then(s=>{let n=function(t){let e=t.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return e?e[0].split("\n")[1].trim():null}(s);if(n)return t(/^https?:/.test(n)?n:new URL(n,e).href,i);let a=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(s)?"on-demand":"live";return"live"===a&&function(t){for(let e of t.split("\n"))if(e.startsWith("#EXT-X-TARGETDURATION")){let t=parseFloat(e.split(":")[1]);if(!isNaN(t))return t}return -1}(s)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(s)||s.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":a})})(e.src,{credentials:tt(i),signal:n.signal}).then(t=>{(0,o._)(this,cd).notify("stream-type-change",t)}).catch(v.noop);else if(Q(e))fetch(e.src,{credentials:tt(i),signal:n.signal}).then(t=>t.text()).then(t=>/type="static"/.test(t)?"on-demand":"live").then(t=>{(0,o._)(this,cd).notify("stream-type-change",t)}).catch(v.noop);else(0,o._)(this,cd).notify("stream-type-change","on-demand");return(0,v.peek)(()=>{let i=(0,v.peek)((0,o._)(this,cd).$state.preload);return null==t?void 0:t.loadSource(e,i).catch(t=>{})}),()=>n.abort()}try{(0,v.isString)(e.src)&&Y(new URL(e.src).origin)}catch(t){}}}function cA(){let t=(0,o._)(this,c_).call(this),{providedPoster:e,source:i,canLoadPoster:s}=(0,o._)(this,cd).$state;if(!t||!t.loadPoster||!i()||!s()||e())return;let n=new AbortController,a=new v.DOMEvent("source-change",{detail:i});return t.loadPoster(i(),(0,o._)(this,cd),n).then(t=>{(0,o._)(this,cd).notify("poster-change",t||"",a)}).catch(()=>{(0,o._)(this,cd).notify("poster-change","",a)}),()=>{n.abort()}}function cC(t){return((0,v.isArray)(t)?t:[t]).map(t=>(0,v.isString)(t)?{src:t,type:cE(t)}:{...t,type:cE(t.src,t.type)})}function cE(t,e){if((0,v.isString)(e)&&e.length)return e;if((0,v.isString)(t)&&cr.has(t))return cr.get(t);if(!e&&B({src:t,type:""}))return"application/x-mpegurl";if(!e&&Q({src:t,type:""}))return"application/dash+xml";if(!(0,v.isString)(t)||t.startsWith("blob:"))return"video/object";else if(t.includes("youtube")||t.includes("youtu.be"))return"video/youtube";else if(t.includes("vimeo")&&!t.includes("progressive_redirect")&&!t.includes(".m3u8"))return"video/vimeo";return"?"}function cq(t,e){return(null==t?void 0:t.src)===(null==e?void 0:e.src)&&(null==t?void 0:t.type)===(null==e?void 0:e.type)}var cD=new WeakMap,cO=new WeakMap,cL=new WeakMap,cI=new WeakSet;class cF{constructor(t,e){(0,p._)(this,cI),(0,u._)(this,cD,{writable:!0,value:void 0}),(0,u._)(this,cO,{writable:!0,value:void 0}),(0,u._)(this,cL,{writable:!0,value:void 0}),(0,c._)(this,cL,[]),(0,c._)(this,cD,t),(0,c._)(this,cO,e),(0,v.effect)((0,_._)(this,cI,cV).bind(this))}}function cV(){let t=(0,o._)(this,cD).call(this);for(let e of(0,o._)(this,cL))if(!t.some(t=>t.id===e.id)){let t=e.id&&(0,o._)(this,cO).textTracks.getById(e.id);t&&(0,o._)(this,cO).textTracks.remove(t)}for(let e of t){let t=e.id||tW.createId(e);(0,o._)(this,cO).textTracks.getById(t)||(e.id=t,(0,o._)(this,cO).textTracks.add(e))}(0,c._)(this,cL,t)}var cN=new WeakMap,cR=new WeakMap,cG=new WeakMap,cj=new WeakMap,cK=new WeakMap,cU=new WeakMap,cH=new WeakSet,cB=new WeakSet,cQ=new WeakSet,cz=new WeakSet;class cX extends v.Component{onSetup(){(0,c._)(this,cN,tj()),(0,c._)(this,cR,new cy((0,o._)(this,cG),(0,o._)(this,cN),this.$state.loader,this.$props.loaders()))}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){(0,o._)(this,cR).connect(),new cF((0,o._)(this,cj),(0,o._)(this,cN));let e=new ResizeObserver((0,v.animationFrameThrottle)((0,_._)(this,cQ,cZ).bind(this)));e.observe(t);let i=new MutationObserver((0,_._)(this,cz,c0).bind(this));i.observe(t,{attributes:!0,childList:!0}),(0,_._)(this,cQ,cZ).call(this),(0,_._)(this,cz,c0).call(this),(0,v.onDispose)(()=>{e.disconnect(),i.disconnect()})}load(t){null==t||t.setAttribute("aria-hidden","true"),window.cancelAnimationFrame((0,o._)(this,cU)),(0,c._)(this,cU,requestAnimationFrame(()=>(0,_._)(this,cH,cY).call(this,t))),(0,v.onDispose)(()=>{window.cancelAnimationFrame((0,o._)(this,cU))})}onDestroy(){(0,c._)(this,cK,null),(0,_._)(this,cB,cJ).call(this)}constructor(...t){super(...t),(0,p._)(this,cH),(0,p._)(this,cB),(0,p._)(this,cQ),(0,p._)(this,cz),(0,u._)(this,cN,{writable:!0,value:void 0}),(0,u._)(this,cR,{writable:!0,value:void 0}),(0,u._)(this,cG,{writable:!0,value:void 0}),(0,u._)(this,cj,{writable:!0,value:void 0}),(0,u._)(this,cK,{writable:!0,value:void 0}),(0,u._)(this,cU,{writable:!0,value:void 0}),(0,c._)(this,cG,(0,v.signal)([])),(0,c._)(this,cj,(0,v.signal)([])),(0,c._)(this,cK,null),(0,c._)(this,cU,-1)}}function cY(t){if(!this.scope)return;let e=this.$state.loader(),{$provider:i}=(0,o._)(this,cN);!((0,o._)(this,cK)===e&&(null==e?void 0:e.target)===t&&(0,v.peek)(i))&&((0,_._)(this,cB,cJ).call(this),(0,c._)(this,cK,e),e&&(e.target=t||null),e&&t&&e.load((0,o._)(this,cN)).then(t=>{this.scope&&(0,v.peek)(this.$state.loader)===e&&(0,o._)(this,cN).notify("provider-change",t)}))}function cJ(){var t;null==(t=(0,o._)(this,cN))||t.notify("provider-change",null)}function cZ(){if(!this.el)return;let{player:t,$state:e}=(0,o._)(this,cN),i=this.el.offsetWidth,s=this.el.offsetHeight;t&&(e.mediaWidth.set(i),e.mediaHeight.set(s),t.el&&((0,v.setStyle)(t.el,"--media-width",i+"px"),(0,v.setStyle)(t.el,"--media-height",s+"px")))}function c0(){let t=[],e=[];for(let i of this.el.children)if(!i.hasAttribute("data-vds")){if(i instanceof HTMLSourceElement){let e={id:i.id,src:i.src,type:i.type};for(let t of["id","src","width","height","bitrate","codec"]){let s=i.getAttribute("data-".concat(t));(0,v.isString)(s)&&(e[t]=/id|src|codec/.test(t)?s:Number(s))}t.push(e)}else if(i instanceof HTMLTrackElement){let t={src:i.src,kind:i.track.kind,language:i.srclang,label:i.label,default:i.default,type:i.getAttribute("data-type")};e.push({id:i.id||tW.createId(t),...t})}}(0,o._)(this,cG).set(t),(0,o._)(this,cj).set(e),(0,v.tick)()}cX.props={loaders:[]},cX.state=new v.State({loader:null});let c1=cX.prototype;(0,v.method)(c1,"load");var c2=new WeakMap,c3=new WeakMap,c5=new WeakSet,c4=new WeakSet,c9=new WeakSet,c8=new WeakSet,c6=new WeakSet,c7=new WeakMap,dt=new WeakMap,de=new WeakSet,di=new WeakSet,ds=new WeakSet,dn=new WeakSet;class da extends v.Component{onSetup(){(0,c._)(this,c2,tj())}onAttach(t){t.style.display="contents"}onConnect(t){t.setAttribute("data-media-announcer",""),ed(t,"role","status"),ed(t,"aria-live","polite");let{busy:e}=this.$state;this.setAttributes({"aria-busy":()=>e()?"true":null}),(0,c._)(this,c3,!0),(0,v.effect)((0,_._)(this,c5,dl).bind(this)),(0,v.effect)((0,_._)(this,c6,dc).bind(this)),(0,v.effect)((0,_._)(this,c8,du).bind(this)),(0,v.effect)((0,_._)(this,c4,dh).bind(this)),(0,v.effect)((0,_._)(this,c9,dr).bind(this)),(0,v.effect)((0,_._)(this,de,dd).bind(this)),(0,v.effect)((0,_._)(this,ds,dp).bind(this)),(0,v.tick)(),(0,c._)(this,c3,!1)}constructor(...t){super(...t),(0,p._)(this,c5),(0,p._)(this,c4),(0,p._)(this,c9),(0,p._)(this,c8),(0,p._)(this,c6),(0,p._)(this,de),(0,p._)(this,di),(0,p._)(this,ds),(0,p._)(this,dn),(0,u._)(this,c2,{writable:!0,value:void 0}),(0,u._)(this,c3,{writable:!0,value:void 0}),(0,u._)(this,c7,{writable:!0,value:void 0}),(0,u._)(this,dt,{writable:!0,value:void 0}),(0,c._)(this,c3,!1),(0,c._)(this,c7,-1),(0,c._)(this,dt,-1)}}function dl(){let{paused:t}=(0,o._)(this,c2).$state;(0,_._)(this,dn,df).call(this,t()?"Pause":"Play")}function dh(){let{fullscreen:t}=(0,o._)(this,c2).$state;(0,_._)(this,dn,df).call(this,t()?"Enter Fullscreen":"Exit Fullscreen")}function dr(){let{pictureInPicture:t}=(0,o._)(this,c2).$state;(0,_._)(this,dn,df).call(this,t()?"Enter PiP":"Exit PiP")}function du(){let{textTrack:t}=(0,o._)(this,c2).$state;(0,_._)(this,dn,df).call(this,t()?"Closed-Captions On":"Closed-Captions Off")}function dc(){var t;let{muted:e,volume:i,audioGain:s}=(0,o._)(this,c2).$state;(0,_._)(this,dn,df).call(this,e()||0===i()?"Mute":"".concat(Math.round(i()*(null!=(t=s())?t:1)*100),"% ").concat((0,_._)(this,di,d_).call(this,"Volume")))}function dd(){let{seeking:t,currentTime:e}=(0,o._)(this,c2).$state,i=t();(0,o._)(this,c7)>0?(window.clearTimeout((0,o._)(this,dt)),(0,c._)(this,dt,window.setTimeout(()=>{if(!this.scope)return;let t=(0,v.peek)(e),i=Math.abs(t-(0,o._)(this,c7));if(i>=1){let e=t>=(0,o._)(this,c7),s=hy(i);(0,_._)(this,dn,df).call(this,"".concat((0,_._)(this,di,d_).call(this,e?"Seek Forward":"Seek Backward")," ").concat(s))}(0,c._)(this,c7,-1),(0,c._)(this,dt,-1)},300))):i&&(0,c._)(this,c7,(0,v.peek)(e))}function d_(t){var e,i;let{translations:s}=this.$props;return null!=(i=null==s||null==(e=s())?void 0:e[t||""])?i:t}function dp(){let{label:t,busy:e}=this.$state,i=(0,_._)(this,di,d_).call(this,t());if((0,o._)(this,c3))return;e.set(!0);let s=window.setTimeout(()=>void e.set(!1),150);return this.el&&(0,v.setAttribute)(this.el,"aria-label",i),(0,v.isString)(i)&&this.dispatch("change",{detail:i}),()=>window.clearTimeout(s)}function df(t){let{label:e}=this.$state;e.set(t)}da.props={translations:null},da.state=new v.State({label:null,busy:!1});var dv=new WeakMap,dw=new WeakSet,dg=new WeakSet,dm=new WeakSet;class dk extends v.Component{onSetup(){(0,c._)(this,dv,tj()),(0,v.effect)((0,_._)(this,dg,dy).bind(this))}onAttach(t){let{pictureInPicture:e,fullscreen:i}=(0,o._)(this,dv).$state;(0,v.setStyle)(t,"pointer-events","none"),ed(t,"role","group"),this.setAttributes({"data-visible":(0,_._)(this,dm,dS).bind(this),"data-fullscreen":i,"data-pip":e}),(0,v.effect)(()=>{this.dispatch("change",{detail:(0,_._)(this,dm,dS).call(this)})}),(0,v.effect)((0,_._)(this,dw,db).bind(this)),(0,v.effect)(()=>{let e=i();for(let i of["top","right","bottom","left"])(0,v.setStyle)(t,"padding-".concat(i),e&&"env(safe-area-inset-".concat(i,")"))})}constructor(...t){super(...t),(0,p._)(this,dw),(0,p._)(this,dg),(0,p._)(this,dm),(0,u._)(this,dv,{writable:!0,value:void 0})}}function db(){if(!this.el)return;let{nativeControls:t}=(0,o._)(this,dv).$state,e=t();(0,v.setAttribute)(this.el,"aria-hidden",e?"true":null),(0,v.setStyle)(this.el,"display",e?"none":null)}function dy(){let{controls:t}=(0,o._)(this,dv).player,{hideDelay:e,hideOnMouseLeave:i}=this.$props;t.defaultDelay=2e3===e()?(0,o._)(this,dv).$props.controlsDelay():e(),t.hideOnMouseLeave=i()}function dS(){let{controlsVisible:t}=(0,o._)(this,dv).$state;return t()}dk.props={hideDelay:2e3,hideOnMouseLeave:!1};var dW=new WeakMap,d$=new WeakSet,dM=new WeakMap,dx=new WeakMap,dT=new WeakMap,dP=new WeakSet;class dA extends v.ViewController{onDestroy(){var t;null==(t=(0,o._)(this,dT))||t.call(this),(0,c._)(this,dT,null)}show(t){var e,i,s,n;(0,_._)(this,dP,dE).call(this),window.cancelAnimationFrame((0,o._)(this,dx)),(0,c._)(this,dx,-1),null==(s=(0,o._)(this,dT))||s.call(this),(0,c._)(this,dT,null),(0,c._)(this,dM,window.setTimeout(()=>{(0,c._)(this,dM,-1);let e=(0,o._)(this,dW).content();e&&e.style.removeProperty("display"),(0,v.peek)(()=>(0,o._)(this,dW).onChange(!0,t))},null!=(n=null==(e=(i=(0,o._)(this,dW)).showDelay)?void 0:e.call(i))?n:0))}hide(t){var e,i;(0,_._)(this,dP,dE).call(this),(0,v.peek)(()=>(0,o._)(this,dW).onChange(!1,t)),(0,c._)(this,dx,requestAnimationFrame(()=>{(0,_._)(this,dP,dE).call(this),(0,c._)(this,dx,-1);let t=(0,o._)(this,dW).content();if(t){let s=()=>{t.style.display="none",(0,c._)(this,dT,null)};if("none"!==getComputedStyle(t).animationName){null==(e=(0,o._)(i=this,dT))||e.call(i);let n=(0,v.listenEvent)(t,"animationend",s,{once:!0});(0,c._)(this,dT,n)}else s()}}))}constructor(t){super(),(0,p._)(this,d$),(0,p._)(this,dP),(0,u._)(this,dW,{writable:!0,value:void 0}),(0,u._)(this,dM,{writable:!0,value:void 0}),(0,u._)(this,dx,{writable:!0,value:void 0}),(0,u._)(this,dT,{writable:!0,value:void 0}),(0,c._)(this,dM,-1),(0,c._)(this,dx,-1),(0,c._)(this,dT,null),(0,c._)(this,dW,t),(0,v.effect)((0,_._)(this,d$,dC).bind(this))}}function dC(){let t=(0,o._)(this,dW).trigger();if(!t)return void this.hide();let e=this.show.bind(this),i=this.hide.bind(this);(0,o._)(this,dW).listen(t,e,i)}function dE(){window.clearTimeout((0,o._)(this,dM)),(0,c._)(this,dM,-1)}let dq=(0,v.createContext)(),dD=0;var dO=new WeakMap,dL=new WeakMap,dI=new WeakMap,dF=new WeakMap,dV=new WeakSet,dN=new WeakSet,dR=new WeakSet,dG=new WeakSet,dj=new WeakSet;class dK extends v.Component{onAttach(t){t.style.setProperty("display","contents")}onSetup(){(0,v.provideContext)(dq,{trigger:(0,o._)(this,dL),content:(0,o._)(this,dI),showing:(0,o._)(this,dF),attachTrigger:(0,_._)(this,dV,dU).bind(this),detachTrigger:(0,_._)(this,dN,dH).bind(this),attachContent:(0,_._)(this,dR,dB).bind(this),detachContent:(0,_._)(this,dG,dQ).bind(this)})}constructor(){super(),(0,p._)(this,dV),(0,p._)(this,dN),(0,p._)(this,dR),(0,p._)(this,dG),(0,p._)(this,dj),(0,u._)(this,dO,{writable:!0,value:void 0}),(0,u._)(this,dL,{writable:!0,value:void 0}),(0,u._)(this,dI,{writable:!0,value:void 0}),(0,u._)(this,dF,{writable:!0,value:void 0}),(0,c._)(this,dO,"media-tooltip-".concat(++dD)),(0,c._)(this,dL,(0,v.signal)(null)),(0,c._)(this,dI,(0,v.signal)(null)),(0,c._)(this,dF,(0,v.signal)(!1)),new u_;let{showDelay:t}=this.$props;new dA({trigger:(0,o._)(this,dL),content:(0,o._)(this,dI),showDelay:t,listen(t,e,i){(0,v.effect)(()=>{uh()&&(0,v.listenEvent)(t,"focus",e),(0,v.listenEvent)(t,"blur",i)}),new v.EventsController(t).add("touchstart",t=>t.preventDefault(),{passive:!1}).add("mouseenter",e).add("mouseleave",i)},onChange:(0,_._)(this,dj,dz).bind(this)})}}function dU(t){(0,o._)(this,dL).set(t);let e=t.getAttribute("data-media-tooltip");if(e){var i;null==(i=this.el)||i.setAttribute("data-media-".concat(e,"-tooltip"),"")}(0,v.setAttribute)(t,"data-describedby",(0,o._)(this,dO))}function dH(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),(0,o._)(this,dL).set(null)}function dB(t){t.setAttribute("id",(0,o._)(this,dO)),t.style.display="none",ed(t,"role","tooltip"),(0,o._)(this,dI).set(t)}function dQ(t){t.removeAttribute("id"),t.removeAttribute("role"),(0,o._)(this,dI).set(null)}function dz(t){let e=(0,o._)(this,dL).call(this),i=(0,o._)(this,dI).call(this);for(let s of(e&&(0,v.setAttribute)(e,"aria-describedby",t?(0,o._)(this,dO):null),[this.el,e,i]))s&&(0,v.setAttribute)(s,"data-visible",t);(0,o._)(this,dF).set(t)}dK.props={showDelay:700};var dX=new WeakSet;function dY(){let t=this.el.firstElementChild;return(null==t?void 0:t.localName)==="button"||(null==t?void 0:t.getAttribute("role"))==="button"?t:this.el}v.Component;var dJ=new WeakSet,dZ=new WeakSet,d0=new WeakSet;class d1 extends v.Component{onAttach(t){(0,_._)(this,dJ,d2).call(this,t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){(0,_._)(this,dJ,d2).call(this,t);let e=(0,v.useContext)(dq);(0,v.onDispose)(()=>e.detachContent(t)),(0,v.onDispose)(em(()=>{this.connectScope&&(0,v.effect)((0,_._)(this,dZ,d3).bind(this))}))}constructor(){super(),(0,p._)(this,dJ),(0,p._)(this,dZ),(0,p._)(this,d0),new u_;let{placement:t}=this.$props;this.setAttributes({"data-placement":t})}}function d2(t){(0,v.useContext)(dq).attachContent(t)}function d3(){let{showing:t}=(0,v.useContext)(dq);if(!t())return;let{placement:e,offset:i,alignOffset:s}=this.$props;return ek(this.el,(0,_._)(this,d0,d5).call(this),e(),{offsetVarName:"media-tooltip",xOffset:s(),yOffset:i()})}function d5(){return(0,v.useContext)(dq).trigger()}d1.props={placement:"top center",offset:0,alignOffset:0};var d4=new WeakMap,d9=new WeakSet,d8=new WeakSet,d6=new WeakSet,d7=new WeakSet;class _t extends v.ViewController{onSetup(){let{disabled:t}=this.$props;this.setAttributes({"data-pressed":(0,o._)(this,d4).isPresssed,"aria-pressed":(0,_._)(this,d9,_e).bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){ed(t,"tabindex","0"),ed(t,"role","button"),ed(t,"type","button")}onConnect(t){let e=ew(t,(0,_._)(this,d6,_s).bind(this));for(let t of["click","touchstart"])e.add(t,(0,_._)(this,d7,_n).bind(this),{passive:!0})}constructor(t){super(),(0,p._)(this,d9),(0,p._)(this,d8),(0,p._)(this,d6),(0,p._)(this,d7),(0,u._)(this,d4,{writable:!0,value:void 0}),(0,c._)(this,d4,t),new u_,t.keyShortcut&&new iG(t.keyShortcut)}}function _e(){return(0,v.ariaBool)((0,o._)(this,d4).isPresssed())}function _i(t){(0,v.isWriteSignal)((0,o._)(this,d4).isPresssed)&&(0,o._)(this,d4).isPresssed.set(t=>!t)}function _s(t){var e;if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(null!=(e=(0,o._)(this,d4).onPress)?e:(0,_._)(this,d8,_i)).call(this,t)}function _n(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}_t.props={disabled:!1};var _a=new WeakMap;class _l extends v.Component{get pressed(){return(0,o._)(this,_a).call(this)}constructor(){super(),(0,u._)(this,_a,{writable:!0,value:void 0}),(0,c._)(this,_a,(0,v.signal)(!1)),new _t({isPresssed:(0,o._)(this,_a)})}}_l.props={disabled:!1,defaultPressed:!1};let _h=_l.prototype;(0,v.prop)(_h,"pressed");var _r=new WeakMap,_o=new WeakSet,_u=new WeakSet,_c=new WeakSet,_d=new WeakSet;class __ extends v.Component{onSetup(){(0,c._)(this,_r,tj());let{canAirPlay:t,isAirPlayConnected:e}=(0,o._)(this,_r).$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":(0,_._)(this,_c,_v).bind(this),"aria-hidden":hj(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),e_(t,(0,_._)(this,_d,_w).bind(this))}constructor(){super(),(0,p._)(this,_o),(0,p._)(this,_u),(0,p._)(this,_c),(0,p._)(this,_d),(0,u._)(this,_r,{writable:!0,value:void 0}),new _t({isPresssed:(0,_._)(this,_u,_f).bind(this),onPress:(0,_._)(this,_o,_p).bind(this)})}}function _p(t){(0,o._)(this,_r).remote.requestAirPlay(t)}function _f(){let{remotePlaybackType:t,remotePlaybackState:e}=(0,o._)(this,_r).$state;return"airplay"===t()&&"disconnected"!==e()}function _v(){let{remotePlaybackType:t,remotePlaybackState:e}=(0,o._)(this,_r).$state;return"airplay"===t()&&e()}function _w(){let{remotePlaybackState:t}=(0,o._)(this,_r).$state;return"AirPlay ".concat(t())}__.props=_t.props;var _g=new WeakMap,_m=new WeakSet,_k=new WeakSet,_b=new WeakSet,_y=new WeakSet;class _S extends v.Component{onSetup(){(0,c._)(this,_g,tj());let{canGoogleCast:t,isGoogleCastConnected:e}=(0,o._)(this,_g).$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":(0,_._)(this,_b,_M).bind(this),"aria-hidden":hj(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","google-cast"),e_(t,(0,_._)(this,_y,_x).bind(this))}constructor(){super(),(0,p._)(this,_m),(0,p._)(this,_k),(0,p._)(this,_b),(0,p._)(this,_y),(0,u._)(this,_g,{writable:!0,value:void 0}),new _t({isPresssed:(0,_._)(this,_k,_$).bind(this),onPress:(0,_._)(this,_m,_W).bind(this)})}}function _W(t){(0,o._)(this,_g).remote.requestGoogleCast(t)}function _$(){let{remotePlaybackType:t,remotePlaybackState:e}=(0,o._)(this,_g).$state;return"google-cast"===t()&&"disconnected"!==e()}function _M(){let{remotePlaybackType:t,remotePlaybackState:e}=(0,o._)(this,_g).$state;return"google-cast"===t()&&e()}function _x(){let{remotePlaybackState:t}=(0,o._)(this,_g).$state;return"Google Cast ".concat(t())}_S.props=_t.props;var _T=new WeakMap,_P=new WeakSet,_A=new WeakSet;class _C extends v.Component{onSetup(){(0,c._)(this,_T,tj());let{paused:t,ended:e}=(0,o._)(this,_T).$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),e_(t,"Play")}constructor(){super(),(0,p._)(this,_P),(0,p._)(this,_A),(0,u._)(this,_T,{writable:!0,value:void 0}),new _t({isPresssed:(0,_._)(this,_A,_q).bind(this),keyShortcut:"togglePaused",onPress:(0,_._)(this,_P,_E).bind(this)})}}function _E(t){let e=(0,o._)(this,_T).remote;(0,_._)(this,_A,_q).call(this)?e.pause(t):e.play(t)}function _q(){let{paused:t}=(0,o._)(this,_T).$state;return!t()}_C.props=_t.props;var _D=new WeakMap,_O=new WeakSet,_L=new WeakSet,_I=new WeakSet;class _F extends v.Component{onSetup(){(0,c._)(this,_D,tj()),this.setAttributes({"data-active":(0,_._)(this,_L,_N).bind(this),"data-supported":()=>!(0,_._)(this,_I,_R).call(this),"aria-hidden":hj((0,_._)(this,_I,_R).bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),e_(t,"Captions")}constructor(){super(),(0,p._)(this,_O),(0,p._)(this,_L),(0,p._)(this,_I),(0,u._)(this,_D,{writable:!0,value:void 0}),new _t({isPresssed:(0,_._)(this,_L,_N).bind(this),keyShortcut:"toggleCaptions",onPress:(0,_._)(this,_O,_V).bind(this)})}}function _V(t){(0,o._)(this,_D).remote.toggleCaptions(t)}function _N(){let{textTrack:t}=(0,o._)(this,_D).$state,e=t();return!!e&&tE(e)}function _R(){let{hasCaptions:t}=(0,o._)(this,_D).$state;return!t()}_F.props=_t.props;var _G=new WeakMap,_j=new WeakSet,_K=new WeakSet,_U=new WeakSet;class _H extends v.Component{onSetup(){(0,c._)(this,_G,tj());let{fullscreen:t}=(0,o._)(this,_G).$state,e=(0,_._)(this,_U,_z).bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":hj(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),e_(t,"Fullscreen")}constructor(){super(),(0,p._)(this,_j),(0,p._)(this,_K),(0,p._)(this,_U),(0,u._)(this,_G,{writable:!0,value:void 0}),new _t({isPresssed:(0,_._)(this,_K,_Q).bind(this),keyShortcut:"toggleFullscreen",onPress:(0,_._)(this,_j,_B).bind(this)})}}function _B(t){let e=(0,o._)(this,_G).remote,i=this.$props.target();(0,_._)(this,_K,_Q).call(this)?e.exitFullscreen(i,t):e.enterFullscreen(i,t)}function _Q(){let{fullscreen:t}=(0,o._)(this,_G).$state;return t()}function _z(){let{canFullscreen:t}=(0,o._)(this,_G).$state;return t()}_H.props={..._t.props,target:"prefer-media"};var _X=new WeakMap,_Y=new WeakSet,_J=new WeakSet,_Z=new WeakSet;class _0 extends v.Component{onSetup(){(0,c._)(this,_X,tj()),this.setAttributes({"data-muted":(0,_._)(this,_J,_2).bind(this),"data-state":(0,_._)(this,_Z,_3).bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),e_(t,"Mute")}constructor(){super(),(0,p._)(this,_Y),(0,p._)(this,_J),(0,p._)(this,_Z),(0,u._)(this,_X,{writable:!0,value:void 0}),new _t({isPresssed:(0,_._)(this,_J,_2).bind(this),keyShortcut:"toggleMuted",onPress:(0,_._)(this,_Y,_1).bind(this)})}}function _1(t){let e=(0,o._)(this,_X).remote;(0,_._)(this,_J,_2).call(this)?e.unmute(t):e.mute(t)}function _2(){let{muted:t,volume:e}=(0,o._)(this,_X).$state;return t()||0===e()}function _3(){let{muted:t,volume:e}=(0,o._)(this,_X).$state,i=e();return t()||0===i?"muted":i>=.5?"high":i<.5?"low":void 0}_0.props=_t.props;var _5=new WeakMap,_4=new WeakSet,_9=new WeakSet,_8=new WeakSet;class _6 extends v.Component{onSetup(){(0,c._)(this,_5,tj());let{pictureInPicture:t}=(0,o._)(this,_5).$state,e=(0,_._)(this,_8,pe).bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":hj(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),e_(t,"PiP")}constructor(){super(),(0,p._)(this,_4),(0,p._)(this,_9),(0,p._)(this,_8),(0,u._)(this,_5,{writable:!0,value:void 0}),new _t({isPresssed:(0,_._)(this,_9,pt).bind(this),keyShortcut:"togglePictureInPicture",onPress:(0,_._)(this,_4,_7).bind(this)})}}function _7(t){let e=(0,o._)(this,_5).remote;(0,_._)(this,_9,pt).call(this)?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}function pt(){let{pictureInPicture:t}=(0,o._)(this,_5).$state;return t()}function pe(){let{canPictureInPicture:t}=(0,o._)(this,_5).$state;return t()}_6.props=_t.props;var pi=new WeakMap,ps=new WeakSet,pn=new WeakSet,pa=new WeakSet;class pl extends v.Component{onSetup(){(0,c._)(this,pi,tj());let{seeking:t}=(0,o._)(this,pi).$state,{seconds:e}=this.$props,i=(0,_._)(this,ps,ph).bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":i,"aria-hidden":hj(()=>!i())})}onAttach(t){ed(t,"tabindex","0"),ed(t,"role","button"),ed(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),e_(t,(0,_._)(this,pn,pr).bind(this))}onConnect(t){ew(t,(0,_._)(this,pa,po).bind(this))}constructor(){super(),(0,p._)(this,ps),(0,p._)(this,pn),(0,p._)(this,pa),(0,u._)(this,pi,{writable:!0,value:void 0}),new u_}}function ph(){let{canSeek:t}=(0,o._)(this,pi).$state;return t()}function pr(){let{seconds:t}=this.$props;return"Seek ".concat(t()>0?"forward":"backward"," ").concat(t()," seconds")}function po(t){let{seconds:e,disabled:i}=this.$props;if(i())return;let{currentTime:s}=(0,o._)(this,pi).$state,n=s()+e();(0,o._)(this,pi).remote.seek(n,t)}pl.props={disabled:!1,seconds:30};var pu=new WeakMap,pc=new WeakSet;class pd extends v.Component{onSetup(){(0,c._)(this,pu,tj());let{disabled:t}=this.$props,{live:e,liveEdge:i}=(0,o._)(this,pu).$state,s=()=>!e();this.setAttributes({"data-edge":i,"data-hidden":s,"aria-disabled":hj(()=>t()||i()),"aria-hidden":hj(s)})}onAttach(t){ed(t,"tabindex","0"),ed(t,"role","button"),ed(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){ew(t,(0,_._)(this,pc,p_).bind(this))}constructor(){super(),(0,p._)(this,pc),(0,u._)(this,pu,{writable:!0,value:void 0}),new u_}}function p_(t){let{disabled:e}=this.$props,{liveEdge:i}=(0,o._)(this,pu).$state;e()||i()||(0,o._)(this,pu).remote.seekToLiveEdge(t)}pd.props={disabled:!1};let pp=new v.State({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return pf(this.min,this.max,this.value)},get fillPercent(){return 100*this.fillRate},get pointerRate(){return pf(this.min,this.max,this.pointerValue)},get pointerPercent(){return 100*this.pointerRate}});function pf(t,e,i){let s=e-t;return s>0?(i-t)/s:0}var pv=new WeakMap,pw=new WeakMap,pg=new WeakSet;class pm extends v.ViewController{onConnect(t){(0,c._)(this,pw,new IntersectionObserver(t=>{var e,i;null==(e=(i=(0,o._)(this,pv)).callback)||e.call(i,t,(0,o._)(this,pw))},(0,o._)(this,pv))),(0,o._)(this,pw).observe(t),(0,v.onDispose)((0,_._)(this,pg,pk).bind(this))}constructor(t){super(),(0,p._)(this,pg),(0,u._)(this,pv,{writable:!0,value:void 0}),(0,u._)(this,pw,{writable:!0,value:void 0}),(0,c._)(this,pv,t)}}function pk(){var t;null==(t=(0,o._)(this,pw))||t.disconnect(),(0,c._)(this,pw,void 0)}let pb=(0,v.createContext)(),py=(0,v.createContext)(),pS={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};var pW=new WeakMap,p$=new WeakMap,pM=new WeakMap,px=new WeakSet,pT=new WeakMap,pP=new WeakMap,pA=new WeakMap,pC=new WeakSet,pE=new WeakSet,pq=new WeakSet,pD=new WeakSet,pO=new WeakSet,pL=new WeakSet,pI=new WeakSet,pF=new WeakSet,pV=new WeakSet,pN=new WeakSet,pR=new WeakSet,pG=new WeakSet,pj=new WeakSet,pK=new WeakSet,pU=new WeakMap,pH=new WeakMap,pB=new WeakSet,pQ=new WeakSet,pz=new WeakSet,pX=new WeakSet,pY=new WeakSet,pJ=new WeakSet,pZ=new WeakMap;class p0 extends v.ViewController{onSetup(){(0,v.hasProvidedContext)(py)&&(0,c._)(this,pM,(0,v.useContext)(py))}onConnect(t){(0,v.effect)((0,_._)(this,pq,p5).bind(this,t)),(0,v.effect)((0,_._)(this,pD,p4).bind(this,t)),(0,o._)(this,pW).swipeGesture&&(0,v.effect)((0,_._)(this,px,p1).bind(this))}constructor(t,e){super(),(0,p._)(this,px),(0,p._)(this,pC),(0,p._)(this,pE),(0,p._)(this,pq),(0,p._)(this,pD),(0,p._)(this,pO),(0,p._)(this,pL),(0,p._)(this,pI),(0,p._)(this,pF),(0,p._)(this,pV),(0,p._)(this,pN),(0,p._)(this,pR),(0,p._)(this,pG),(0,p._)(this,pj),(0,p._)(this,pK),(0,p._)(this,pB),(0,p._)(this,pQ),(0,p._)(this,pz),(0,p._)(this,pX),(0,p._)(this,pY),(0,p._)(this,pJ),(0,u._)(this,pW,{writable:!0,value:void 0}),(0,u._)(this,p$,{writable:!0,value:void 0}),(0,u._)(this,pM,{writable:!0,value:void 0}),(0,u._)(this,pT,{writable:!0,value:void 0}),(0,u._)(this,pP,{writable:!0,value:void 0}),(0,u._)(this,pA,{writable:!0,value:void 0}),(0,u._)(this,pU,{writable:!0,value:void 0}),(0,u._)(this,pH,{writable:!0,value:void 0}),(0,u._)(this,pZ,{writable:!0,value:void 0}),(0,c._)(this,pT,null),(0,c._)(this,pP,null),(0,c._)(this,pA,null),(0,c._)(this,pH,!1),(0,c._)(this,pZ,(0,v.functionThrottle)(t=>{(0,_._)(this,pI,p6).call(this,(0,_._)(this,pF,p7).call(this,t),t)},20,{leading:!0})),(0,c._)(this,pW,t),(0,c._)(this,p$,e)}}function p1(){var t;let{pointer:e}=(0,o._)(this,p$).$state;if("coarse"!==e()||!(0,o._)(this,pW).swipeGesture())return void(0,c._)(this,pT,null);(0,c._)(this,pT,null==(t=(0,o._)(this,p$).player.el)?void 0:t.querySelector("media-provider,[data-media-provider]")),(0,o._)(this,pT)&&new v.EventsController((0,o._)(this,pT)).add("touchstart",(0,_._)(this,pC,p2).bind(this),{passive:!0}).add("touchmove",(0,_._)(this,pE,p3).bind(this),{passive:!1})}function p2(t){(0,c._)(this,pP,t.touches[0])}function p3(t){if((0,v.isNull)((0,o._)(this,pP))||eg(t))return;let e=t.touches[0],i=e.clientX-(0,o._)(this,pP).clientX,s=e.clientY-(0,o._)(this,pP).clientY,n=this.$state.dragging();!n&&Math.abs(s)>5||!n&&(t.preventDefault(),Math.abs(i)>20&&((0,c._)(this,pP,e),(0,c._)(this,pA,this.$state.value()),(0,_._)(this,pj,fn).call(this,(0,o._)(this,pA),t)))}function p5(t){let{hidden:e}=this.$props;(0,v.listenEvent)(t,"focus",(0,_._)(this,pO,p9).bind(this)),e()||(0,o._)(this,pW).isDisabled()||new v.EventsController(t).add("keyup",(0,_._)(this,pQ,fh).bind(this)).add("keydown",(0,_._)(this,pB,fl).bind(this)).add("pointerenter",(0,_._)(this,pV,ft).bind(this)).add("pointermove",(0,_._)(this,pN,fe).bind(this)).add("pointerleave",(0,_._)(this,pR,fi).bind(this)).add("pointerdown",(0,_._)(this,pG,fs).bind(this))}function p4(t){!(0,o._)(this,pW).isDisabled()&&this.$state.dragging()&&new v.EventsController(document).add("pointerup",(0,_._)(this,pY,fu).bind(this),{capture:!0}).add("pointermove",(0,o._)(this,pZ).bind(this)).add("touchmove",(0,_._)(this,pJ,fc).bind(this),{passive:!1})}function p9(){(0,_._)(this,pI,p6).call(this,this.$state.value())}function p8(t,e){var i,s,n,a;let{value:l,min:h,max:r,dragging:u}=this.$state,c=Math.max(h(),Math.min(t,r()));l.set(c);let d=this.createEvent("value-change",{detail:c,trigger:e});if(this.dispatch(d),null==(i=(s=(0,o._)(this,pW)).onValueChange)||i.call(s,d),u()){let t=this.createEvent("drag-value-change",{detail:c,trigger:e});this.dispatch(t),null==(n=(a=(0,o._)(this,pW)).onDragValueChange)||n.call(a,t)}}function p6(t,e){let{pointerValue:i,dragging:s}=this.$state;i.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),s()&&(0,_._)(this,pL,p8).call(this,t,e)}function p7(t){let e,i=this.el.getBoundingClientRect(),{min:s,max:n}=this.$state;if("vertical"===this.$props.orientation()){let{bottom:s,height:n}=i;e=(s-t.clientY)/n}else if((0,o._)(this,pP)&&(0,v.isNumber)((0,o._)(this,pA))){let{width:i}=(0,o._)(this,pT).getBoundingClientRect(),a=(t.clientX-(0,o._)(this,pP).clientX)/i,l=n()-s(),h=l*Math.abs(a);e=(a<0?(0,o._)(this,pA)-h:(0,o._)(this,pA)+h)/l}else{let{left:s,width:n}=i;e=(t.clientX-s)/n}return Math.max(s(),Math.min(n(),(0,o._)(this,pW).roundValue(function(t,e,i,s){let n=s*Math.round((e-t)*eo(0,i,1)/s);return t+n}(s(),n(),e,(0,o._)(this,pW).getStep()))))}function ft(t){this.$state.pointing.set(!0)}function fe(t){let{dragging:e}=this.$state;e()||(0,_._)(this,pI,p6).call(this,(0,_._)(this,pF,p7).call(this,t),t)}function fi(t){this.$state.pointing.set(!1)}function fs(t){if(0!==t.button)return;let e=(0,_._)(this,pF,p7).call(this,t);(0,_._)(this,pj,fn).call(this,e,t),(0,_._)(this,pI,p6).call(this,e,t)}function fn(t,e){var i,s,n,a;let{dragging:l}=this.$state;if(l())return;l.set(!0),(0,o._)(this,p$).remote.pauseControls(e);let h=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(h),null==(i=(s=(0,o._)(this,pW)).onDragStart)||i.call(s,h),null==(a=(0,o._)(this,pM))||null==(n=a.onDragStart)||n.call(a)}function fa(t,e){var i,s,n,a;let{dragging:l}=this.$state;if(!l())return;l.set(!1),(0,o._)(this,p$).remote.resumeControls(e);let h=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(h),null==(i=(s=(0,o._)(this,pW)).onDragEnd)||i.call(s,h),(0,c._)(this,pP,null),(0,c._)(this,pA,null),null==(a=(0,o._)(this,pM))||null==(n=a.onDragEnd)||n.call(a)}function fl(t){if(!Object.keys(pS).includes(t.key))return;let{key:e}=t,i=(0,_._)(this,pz,fr).call(this,t);if(!(0,v.isNull)(i)){(0,_._)(this,pI,p6).call(this,i,t),(0,_._)(this,pL,p8).call(this,i,t);return}let s=(0,_._)(this,pX,fo).call(this,t);!(0,o._)(this,pH)&&((0,c._)(this,pH,e===(0,o._)(this,pU)),!this.$state.dragging()&&(0,o._)(this,pH)&&(0,_._)(this,pj,fn).call(this,s,t)),(0,_._)(this,pI,p6).call(this,s,t),(0,c._)(this,pU,e)}function fh(t){if(!Object.keys(pS).includes(t.key)||!(0,v.isNull)((0,_._)(this,pz,fr).call(this,t)))return;let e=(0,o._)(this,pH)?this.$state.pointerValue():(0,_._)(this,pX,fo).call(this,t);(0,_._)(this,pL,p8).call(this,e,t),(0,_._)(this,pK,fa).call(this,e,t),(0,c._)(this,pU,""),(0,c._)(this,pH,!1)}function fr(t){let e=t.key,{min:i,max:s}=this.$state;return"Home"===e||"PageUp"===e?i():"End"===e||"PageDown"===e?s():!t.metaKey&&/^[0-9]$/.test(e)?(s()-i())/10*Number(e):null}function fo(t){var e,i,s;let{key:n,shiftKey:a}=t;t.preventDefault(),t.stopPropagation();let{shiftKeyMultiplier:l}=this.$props,{min:h,max:r,value:u,pointerValue:c}=this.$state,d=(0,o._)(this,pW).getStep(),_=(0,o._)(this,pW).getKeyStep(),p=a?_*l():_,f=Number(pS[n]),v=(0,o._)(this,pH)?c():null!=(s=null==(e=(i=(0,o._)(this,pW)).getValue)?void 0:e.call(i))?s:u();return Math.max(h(),Math.min(r(),Number(((v+p*f)/d*d).toFixed(3))))}function fu(t){if(0!==t.button)return;t.preventDefault(),t.stopImmediatePropagation();let e=(0,_._)(this,pF,p7).call(this,t);(0,_._)(this,pI,p6).call(this,e,t),(0,_._)(this,pK,fa).call(this,e,t)}function fc(t){t.preventDefault()}let fd=(0,v.createContext)(()=>({}));var f_=new WeakMap,fp=new WeakMap,ff=new WeakMap,fv=new WeakMap,fw=new WeakSet,fg=new WeakSet,fm=new WeakSet,fk=new WeakSet,fb=new WeakSet,fy=new WeakSet,fS=new WeakSet,fW=new WeakSet,f$=new WeakMap;class fM extends v.ViewController{onSetup(){(0,c._)(this,f_,tj());let t=new u_;t.attach(this),this.$state.focused=t.focused.bind(t),(0,v.hasProvidedContext)(fd)||(0,v.provideContext)(fd,{default:"value"}),(0,v.provideContext)(pb,{orientation:this.$props.orientation,disabled:(0,o._)(this,fp).isDisabled,preview:(0,v.signal)(null)}),(0,v.effect)((0,_._)(this,fm,fP).bind(this)),(0,v.effect)((0,_._)(this,fk,fA).bind(this)),(0,v.effect)((0,_._)(this,fb,fC).bind(this)),(0,_._)(this,fS,fq).call(this),new p0((0,o._)(this,fp),(0,o._)(this,f_)).attach(this),new pm({callback:(0,_._)(this,fw,fx).bind(this)}).attach(this)}onAttach(t){ed(t,"role","slider"),ed(t,"tabindex","0"),ed(t,"autocomplete","off"),m?(0,_._)(this,fW,fD).call(this):(0,v.effect)((0,_._)(this,fW,fD).bind(this))}onConnect(t){(0,v.onDispose)(ef(t,(0,o._)(this,ff).set)),(0,v.effect)((0,_._)(this,fg,fT).bind(this))}constructor(t){super(),(0,p._)(this,fw),(0,p._)(this,fg),(0,p._)(this,fm),(0,p._)(this,fk),(0,p._)(this,fb),(0,p._)(this,fy),(0,p._)(this,fS),(0,p._)(this,fW),(0,u._)(this,f_,{writable:!0,value:void 0}),(0,u._)(this,fp,{writable:!0,value:void 0}),(0,u._)(this,ff,{writable:!0,value:void 0}),(0,u._)(this,fv,{writable:!0,value:void 0}),(0,u._)(this,f$,{writable:!0,value:void 0}),(0,c._)(this,ff,(0,v.signal)(!0)),(0,c._)(this,fv,(0,v.signal)(!0)),(0,c._)(this,f$,(0,v.animationFrameThrottle)((t,e)=>{var i,s;null==(i=this.el)||i.style.setProperty("--slider-fill",t+"%"),null==(s=this.el)||s.style.setProperty("--slider-pointer",e+"%")})),(0,c._)(this,fp,t)}}function fx(t){(0,o._)(this,fv).set(t[0].isIntersecting)}function fT(){let{hidden:t}=this.$props;this.$state.hidden.set(t()||!(0,o._)(this,ff).call(this)||!(0,o._)(this,fv).bind(this))}function fP(){let{dragging:t,value:e,min:i,max:s}=this.$state;if(!(0,v.peek)(t)){var n,a;e.set((n=i(),a=s(),eo(n,eh(e(),er((0,o._)(this,fp).getStep())),a)))}}function fA(){this.$state.step.set((0,o._)(this,fp).getStep())}function fC(){if(!(0,o._)(this,fp).isDisabled())return;let{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}function fE(){return(0,v.ariaBool)((0,o._)(this,fp).isDisabled())}function fq(){var t,e;let{orientation:i}=this.$props,{dragging:s,active:n,pointing:a}=this.$state;this.setAttributes({"data-dragging":s,"data-pointing":a,"data-active":n,"aria-disabled":(0,_._)(this,fy,fE).bind(this),"aria-valuemin":null!=(t=(0,o._)(this,fp).aria.valueMin)?t:this.$state.min,"aria-valuemax":null!=(e=(0,o._)(this,fp).aria.valueMax)?e:this.$state.max,"aria-valuenow":(0,o._)(this,fp).aria.valueNow,"aria-valuetext":(0,o._)(this,fp).aria.valueText,"aria-orientation":i})}function fD(){let{fillPercent:t,pointerPercent:e}=this.$state;(0,o._)(this,f$).call(this,eh(t(),3),eh(e(),3))}fM.props={hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};var fO=new WeakSet,fL=new WeakSet,fI=new WeakSet,fF=new WeakSet;class fV extends v.Component{onSetup(){(0,v.effect)((0,_._)(this,fI,fG).bind(this)),(0,v.effect)((0,_._)(this,fF,fj).bind(this))}constructor(){super(),(0,p._)(this,fO),(0,p._)(this,fL),(0,p._)(this,fI),(0,p._)(this,fF),new fM({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.$props.disabled,aria:{valueNow:(0,_._)(this,fO,fN).bind(this),valueText:(0,_._)(this,fL,fR).bind(this)}})}}function fN(){let{value:t}=this.$state;return Math.round(t())}function fR(){let{value:t,max:e}=this.$state;return eh(t()/e()*100,2)+"%"}function fG(){let{value:t}=this.$props;this.$state.value.set(t())}function fj(){let{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}fV.props={...fM.props,min:0,max:100,value:0},fV.state=pp;let fK=new Map,fU=new Map;var fH=new WeakMap,fB=new WeakMap,fQ=new WeakMap,fz=new WeakSet,fX=new WeakSet,fY=new WeakSet,fJ=new WeakSet,fZ=new WeakSet,f0=new WeakSet,f1=new WeakSet,f2=new WeakSet;class f3{static create(t,e){return new f3(t,e,tj())}constructor(t,e,i){(0,p._)(this,fz),(0,p._)(this,fX),(0,p._)(this,fY),(0,p._)(this,fJ),(0,p._)(this,fZ),(0,p._)(this,f0),(0,p._)(this,f1),(0,p._)(this,f2),(0,u._)(this,fH,{writable:!0,value:void 0}),(0,u._)(this,fB,{writable:!0,value:void 0}),(0,u._)(this,fQ,{writable:!0,value:void 0}),this.$images=(0,v.signal)([]),(0,c._)(this,fB,t),(0,c._)(this,fQ,e),(0,c._)(this,fH,i),(0,v.effect)((0,_._)(this,fz,f5).bind(this))}}function f5(){let{canLoad:t}=(0,o._)(this,fH).$state;if(!t())return;let e=(0,o._)(this,fB).call(this);if(e){if((0,v.isString)(e)&&fK.has(e)){let t=fK.get(e);if(fK.delete(e),fK.set(e,t),fK.size>99){let t=fK.keys().next().value;fK.delete(t)}this.$images.set(fK.get(e))}else if((0,v.isString)(e)){var s;let t=(0,o._)(this,fQ).call(this),n=e+"::"+t;if(!fU.has(n)){let s=new Promise(async(s,n)=>{try{let a=await fetch(e,{credentials:tt(t)});if("application/json"===a.headers.get("content-type")){let t=await a.json();if((0,v.isArray)(t))if(t[0]&&"text"in t[0])s((0,_._)(this,fJ,f8).call(this,t));else{for(let e=0;e<t.length;e++){let i=t[e];l4((0,v.isObject)(i),!1),l4("url"in i&&(0,v.isString)(i.url),!1),l4("startTime"in i&&(0,v.isNumber)(i.startTime),!1)}s(t)}else s((0,_._)(this,fY,f9).call(this,t));return}i.e(298).then(i.bind(i,1298)).then(async t=>{let{parseResponse:e}=t;try{let{cues:t}=await e(a);s((0,_._)(this,fJ,f8).call(this,t))}catch(t){n(t)}})}catch(t){n(t)}}).then(t=>(fK.set(n,t),t)).catch(t=>{(0,_._)(this,f2,ve).call(this,e,t)}).finally(()=>{(0,v.isString)(n)&&fU.delete(n)});fU.set(n,s)}null==(s=fU.get(n))||s.then(t=>{this.$images.set(t||[])})}else if((0,v.isArray)(e))try{this.$images.set((0,_._)(this,fX,f4).call(this,e))}catch(t){(0,_._)(this,f2,ve).call(this,e,t)}else try{this.$images.set((0,_._)(this,fY,f9).call(this,e))}catch(t){(0,_._)(this,f2,ve).call(this,e,t)}return()=>{this.$images.set([])}}}function f4(t){let e=(0,_._)(this,fZ,f6).call(this);return t.map((t,i)=>(l4(t.url&&(0,v.isString)(t.url)),l4("startTime"in t&&(0,v.isNumber)(t.startTime)),{...t,url:(0,v.isString)(t.url)?(0,_._)(this,f0,f7).call(this,t.url,e):t.url}))}function f9(t){var e;l4((0,v.isString)(t.url)),l4((0,v.isArray)(t.tiles)&&(null==(e=t.tiles)?void 0:e.length));let i=new URL(t.url),s=[],n="tile_width"in t?t.tile_width:t.tileWidth,a="tile_height"in t?t.tile_height:t.tileHeight;for(let e of t.tiles)s.push({url:i,startTime:"start"in e?e.start:e.startTime,width:n,height:a,coords:{x:e.x,y:e.y}});return s}function f8(t){for(let e=0;e<t.length;e++){let i=t[e];l4("startTime"in i&&(0,v.isNumber)(i.startTime)),l4("text"in i&&(0,v.isString)(i.text))}let e=[],i=(0,_._)(this,fZ,f6).call(this);for(let s of t){let[t,n]=s.text.split("#"),a=(0,_._)(this,f1,vt).call(this,n);e.push({url:(0,_._)(this,f0,f7).call(this,t,i),startTime:s.startTime,endTime:s.endTime,width:null==a?void 0:a.w,height:null==a?void 0:a.h,coords:a&&(0,v.isNumber)(a.x)&&(0,v.isNumber)(a.y)?{x:a.x,y:a.y}:void 0})}return e}function f6(){let t=(0,v.peek)((0,o._)(this,fB));return(0,v.isString)(t)&&/^https?:/.test(t)?t:location.href}function f7(t,e){return/^https?:/.test(t)?new URL(t):new URL(t,e)}function vt(t){if(!t)return{};let[e,i]=t.split("="),s=null==i?void 0:i.split(","),n={};if(!e||!s)return null;for(let t=0;t<e.length;t++){let i=+s[t];isNaN(i)||(n[e[t]]=i)}return n}function ve(t,e){}var vi=new WeakMap,vs=new WeakMap,vn=new WeakSet,va=new WeakSet,vl=new WeakSet,vh=new WeakSet,vr=new WeakSet,vo=new WeakSet,vu=new WeakSet,vc=new WeakSet,vd=new WeakSet,v_=new WeakSet,vp=new WeakSet,vf=new WeakSet;class vv extends v.Component{onSetup(){this.media=tj(),(0,c._)(this,vi,f3.create(this.$props.src,this.$state.crossOrigin)),(0,_._)(this,va,vg).call(this),this.setAttributes({"data-loading":(0,_._)(this,vo,vy).bind(this),"data-error":(0,_._)(this,vu,vS).bind(this),"data-hidden":this.$state.hidden,"aria-hidden":hj(this.$state.hidden)})}onConnect(t){(0,v.effect)((0,_._)(this,vn,vw).bind(this)),(0,v.effect)((0,_._)(this,vc,vW).bind(this)),(0,v.effect)((0,_._)(this,va,vg).bind(this)),(0,v.effect)((0,_._)(this,vl,vm).bind(this)),(0,v.effect)((0,_._)(this,vd,v$).bind(this)),(0,v.effect)((0,_._)(this,v_,vM).bind(this))}getTime(){return this.$props.time()}constructor(...t){super(...t),(0,p._)(this,vn),(0,p._)(this,va),(0,p._)(this,vl),(0,p._)(this,vh),(0,p._)(this,vr),(0,p._)(this,vo),(0,p._)(this,vu),(0,p._)(this,vc),(0,p._)(this,vd),(0,p._)(this,v_),(0,p._)(this,vp),(0,p._)(this,vf),(0,u._)(this,vi,{writable:!0,value:void 0}),(0,u._)(this,vs,{writable:!0,value:void 0}),(0,c._)(this,vs,[])}}function vw(){let t=this.$state.img();t&&new v.EventsController(t).add("load",(0,_._)(this,vh,vk).bind(this)).add("error",(0,_._)(this,vr,vb).bind(this))}function vg(){let{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i}=this.media.$state,s=null!==t()?t():i();e.set(!0===s?"anonymous":s)}function vm(){let{src:t,loading:e,error:i}=this.$state;return t()&&(e.set(!0),i.set(null)),()=>{(0,_._)(this,vf,vT).call(this),e.set(!1),i.set(null)}}function vk(){let{loading:t,error:e}=this.$state;(0,_._)(this,v_,vM).call(this),t.set(!1),e.set(null)}function vb(t){let{loading:e,error:i}=this.$state;e.set(!1),i.set(t)}function vy(){let{loading:t,hidden:e}=this.$state;return!e()&&t()}function vS(){let{error:t}=this.$state;return!(0,v.isNull)(t())}function vW(){let{hidden:t}=this.$state,{duration:e}=this.media.$state,i=(0,o._)(this,vi).$images();t.set((0,_._)(this,vu,vS).call(this)||!Number.isFinite(e())||0===i.length)}function v$(){let t=(0,o._)(this,vi).$images();if(!t.length)return;let e=this.getTime(),{src:i,activeThumbnail:s}=this.$state,n=-1,a=null;for(let i=t.length-1;i>=0;i--){let s=t[i];if(e>=s.startTime&&(!s.endTime||e<s.endTime)){n=i;break}}t[n]&&(a=t[n]),s.set(a),i.set((null==a?void 0:a.url.href)||"")}function vM(){var t,e;if(!this.scope||this.$state.hidden())return;let i=this.el,s=this.$state.img(),n=this.$state.activeThumbnail();if(!s||!n||!i)return;let a=null!=(t=n.width)?t:s.naturalWidth,l=null!=(e=null==n?void 0:n.height)?e:s.naturalHeight,{maxWidth:h,maxHeight:r,minWidth:o,minHeight:u,width:c,height:d}=getComputedStyle(this.el);"100%"===o&&(o=parseFloat(c)+""),"100%"===u&&(u=parseFloat(d)+"");let p=Math.max(parseInt(o)/a,parseInt(u)/l),f=Math.min(Math.max(parseInt(o),parseInt(h))/a,Math.max(parseInt(u),parseInt(r))/l),v=!isNaN(f)&&f<1?f:p>1?p:1;(0,_._)(this,vp,vx).call(this,i,"--thumbnail-width","".concat(a*v,"px")),(0,_._)(this,vp,vx).call(this,i,"--thumbnail-height","".concat(l*v,"px")),(0,_._)(this,vp,vx).call(this,i,"--thumbnail-aspect-ratio",String(eh(a/l,5))),(0,_._)(this,vp,vx).call(this,s,"width","".concat(s.naturalWidth*v,"px")),(0,_._)(this,vp,vx).call(this,s,"height","".concat(s.naturalHeight*v,"px")),(0,_._)(this,vp,vx).call(this,s,"transform",n.coords?"translate(-".concat(n.coords.x*v,"px, -").concat(n.coords.y*v,"px)"):""),(0,_._)(this,vp,vx).call(this,s,"max-width","none")}function vx(t,e,i){t.style.setProperty(e,i),(0,o._)(this,vs).push(()=>t.style.removeProperty(e))}function vT(){for(let t of(0,o._)(this,vs))t();(0,c._)(this,vs,[])}vv.props={src:null,time:0,crossOrigin:null},vv.state=new v.State({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1});var vP=new WeakMap;class vA extends vv{onAttach(t){(0,c._)(this,vP,(0,v.useState)(fV.state))}getTime(){let{duration:t,clipStartTime:e}=this.media.$state;return e()+(0,o._)(this,vP).pointerRate()*t()}constructor(...t){super(...t),(0,u._)(this,vP,{writable:!0,value:void 0})}}var vC=new WeakMap,vE=new WeakMap,vq=new WeakSet,vD=new WeakSet,vO=new WeakSet,vL=new WeakSet,vI=new WeakSet,vF=new WeakSet,vV=new WeakSet,vN=new WeakSet,vR=new WeakSet,vG=new WeakSet;class vj extends v.Component{get video(){return this.$state.video()}onSetup(){(0,c._)(this,vC,tj()),(0,c._)(this,vE,(0,v.useState)(fV.state)),(0,_._)(this,vO,vH).call(this),this.setAttributes({"data-loading":(0,_._)(this,vL,vB).bind(this),"data-hidden":this.$state.hidden,"data-error":(0,_._)(this,vI,vQ).bind(this),"aria-hidden":hj(this.$state.hidden)})}onAttach(t){(0,v.effect)((0,_._)(this,vq,vK).bind(this)),(0,v.effect)((0,_._)(this,vD,vU).bind(this)),(0,v.effect)((0,_._)(this,vO,vH).bind(this)),(0,v.effect)((0,_._)(this,vF,vz).bind(this)),(0,v.effect)((0,_._)(this,vV,vX).bind(this)),(0,v.effect)((0,_._)(this,vG,vZ).bind(this))}constructor(...t){super(...t),(0,p._)(this,vq),(0,p._)(this,vD),(0,p._)(this,vO),(0,p._)(this,vL),(0,p._)(this,vI),(0,p._)(this,vF),(0,p._)(this,vV),(0,p._)(this,vN),(0,p._)(this,vR),(0,p._)(this,vG),(0,u._)(this,vC,{writable:!0,value:void 0}),(0,u._)(this,vE,{writable:!0,value:void 0})}}function vK(){let t=this.$state.video();t&&(t.readyState>=2&&(0,_._)(this,vN,vY).call(this),new v.EventsController(t).add("canplay",(0,_._)(this,vN,vY).bind(this)).add("error",(0,_._)(this,vR,vJ).bind(this)))}function vU(){let{src:t}=this.$state,{canLoad:e}=(0,o._)(this,vC).$state;t.set(e()?this.$props.src():null)}function vH(){let{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i}=(0,o._)(this,vC).$state,s=null!==t()?t():i();e.set(!0===s?"anonymous":s)}function vB(){let{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}function vQ(){let{error:t}=this.$state;return!(0,v.isNull)(t)}function vz(){let{src:t,hidden:e}=this.$state,{canLoad:i,duration:s}=(0,o._)(this,vC).$state;e.set(i()&&(!t()||(0,_._)(this,vI,vQ).call(this)||!Number.isFinite(s())))}function vX(){let{src:t,canPlay:e,error:i}=this.$state;t(),e.set(!1),i.set(null)}function vY(t){let{canPlay:e,error:i}=this.$state;e.set(!0),i.set(null),this.dispatch("can-play",{trigger:t})}function vJ(t){let{canPlay:e,error:i}=this.$state;e.set(!1),i.set(t),this.dispatch("error",{trigger:t})}function vZ(){let{video:t,canPlay:e}=this.$state,{duration:i}=(0,o._)(this,vC).$state,{pointerRate:s}=(0,o._)(this,vE),n=t();e()&&n&&Number.isFinite(i())&&Number.isFinite(s())&&(n.currentTime=s()*i())}vj.props={src:null,crossOrigin:null},vj.state=new v.State({video:null,src:null,crossOrigin:null,canPlay:!1,error:null,hidden:!1});let v0=vj.prototype;(0,v.prop)(v0,"video");var v1=new WeakMap,v2=new WeakMap,v3=new WeakMap;class v5 extends v.Component{onSetup(){(0,c._)(this,v3,(0,v.useState)(fV.state)),(0,c._)(this,v1,(0,v.useContext)(fd)),(0,c._)(this,v2,(0,v.computed)(this.getValueText.bind(this)))}getValueText(){var t,e,i,s,n,a;let{type:l,format:h,decimalPlaces:r,padHours:u,padMinutes:c,showHours:d,showMs:_}=this.$props,{value:p,pointerValue:f,min:v,max:w}=(0,o._)(this,v3),g=null!=(t=null==h?void 0:h())?t:(0,o._)(this,v1).default,m="current"===l()?p():f();if("percent"===g){let t=m/(w()-v())*100;return(null!=(e=(0,o._)(this,v1).percent)?e:eh)(t,r())+"%"}return"time"===g?(null!=(i=(0,o._)(this,v1).time)?i:hb)(m,{padHrs:u(),padMins:c(),showHrs:d(),showMs:_()}):(null!=(a=null==(s=(n=(0,o._)(this,v1)).value)?void 0:s.call(n,m))?a:m.toFixed(2))+""}constructor(...t){super(...t),(0,u._)(this,v1,{writable:!0,value:void 0}),(0,u._)(this,v2,{writable:!0,value:void 0}),(0,u._)(this,v3,{writable:!0,value:void 0})}}v5.props={type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2};let v4=v5.prototype;(0,v.method)(v4,"getValueText");var v9=new WeakMap,v8=new WeakMap;class v6 extends v.Component{onSetup(){(0,c._)(this,v9,(0,v.useContext)(pb));let{active:t}=(0,v.useState)(fV.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){let{preview:e}=(0,o._)(this,v9);e.set(t),(0,v.onDispose)(()=>e.set(null)),(0,v.effect)((0,o._)(this,v8).bind(this));let i=new ResizeObserver((0,o._)(this,v8).bind(this));i.observe(t),(0,v.onDispose)(()=>i.disconnect())}constructor(...t){super(...t),(0,u._)(this,v9,{writable:!0,value:void 0}),(0,u._)(this,v8,{writable:!0,value:void 0}),(0,c._)(this,v8,(0,v.animationFrameThrottle)(()=>{let{disabled:t,orientation:e}=(0,o._)(this,v9);if(t())return;let i=this.el,{offset:s,noClamp:n}=this.$props;i&&function(t,e){let{clamp:i,offset:s,orientation:n}=e,a=getComputedStyle(t),l=parseFloat(a.width),h=parseFloat(a.height),r={top:null,right:null,bottom:null,left:null};if(r["horizontal"===n?"bottom":"left"]="calc(100% + var(--media-slider-preview-offset, ".concat(s,"px))"),"horizontal"===n){let t=l/2;if(i){let e="max(0px, calc(var(--slider-pointer) - ".concat(t,"px))");r.left="min(".concat(e,", ").concat("calc(100% - ".concat(l,"px)"),")")}else r.left="calc(var(--slider-pointer) - ".concat(t,"px)")}else{let t=h/2;if(i){let e="max(".concat(t,"px, calc(var(--slider-pointer) - ").concat(t,"px))");r.bottom="min(".concat(e,", ").concat("calc(100% - ".concat(h,"px)"),")")}else r.bottom="calc(var(--slider-pointer) - ".concat(t,"px)")}Object.assign(t.style,r)}(i,{clamp:!n(),offset:s(),orientation:e()})}))}}v6.props={offset:0,noClamp:!1};var v7=new WeakMap,wt=new WeakSet,we=new WeakSet,wi=new WeakSet,ws=new WeakSet,wn=new WeakSet,wa=new WeakMap,wl=new WeakSet,wh=new WeakSet,wr=new WeakSet;class wo extends v.Component{onSetup(){(0,c._)(this,v7,tj());let{audioGain:t}=(0,o._)(this,v7).$state;(0,v.provideContext)(fd,{default:"percent",value(e){var i;return(e*(null!=(i=t())?i:1)).toFixed(2)},percent(e){var i;return Math.round(e*(null!=(i=t())?i:1))}}),new fM({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:(0,_._)(this,ws,w_).bind(this),aria:{valueMax:(0,_._)(this,wi,wd).bind(this),valueNow:(0,_._)(this,wt,wu).bind(this),valueText:(0,_._)(this,we,wc).bind(this)},onDragValueChange:(0,_._)(this,wr,ww).bind(this),onValueChange:(0,_._)(this,wh,wv).bind(this)}).attach(this),(0,v.effect)((0,_._)(this,wn,wp).bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),ed(t,"aria-label","Volume");let{canSetVolume:e}=(0,o._)(this,v7).$state;this.setAttributes({"data-supported":e,"aria-hidden":hj(()=>!e())})}constructor(...t){super(...t),(0,p._)(this,wt),(0,p._)(this,we),(0,p._)(this,wi),(0,p._)(this,ws),(0,p._)(this,wn),(0,p._)(this,wl),(0,p._)(this,wh),(0,p._)(this,wr),(0,u._)(this,v7,{writable:!0,value:void 0}),(0,u._)(this,wa,{writable:!0,value:void 0}),(0,c._)(this,wa,(0,v.functionThrottle)((0,_._)(this,wl,wf).bind(this),25))}}function wu(){var t;let{value:e}=this.$state,{audioGain:i}=(0,o._)(this,v7).$state;return Math.round(e()*(null!=(t=i())?t:1))}function wc(){var t;let{value:e,max:i}=this.$state,{audioGain:s}=(0,o._)(this,v7).$state;return eh(e()/i()*(null!=(t=s())?t:1)*100,2)+"%"}function wd(){var t;let{audioGain:e}=(0,o._)(this,v7).$state;return this.$state.max()*(null!=(t=e())?t:1)}function w_(){let{disabled:t}=this.$props,{canSetVolume:e}=(0,o._)(this,v7).$state;return t()||!e()}function wp(){let{muted:t,volume:e}=(0,o._)(this,v7).$state,i=t()?0:100*e();this.$state.value.set(i),this.dispatch("value-change",{detail:i})}function wf(t){if(!t.trigger)return;let e=eh(t.detail/100,3);(0,o._)(this,v7).remote.changeVolume(e,t)}function wv(t){(0,o._)(this,wa).call(this,t)}function ww(t){(0,o._)(this,wa).call(this,t)}wo.props={...fM.props,keyStep:5,shiftKeyMultiplier:2},wo.state=pp;var wg=new WeakMap,wm=new WeakSet,wk=new WeakSet,wb=new WeakSet,wy=new WeakSet,wS=new WeakSet,wW=new WeakSet,w$=new WeakSet,wM=new WeakSet;class wx extends v.Component{onSetup(){(0,c._)(this,wg,tj()),(0,v.provideContext)(fd,{default:"percent",percent:(t,e)=>eh(this.$state.value(),e)+"%"}),new fM({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:(0,_._)(this,wS,wE).bind(this),aria:{valueNow:(0,_._)(this,wm,wT).bind(this),valueText:(0,_._)(this,wk,wP).bind(this)},onDragValueChange:(0,_._)(this,wM,wO).bind(this),onValueChange:(0,_._)(this,w$,wD).bind(this)}).attach(this),(0,v.effect)((0,_._)(this,wb,wA).bind(this)),(0,v.effect)((0,_._)(this,wy,wC).bind(this))}onAttach(t){t.setAttribute("data-media-audio-gain-slider",""),ed(t,"aria-label","Audio Boost");let{canSetAudioGain:e}=(0,o._)(this,wg).$state;this.setAttributes({"data-supported":e,"aria-hidden":hj(()=>!e())})}constructor(...t){super(...t),(0,p._)(this,wm),(0,p._)(this,wk),(0,p._)(this,wb),(0,p._)(this,wy),(0,p._)(this,wS),(0,p._)(this,wW),(0,p._)(this,w$),(0,p._)(this,wM),(0,u._)(this,wg,{writable:!0,value:void 0})}}function wT(){let{value:t}=this.$state;return Math.round(t())}function wP(){let{value:t}=this.$state;return t()+"%"}function wA(){let{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}function wC(){var t;let{audioGain:e}=(0,o._)(this,wg).$state,i=((null!=(t=e())?t:1)-1)*100;this.$state.value.set(i),this.dispatch("value-change",{detail:i})}function wE(){let{disabled:t}=this.$props,{canSetAudioGain:e}=(0,o._)(this,wg).$state;return t()||!e()}function wq(t){if(!t.trigger)return;let e=eh(1+t.detail/100,2);(0,o._)(this,wg).remote.changeAudioGain(e,t)}function wD(t){(0,_._)(this,wW,wq).call(this,t)}function wO(t){(0,_._)(this,wW,wq).call(this,t)}wx.props={...fM.props,step:25,keyStep:25,shiftKeyMultiplier:2,min:0,max:300},wx.state=pp;var wL=new WeakMap,wI=new WeakSet,wF=new WeakSet,wV=new WeakSet,wN=new WeakSet,wR=new WeakSet,wG=new WeakSet,wj=new WeakMap,wK=new WeakSet,wU=new WeakSet,wH=new WeakSet;class wB extends v.Component{onSetup(){(0,c._)(this,wL,tj()),new fM({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:(0,_._)(this,wR,wJ),isDisabled:(0,_._)(this,wG,wZ).bind(this),aria:{valueNow:(0,_._)(this,wI,wQ).bind(this),valueText:(0,_._)(this,wF,wz).bind(this)},onDragValueChange:(0,_._)(this,wH,w2).bind(this),onValueChange:(0,_._)(this,wU,w1).bind(this)}).attach(this),(0,v.effect)((0,_._)(this,wV,wX).bind(this)),(0,v.effect)((0,_._)(this,wN,wY).bind(this))}onAttach(t){t.setAttribute("data-media-speed-slider",""),ed(t,"aria-label","Speed");let{canSetPlaybackRate:e}=(0,o._)(this,wL).$state;this.setAttributes({"data-supported":e,"aria-hidden":hj(()=>!e())})}constructor(...t){super(...t),(0,p._)(this,wI),(0,p._)(this,wF),(0,p._)(this,wV),(0,p._)(this,wN),(0,p._)(this,wR),(0,p._)(this,wG),(0,p._)(this,wK),(0,p._)(this,wU),(0,p._)(this,wH),(0,u._)(this,wL,{writable:!0,value:void 0}),(0,u._)(this,wj,{writable:!0,value:void 0}),(0,c._)(this,wj,(0,v.functionThrottle)((0,_._)(this,wK,w0).bind(this),25))}}function wQ(){let{value:t}=this.$state;return t()}function wz(){let{value:t}=this.$state;return t()+"x"}function wX(){let{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}function wY(){let{playbackRate:t}=(0,o._)(this,wL).$state,e=t();this.$state.value.set(e),this.dispatch("value-change",{detail:e})}function wJ(t){return eh(t,2)}function wZ(){let{disabled:t}=this.$props,{canSetPlaybackRate:e}=(0,o._)(this,wL).$state;return t()||!e()}function w0(t){if(!t.trigger)return;let e=t.detail;(0,o._)(this,wL).remote.changePlaybackRate(e,t)}function w1(t){(0,o._)(this,wj).call(this,t)}function w2(t){(0,o._)(this,wj).call(this,t)}wB.props={...fM.props,step:.25,keyStep:.25,shiftKeyMultiplier:2,min:0,max:2},wB.state=pp;var w3=new WeakMap,w5=new WeakMap,w4=new WeakSet,w9=new WeakSet,w8=new WeakSet,w6=new WeakSet,w7=new WeakSet,gt=new WeakMap,ge=new WeakSet,gi=new WeakSet,gs=new WeakSet;class gn extends v.Component{onSetup(){(0,c._)(this,w3,tj()),new fM({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:(0,_._)(this,w7,go).bind(this),aria:{valueNow:(0,_._)(this,w4,ga).bind(this),valueText:(0,_._)(this,w9,gl).bind(this)},onDragValueChange:(0,_._)(this,gs,gd).bind(this),onValueChange:(0,_._)(this,gi,gc).bind(this)}).attach(this),(0,v.effect)((0,_._)(this,w8,gh).bind(this)),(0,v.effect)((0,_._)(this,w6,gr).bind(this))}onAttach(t){t.setAttribute("data-media-quality-slider",""),ed(t,"aria-label","Video Quality");let{qualities:e,canSetQuality:i}=(0,o._)(this,w3).$state,s=(0,v.computed)(()=>i()&&e().length>0);this.setAttributes({"data-supported":s,"aria-hidden":hj(()=>!s())})}constructor(...t){super(...t),(0,p._)(this,w4),(0,p._)(this,w9),(0,p._)(this,w8),(0,p._)(this,w6),(0,p._)(this,w7),(0,p._)(this,ge),(0,p._)(this,gi),(0,p._)(this,gs),(0,u._)(this,w3,{writable:!0,value:void 0}),(0,u._)(this,w5,{writable:!0,value:void 0}),(0,u._)(this,gt,{writable:!0,value:void 0}),(0,c._)(this,w5,(0,v.computed)(()=>{let{qualities:t}=(0,o._)(this,w3).$state;return[...t()].sort(iv)})),(0,c._)(this,gt,(0,v.functionThrottle)((0,_._)(this,ge,gu).bind(this),25))}}function ga(){let{value:t}=this.$state;return t()}function gl(){let{quality:t}=(0,o._)(this,w3).$state;if(!t())return"";let{height:e,bitrate:i}=t(),s=i&&i>0?"".concat((i/1e6).toFixed(2)," Mbps"):null;return e?"".concat(e,"p").concat(s?" (".concat(s,")"):""):"Auto"}function gh(){let t=(0,o._)(this,w5).call(this);this.$state.max.set(Math.max(0,t.length-1))}function gr(){let{quality:t}=(0,o._)(this,w3).$state,e=Math.max(0,(0,o._)(this,w5).call(this).indexOf(t()));this.$state.value.set(e),this.dispatch("value-change",{detail:e})}function go(){let{disabled:t}=this.$props,{canSetQuality:e,qualities:i}=(0,o._)(this,w3).$state;return t()||i().length<=1||!e()}function gu(t){if(!t.trigger)return;let{qualities:e}=(0,o._)(this,w3),i=(0,v.peek)((0,o._)(this,w5))[t.detail];(0,o._)(this,w3).remote.changeQuality(e.indexOf(i),t)}function gc(t){(0,o._)(this,gt).call(this,t)}function gd(t){(0,o._)(this,gt).call(this,t)}gn.props={...fM.props,step:1,keyStep:1,shiftKeyMultiplier:1},gn.state=pp;var g_=new WeakMap,gp=new WeakMap,gf=new WeakMap,gv=new WeakSet,gw=new WeakSet,gg=new WeakSet,gm=new WeakSet,gk=new WeakSet,gb=new WeakSet,gy=new WeakSet,gS=new WeakMap,gW=new WeakSet,g$=new WeakSet,gM=new WeakSet,gx=new WeakSet,gT=new WeakSet,gP=new WeakSet,gA=new WeakSet,gC=new WeakSet,gE=new WeakSet,gq=new WeakSet,gD=new WeakSet,gO=new WeakSet,gL=new WeakSet,gI=new WeakSet,gF=new WeakSet;class gV extends v.Component{onSetup(){(0,c._)(this,g_,tj()),(0,v.provideContext)(fd,{default:"time",value:(0,_._)(this,gI,g9).bind(this),time:(0,_._)(this,gF,g8).bind(this)}),this.setAttributes({"data-chapters":(0,_._)(this,gw,gR).bind(this)}),this.setStyles({"--slider-progress":(0,_._)(this,gv,gN).bind(this)}),(0,v.effect)((0,_._)(this,gm,gj).bind(this)),(0,v.effect)((0,_._)(this,gg,gG).bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),ed(t,"aria-label","Seek")}onConnect(t){(0,v.effect)((0,_._)(this,gk,gK).bind(this)),tr((0,o._)(this,g_).textTracks,"chapters",(0,o._)(this,gf).set)}constructor(){super(),(0,p._)(this,gv),(0,p._)(this,gw),(0,p._)(this,gg),(0,p._)(this,gm),(0,p._)(this,gk),(0,p._)(this,gb),(0,p._)(this,gy),(0,p._)(this,gW),(0,p._)(this,g$),(0,p._)(this,gM),(0,p._)(this,gx),(0,p._)(this,gT),(0,p._)(this,gP),(0,p._)(this,gA),(0,p._)(this,gC),(0,p._)(this,gE),(0,p._)(this,gq),(0,p._)(this,gD),(0,p._)(this,gO),(0,p._)(this,gL),(0,p._)(this,gI),(0,p._)(this,gF),(0,u._)(this,g_,{writable:!0,value:void 0}),(0,u._)(this,gp,{writable:!0,value:void 0}),(0,u._)(this,gf,{writable:!0,value:void 0}),(0,u._)(this,gS,{writable:!0,value:void 0}),(0,c._)(this,gf,(0,v.signal)(null)),(0,c._)(this,gS,!1);let{noSwipeGesture:t}=this.$props;new fM({swipeGesture:()=>!t(),getValue:(0,_._)(this,gT,gY).bind(this),getStep:(0,_._)(this,gP,gJ).bind(this),getKeyStep:(0,_._)(this,gA,gZ).bind(this),roundValue:(0,_._)(this,gC,g0),isDisabled:(0,_._)(this,gE,g1).bind(this),aria:{valueNow:(0,_._)(this,gq,g2).bind(this),valueText:(0,_._)(this,gD,g3).bind(this)},onDragStart:(0,_._)(this,gW,gB).bind(this),onDragValueChange:(0,_._)(this,g$,gQ).bind(this),onDragEnd:(0,_._)(this,gM,gz).bind(this),onValueChange:(0,_._)(this,gx,gX).bind(this)})}}function gN(){let{bufferedEnd:t,duration:e}=(0,o._)(this,g_).$state;return eh(100*Math.min(t()/Math.max(e(),1),1),3)+"%"}function gR(){var t;let{duration:e}=(0,o._)(this,g_).$state;return(null==(t=(0,o._)(this,gf).call(this))?void 0:t.cues.length)&&Number.isFinite(e())&&e()>0}function gG(){(0,c._)(this,gp,(0,v.functionThrottle)((0,_._)(this,gb,gU).bind(this),this.$props.seekingRequestThrottle()))}function gj(){if(this.$state.hidden())return;let{value:t,dragging:e}=this.$state,i=(0,_._)(this,gT,gY).call(this);(0,v.peek)(e)||(t.set(i),this.dispatch("value-change",{detail:i}))}function gK(){let t=(0,o._)(this,g_).player.el,{preview:e}=(0,v.useContext)(pb);t&&e()&&(0,v.setAttribute)(t,"data-preview",this.$state.active())}function gU(t,e){(0,o._)(this,g_).remote.seeking(t,e)}function gH(t,e,i){(0,o._)(this,gp).cancel();let{live:s}=(0,o._)(this,g_).$state;if(s()&&e>=99)return void(0,o._)(this,g_).remote.seekToLiveEdge(i);(0,o._)(this,g_).remote.seek(t,i)}function gB(t){let{pauseWhileDragging:e}=this.$props;if(e()){let{paused:e}=(0,o._)(this,g_).$state;(0,c._)(this,gS,!e()),(0,o._)(this,g_).remote.pause(t)}}function gQ(t){(0,o._)(this,gp).call(this,(0,_._)(this,gO,g5).call(this,t.detail),t)}function gz(t){let{seeking:e}=(0,o._)(this,g_).$state;(0,v.peek)(e)||(0,_._)(this,gb,gU).call(this,(0,_._)(this,gO,g5).call(this,t.detail),t);let i=t.detail;(0,_._)(this,gy,gH).call(this,(0,_._)(this,gO,g5).call(this,i),i,t);let{pauseWhileDragging:s}=this.$props;s()&&(0,o._)(this,gS)&&((0,o._)(this,g_).remote.play(t),(0,c._)(this,gS,!1))}function gX(t){let{dragging:e}=this.$state;!e()&&t.trigger&&(0,_._)(this,gM,gz).call(this,t)}function gY(){let{currentTime:t}=(0,o._)(this,g_).$state;return(0,_._)(this,gL,g4).call(this,t())}function gJ(){let t=this.$props.step()/(0,o._)(this,g_).$state.duration()*100;return Number.isFinite(t)?t:1}function gZ(){let t=this.$props.keyStep()/(0,o._)(this,g_).$state.duration()*100;return Number.isFinite(t)?t:1}function g0(t){return eh(t,3)}function g1(){let{disabled:t}=this.$props,{canSeek:e}=(0,o._)(this,g_).$state;return t()||!e()}function g2(){let{value:t}=this.$state;return Math.round(t())}function g3(){let t=(0,_._)(this,gO,g5).call(this,this.$state.value()),{duration:e}=(0,o._)(this,g_).$state;return Number.isFinite(t)?"".concat(hy(t)," out of ").concat(hy(e())):"live"}function g5(t){let{duration:e}=(0,o._)(this,g_).$state;return eh(t/100*e(),5)}function g4(t){let{liveEdge:e,duration:i}=(0,o._)(this,g_).$state,s=Math.max(0,Math.min(1,e()?1:Math.min(t,i())/i()));return Number.isNaN(s)?0:Number.isFinite(s)?100*s:100}function g9(t){let e=(0,_._)(this,gO,g5).call(this,t),{live:i,duration:s}=(0,o._)(this,g_).$state;return Number.isFinite(e)?(i()?e-s():e).toFixed(0):"LIVE"}function g8(t,e){let i=(0,_._)(this,gO,g5).call(this,t),{live:s,duration:n}=(0,o._)(this,g_).$state,a=s()?i-n():i;return Number.isFinite(i)?"".concat(a<0?"-":"").concat(hb(Math.abs(a),e)):"LIVE"}gV.props={...fM.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100},gV.state=pp;var g6=new WeakMap,g7=new WeakMap,mt=new WeakMap,me=new WeakMap,mi=new WeakMap,ms=new WeakMap,mn=new WeakMap,ma=new WeakMap,ml=new WeakMap,mh=new WeakMap,mr=new WeakSet,mo=new WeakSet,mu=new WeakSet,mc=new WeakSet,md=new WeakSet,m_=new WeakSet,mp=new WeakSet,mf=new WeakSet,mv=new WeakSet,mw=new WeakSet,mg=new WeakSet,mm=new WeakMap,mk=new WeakMap,mb=new WeakSet,my=new WeakSet,mS=new WeakSet,mW=new WeakSet,m$=new WeakSet,mM=new WeakSet,mx=new WeakSet,mT=new WeakMap,mP=new WeakSet,mA=new WeakSet,mC=new WeakSet;class mE extends v.Component{get cues(){return(0,o._)(this,mn).call(this)}get activeCue(){return(0,o._)(this,mn).call(this)[(0,o._)(this,ma).call(this)]||null}get activePointerCue(){return(0,o._)(this,mn).call(this)[(0,o._)(this,ml).call(this)]||null}onSetup(){(0,c._)(this,g6,tj()),(0,c._)(this,g7,(0,v.useState)(gV.state))}onAttach(t){tr((0,o._)(this,g6).textTracks,"chapters",(0,_._)(this,mr,mq).bind(this)),(0,v.effect)((0,_._)(this,m$,mQ).bind(this))}onConnect(){(0,v.onDispose)(()=>(0,_._)(this,mo,mD).bind(this))}onDestroy(){(0,_._)(this,mr,mq).call(this,null)}setRefs(t){var e;if((0,c._)(this,mi,t),null==(e=(0,o._)(this,mt))||e.dispose(),1===(0,o._)(this,mi).length){let t=(0,o._)(this,mi)[0];t.style.width="100%",t.style.setProperty("--chapter-fill","var(--slider-fill)"),t.style.setProperty("--chapter-progress","var(--slider-progress)")}else(0,o._)(this,mi).length>0&&(0,v.scoped)(()=>(0,_._)(this,mu,mO).call(this),(0,c._)(this,mt,(0,v.createScope)()))}constructor(...t){super(...t),(0,p._)(this,mr),(0,p._)(this,mo),(0,p._)(this,mu),(0,p._)(this,mc),(0,p._)(this,md),(0,p._)(this,m_),(0,p._)(this,mp),(0,p._)(this,mf),(0,p._)(this,mv),(0,p._)(this,mw),(0,p._)(this,mg),(0,p._)(this,mb),(0,p._)(this,my),(0,p._)(this,mS),(0,p._)(this,mW),(0,p._)(this,m$),(0,p._)(this,mM),(0,p._)(this,mx),(0,p._)(this,mP),(0,p._)(this,mA),(0,p._)(this,mC),(0,u._)(this,g6,{writable:!0,value:void 0}),(0,u._)(this,g7,{writable:!0,value:void 0}),(0,u._)(this,mt,{writable:!0,value:void 0}),(0,u._)(this,me,{writable:!0,value:void 0}),(0,u._)(this,mi,{writable:!0,value:void 0}),(0,u._)(this,ms,{writable:!0,value:void 0}),(0,u._)(this,mn,{writable:!0,value:void 0}),(0,u._)(this,ma,{writable:!0,value:void 0}),(0,u._)(this,ml,{writable:!0,value:void 0}),(0,u._)(this,mh,{writable:!0,value:void 0}),(0,u._)(this,mm,{writable:!0,value:void 0}),(0,u._)(this,mk,{writable:!0,value:void 0}),(0,u._)(this,mT,{writable:!0,value:void 0}),(0,c._)(this,me,null),(0,c._)(this,mi,[]),(0,c._)(this,ms,(0,v.signal)(null)),(0,c._)(this,mn,(0,v.signal)([])),(0,c._)(this,ma,(0,v.signal)(-1)),(0,c._)(this,ml,(0,v.signal)(-1)),(0,c._)(this,mh,0),(0,c._)(this,mm,(0,v.animationFrameThrottle)(t=>{let e,i=(0,o._)(this,mn).call(this),{seekableStart:s}=(0,o._)(this,g6).$state,n=s(),a=(0,_._)(this,my,mU).call(this,i);for(let s=(0,o._)(this,mh);s<(0,o._)(this,mi).length;s++){var l;if(e=(0,_._)(this,mS,mH).call(this,i[s],t,n,a),null==(l=(0,o._)(this,mi)[s])||l.style.setProperty("--chapter-progress",e+"%"),e<100){(0,c._)(this,mh,s);break}}})),(0,c._)(this,mk,(0,v.computed)((0,_._)(this,mb,mK).bind(this))),(0,c._)(this,mT,(0,v.functionDebounce)(()=>{let t=(0,v.peek)((0,o._)(this,ms));this.scope&&t&&t.cues.length&&((0,o._)(this,mn).set((0,_._)(this,mW,mB).call(this,t.cues)),(0,o._)(this,ma).set(0),(0,c._)(this,mh,0))},150,!0))}}function mq(t){(0,v.peek)((0,o._)(this,ms))!==t&&((0,_._)(this,mo,mD).call(this),(0,o._)(this,ms).set(t))}function mD(){var t;(0,c._)(this,mi,[]),(0,o._)(this,mn).set([]),(0,o._)(this,ma).set(-1),(0,o._)(this,ml).set(-1),(0,c._)(this,mh,0),null==(t=(0,o._)(this,mt))||t.dispose()}function mO(){(0,o._)(this,mi).length&&(0,v.effect)((0,_._)(this,mc,mL).bind(this))}function mL(){let{hidden:t}=(0,o._)(this,g7);t()||((0,v.effect)((0,_._)(this,md,mI).bind(this)),(0,v.effect)((0,_._)(this,m_,mF).bind(this)),(0,v.effect)((0,_._)(this,mp,mV).bind(this)),(0,v.effect)((0,_._)(this,mg,mj).bind(this)))}function mI(){let t=(0,o._)(this,mn).call(this);if(!t.length)return;let e,{seekableStart:i,seekableEnd:s}=(0,o._)(this,g6).$state,n=i(),a=(s()||t[t.length-1].endTime)-n,l=100;for(let i=0;i<t.length;i++)if(e=t[i],(0,o._)(this,mi)[i]){let s=i===t.length-1?l:eh((e.endTime-Math.max(n,e.startTime))/a*100,3);(0,o._)(this,mi)[i].style.width=s+"%",l-=s}}function mF(){let{liveEdge:t,seekableStart:e,seekableEnd:i}=(0,o._)(this,g6).$state,{fillPercent:s,value:n}=(0,o._)(this,g7),a=(0,o._)(this,mn).call(this),l=t(),h=(0,v.peek)((0,o._)(this,ma)),r=a[h],u=l?(0,o._)(this,mn).length-1:(0,_._)(this,mw,mG).call(this,r&&r.startTime/i()*100<=(0,v.peek)(n)?h:0,s());l||!r?(0,_._)(this,mf,mN).call(this,0,a.length,100):u>h?(0,_._)(this,mf,mN).call(this,h,u,100):u<h&&(0,_._)(this,mf,mN).call(this,u+1,h+1,0);let c=l?100:(0,_._)(this,mS,mH).call(this,a[u],s(),e(),(0,_._)(this,my,mU).call(this,a));(0,_._)(this,mv,mR).call(this,(0,o._)(this,mi)[u],c),(0,o._)(this,ma).set(u)}function mV(){let{hidden:t,pointerPercent:e}=(0,o._)(this,g7);if(t())return void(0,o._)(this,ml).set(-1);let i=(0,_._)(this,mw,mG).call(this,0,e());(0,o._)(this,ml).set(i)}function mN(t,e,i){for(let s=t;s<e;s++)(0,_._)(this,mv,mR).call(this,(0,o._)(this,mi)[s],i)}function mR(t,e){t&&(t.style.setProperty("--chapter-fill",e+"%"),(0,v.setAttribute)(t,"data-active",e>0&&e<100),(0,v.setAttribute)(t,"data-ended",100===e))}function mG(t,e){let i=0,s=(0,o._)(this,mn).call(this);if(0===e)return 0;if(100===e)return s.length-1;let{seekableStart:n}=(0,o._)(this,g6).$state,a=n(),l=(0,_._)(this,my,mU).call(this,s);for(let n=t;n<s.length;n++)if((i=(0,_._)(this,mS,mH).call(this,s[n],e,a,l))>=0&&i<100)return n;return 0}function mj(){(0,o._)(this,mm).call(this,(0,o._)(this,mk).call(this))}function mK(){let{bufferedEnd:t,duration:e}=(0,o._)(this,g6).$state;return 100*eh(Math.min(t()/Math.max(e(),1),1),3)}function mU(t){var e;let{seekableEnd:i}=(0,o._)(this,g6).$state,s=i();return Number.isFinite(s)?s:(null==(e=t[t.length-1])?void 0:e.endTime)||0}function mH(t,e,i,s){if(!t||0===(0,o._)(this,mn).call(this).length)return 0;let n=s-i,a=Math.max(0,t.startTime-i),l=Math.min(s,t.endTime)-i,h=a/n,r=100*h,u=100*Math.min(1,h+(l-a)/n);return Math.max(0,eh(e>=u?100:(e-r)/(u-r)*100,3))}function mB(t){let e=[],{seekableStart:i,seekableEnd:s,duration:n}=(0,o._)(this,g6).$state,a=i(),l=s(),h=(t=t.filter(t=>t.startTime<=l&&t.endTime>=a))[0];h&&h.startTime>a&&e.push(new window.VTTCue(a,h.startTime,""));for(let i=0;i<t.length-1;i++){let s=t[i],n=t[i+1];if(e.push(s),n){let t=n.startTime-s.endTime;t>0&&e.push(new window.VTTCue(s.endTime,s.endTime+t,""))}}let r=t[t.length-1];if(r){e.push(r);let t=n();t>=0&&t-r.endTime>1&&e.push(new window.VTTCue(r.endTime,n(),""))}return e}function mQ(){let{source:t}=(0,o._)(this,g6).$state;t(),(0,_._)(this,mM,mz).call(this)}function mz(){if(!this.scope)return;let{disabled:t}=this.$props;if(t()){(0,o._)(this,mn).set([]),(0,o._)(this,ma).set(0),(0,c._)(this,mh,0);return}let e=(0,o._)(this,ms).call(this);if(e){let t=(0,o._)(this,mT).bind(this);t(),new v.EventsController(e).add("add-cue",t).add("remove-cue",t),(0,v.effect)((0,_._)(this,mx,mX).bind(this))}return(0,c._)(this,me,(0,_._)(this,mC,mZ).call(this)),(0,o._)(this,me)&&(0,v.effect)((0,_._)(this,mP,mY).bind(this)),()=>{(0,o._)(this,me)&&((0,o._)(this,me).textContent="",(0,c._)(this,me,null))}}function mX(){(0,o._)(this,g6).$state.duration(),(0,o._)(this,mT).call(this)}function mY(){let t=this.activePointerCue||this.activeCue;(0,o._)(this,me)&&((0,o._)(this,me).textContent=(null==t?void 0:t.text)||"")}function mJ(){let t=this.el;for(;t&&"slider"!==t.getAttribute("role");)t=t.parentElement;return t}function mZ(){let t=(0,_._)(this,mA,mJ).call(this);return t?t.querySelector('[data-part="chapter-title"]'):null}mE.props={disabled:!1};let m0=mE.prototype;(0,v.prop)(m0,"cues"),(0,v.prop)(m0,"activeCue"),(0,v.prop)(m0,"activePointerCue"),(0,v.method)(m0,"setRefs");let m1=(0,v.createContext)(),m2=["a[href]","[tabindex]","input","select","button"].map(t=>"".concat(t,":not([aria-hidden='true'])")).join(","),m3=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);var m5=new WeakMap,m4=new WeakMap,m9=new WeakMap,m8=new WeakMap,m6=new WeakSet,m7=new WeakSet,kt=new WeakSet,ke=new WeakSet,ki=new WeakSet,ks=new WeakSet,kn=new WeakSet,ka=new WeakSet;class kl{get items(){return(0,o._)(this,m9)}attachMenu(t){(0,v.listenEvent)(t,"focus",(0,_._)(this,kt,ko).bind(this)),(0,c._)(this,m4,t),(0,v.onDispose)(()=>{(0,c._)(this,m4,null)})}listen(){(0,o._)(this,m4)&&(this.update(),new v.EventsController((0,o._)(this,m4)).add("keyup",(0,_._)(this,ki,kc).bind(this)).add("keydown",(0,_._)(this,ks,kd).bind(this)),(0,v.onDispose)(()=>{(0,c._)(this,m5,-1),(0,c._)(this,m9,[])}))}update(){(0,c._)(this,m5,0),(0,c._)(this,m9,(0,_._)(this,ka,kp).call(this))}scroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,_._)(this,m7,kr).call(this),e=(0,o._)(this,m9)[t];e&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i={scrollMode:"if-needed",block:"center",inline:"center",...e};for(let{el:e,top:s,left:n}of(0,v.r)(t,i))e.scroll({top:s,left:n,behavior:i.behavior})}(e,{behavior:"smooth",boundary:t=>!t.hasAttribute("data-root")})})})}focusActive(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=(0,_._)(this,m7,kr).call(this);(0,_._)(this,m6,kh).call(this,e>=0?e:0,t)}constructor(t){(0,p._)(this,m6),(0,p._)(this,m7),(0,p._)(this,kt),(0,p._)(this,ke),(0,p._)(this,ki),(0,p._)(this,ks),(0,p._)(this,kn),(0,p._)(this,ka),(0,u._)(this,m5,{writable:!0,value:void 0}),(0,u._)(this,m4,{writable:!0,value:void 0}),(0,u._)(this,m9,{writable:!0,value:void 0}),(0,u._)(this,m8,{writable:!0,value:void 0}),(0,c._)(this,m5,-1),(0,c._)(this,m4,null),(0,c._)(this,m9,[]),(0,c._)(this,m8,t)}}function kh(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if((0,c._)(this,m5,t),(0,o._)(this,m9)[t])(0,o._)(this,m9)[t].focus({preventScroll:!0}),e&&this.scroll(t);else{var i;null==(i=(0,o._)(this,m4))||i.focus({preventScroll:!0})}}function kr(){return(0,o._)(this,m9).findIndex(t=>document.activeElement===t||"menuitemradio"===t.getAttribute("role")&&"true"===t.getAttribute("aria-checked"))}function ko(){(0,o._)(this,m5)>=0||(this.update(),this.focusActive())}function ku(t){let e=t.target;if((0,v.wasEnterKeyPressed)(t)&&e instanceof Element){let t=e.getAttribute("role");return!/a|input|select|button/.test(e.localName)&&!t}return m3.has(t.key)}function kc(t){(0,_._)(this,ke,ku).call(this,t)&&(t.stopPropagation(),t.preventDefault())}function kd(t){if((0,_._)(this,ke,ku).call(this,t))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":(0,o._)(this,m8).closeMenu(t);break;case"Tab":(0,_._)(this,m6,kh).call(this,(0,_._)(this,kn,k_).call(this,t.shiftKey?-1:1));break;case"ArrowUp":(0,_._)(this,m6,kh).call(this,(0,_._)(this,kn,k_).call(this,-1));break;case"ArrowDown":(0,_._)(this,m6,kh).call(this,(0,_._)(this,kn,k_).call(this,1));break;case"Home":case"PageUp":(0,_._)(this,m6,kh).call(this,0);break;case"End":case"PageDown":(0,_._)(this,m6,kh).call(this,(0,o._)(this,m9).length-1)}}function k_(t){var e;let i=(0,o._)(this,m5);do i=(i+t+(0,o._)(this,m9).length)%(0,o._)(this,m9).length;while((null==(e=(0,o._)(this,m9)[i])?void 0:e.offsetParent)===null);return i}function kp(){if(!(0,o._)(this,m4))return[];let t=(0,o._)(this,m4).querySelectorAll(m2),e=[],i=t=>"menu"===t.getAttribute("role");for(let s of t)eb(s)&&null!==s.offsetParent&&ev((0,o._)(this,m4),s,i)&&e.push(s);return e}var kf=Object.defineProperty,kv=Object.getOwnPropertyDescriptor,kw=(t,e,i,s)=>{for(var n,a=kv(e,i),l=t.length-1;l>=0;l--)(n=t[l])&&(a=n(e,i,a)||a);return a&&kf(e,i,a),a};let kg=0;var km=new WeakMap,kk=new WeakMap,kb=new WeakMap,ky=new WeakMap,kS=new WeakMap,kW=new WeakMap,k$=new WeakMap,kM=new WeakMap,kx=new WeakMap,kT=new WeakMap,kP=new WeakMap,kA=new WeakMap,kC=new WeakMap,kE=new WeakMap,kq=new WeakMap,kD=new WeakSet,kO=new WeakSet,kL=new WeakSet,kI=new WeakSet,kF=new WeakSet,kV=new WeakSet,kN=new WeakSet,kR=new WeakMap,kG=new WeakSet,kj=new WeakSet,kK=new WeakSet,kU=new WeakSet,kH=new WeakSet,kB=new WeakSet,kQ=new WeakSet,kz=new WeakSet,kX=new WeakSet,kY=new WeakSet,kJ=new WeakMap,kZ=new WeakSet,k0=new WeakMap,k1=new WeakMap,k2=new WeakSet,k3=new WeakMap,k5=new WeakSet,k4=new WeakMap,k9=new WeakMap,k8=new WeakSet;class k6 extends v.Component{get triggerElement(){return(0,o._)(this,kW).call(this)}get contentElement(){return(0,o._)(this,k$).call(this)}get isSubmenu(){return!!(0,o._)(this,kM)}onSetup(){(0,c._)(this,km,tj());let t=++kg;(0,c._)(this,kk,"media-menu-".concat(t)),(0,c._)(this,kb,"media-menu-button-".concat(t)),(0,c._)(this,kA,new kl({closeMenu:this.close.bind(this)})),(0,v.hasProvidedContext)(m1)&&(0,c._)(this,kM,(0,v.useContext)(m1)),(0,_._)(this,kD,k7).call(this),this.setAttributes({"data-open":(0,o._)(this,ky),"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":(0,_._)(this,kU,bo).bind(this)}),(0,v.provideContext)(m1,{button:(0,o._)(this,kW),content:(0,o._)(this,k$),expanded:(0,o._)(this,ky),hint:(0,v.signal)(""),submenu:!!(0,o._)(this,kM),disable:(0,_._)(this,kH,bu).bind(this),attachMenuButton:(0,_._)(this,kL,be).bind(this),attachMenuItems:(0,_._)(this,kI,bi).bind(this),attachObserver:(0,_._)(this,kF,bs).bind(this),disableMenuButton:(0,_._)(this,kN,ba).bind(this),addSubmenu:(0,_._)(this,kY,bf).bind(this),onTransitionEvent:t=>{(0,o._)(this,kq).add(t),(0,v.onDispose)(()=>{(0,o._)(this,kq).delete(t)})}})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){if((0,v.effect)((0,_._)(this,kO,bt).bind(this)),this.isSubmenu){var e;null==(e=(0,o._)(this,kM))||e.addSubmenu(this)}}onDestroy(){(0,o._)(this,kW).set(null),(0,o._)(this,k$).set(null),(0,c._)(this,kT,null),(0,o._)(this,kq).clear()}open(t){(0,v.peek)((0,o._)(this,ky))||((0,o._)(this,kP).show(t),(0,v.tick)())}close(t){(0,v.peek)((0,o._)(this,ky))&&((0,o._)(this,kP).hide(t),(0,v.tick)())}constructor(){super(),(0,p._)(this,kD),(0,p._)(this,kO),(0,p._)(this,kL),(0,p._)(this,kI),(0,p._)(this,kF),(0,p._)(this,kV),(0,p._)(this,kN),(0,p._)(this,kG),(0,p._)(this,kj),(0,p._)(this,kK),(0,p._)(this,kU),(0,p._)(this,kH),(0,p._)(this,kB),(0,p._)(this,kQ),(0,p._)(this,kz),(0,p._)(this,kX),(0,p._)(this,kY),(0,p._)(this,kZ),(0,p._)(this,k2),(0,p._)(this,k5),(0,p._)(this,k8),(0,u._)(this,km,{writable:!0,value:void 0}),(0,u._)(this,kk,{writable:!0,value:void 0}),(0,u._)(this,kb,{writable:!0,value:void 0}),(0,u._)(this,ky,{writable:!0,value:void 0}),(0,u._)(this,kS,{writable:!0,value:void 0}),(0,u._)(this,kW,{writable:!0,value:void 0}),(0,u._)(this,k$,{writable:!0,value:void 0}),(0,u._)(this,kM,{writable:!0,value:void 0}),(0,u._)(this,kx,{writable:!0,value:void 0}),(0,u._)(this,kT,{writable:!0,value:void 0}),(0,u._)(this,kP,{writable:!0,value:void 0}),(0,u._)(this,kA,{writable:!0,value:void 0}),(0,u._)(this,kC,{writable:!0,value:void 0}),(0,u._)(this,kE,{writable:!0,value:void 0}),(0,u._)(this,kq,{writable:!0,value:void 0}),(0,u._)(this,kR,{writable:!0,value:void 0}),(0,u._)(this,kJ,{writable:!0,value:void 0}),(0,u._)(this,k0,{writable:!0,value:void 0}),(0,u._)(this,k1,{writable:!0,value:void 0}),(0,u._)(this,k3,{writable:!0,value:void 0}),(0,u._)(this,k4,{writable:!0,value:void 0}),(0,u._)(this,k9,{writable:!0,value:void 0}),(0,c._)(this,ky,(0,v.signal)(!1)),(0,c._)(this,kS,(0,v.signal)(!1)),(0,c._)(this,kW,(0,v.signal)(null)),(0,c._)(this,k$,(0,v.signal)(null)),(0,c._)(this,kx,new Set),(0,c._)(this,kT,null),(0,c._)(this,kC,!1),(0,c._)(this,kE,(0,v.signal)(!1)),(0,c._)(this,kq,new Set),(0,c._)(this,kR,!1),(0,c._)(this,kJ,(0,_._)(this,kZ,bv).bind(this)),(0,c._)(this,k0,!1),(0,c._)(this,k1,(0,_._)(this,k2,bw).bind(this)),(0,c._)(this,k3,(0,_._)(this,k5,bg).bind(this)),(0,c._)(this,k4,(0,v.animationFrameThrottle)(()=>{let t=(0,v.peek)((0,o._)(this,k$));if(!t||m)return;let e=0,i=getComputedStyle(t),s=[...t.children];for(let t of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])e+=parseFloat(i[t])||0;for(let t of s)if(eb(t)&&"contents"===t.style.display)s.push(...t.children);else if(3===t.nodeType)e+=parseFloat(getComputedStyle(t).fontSize);else if(eb(t)){if(!ep(t))continue;let i=getComputedStyle(t);e+=t.offsetHeight+(parseFloat(i.marginTop)||0)+(parseFloat(i.marginBottom)||0)}(0,v.setStyle)(t,"--menu-height",e+"px")})),(0,c._)(this,k9,!1);let{showDelay:t}=this.$props;(0,c._)(this,kP,new dA({trigger:(0,o._)(this,kW),content:(0,o._)(this,k$),showDelay:t,listen:(t,e,i)=>{ew(t,t=>{(0,o._)(this,ky).call(this)?i(t):e(t)});let s=(0,_._)(this,kz,b_).call(this);s&&ew(s,t=>{t.stopPropagation(),i(t)})},onChange:(0,_._)(this,kG,bl).bind(this)}))}}function k7(){let t=-1,e=(0,v.hasProvidedContext)(py)?(0,v.useContext)(py):null;(0,v.provideContext)(py,{onDragStart:()=>{var i;null==e||null==(i=e.onDragStart)||i.call(e),window.clearTimeout(t),t=-1,(0,c._)(this,kC,!0)},onDragEnd:()=>{var i;null==e||null==(i=e.onDragEnd)||i.call(e),t=window.setTimeout(()=>{(0,c._)(this,kC,!1),t=-1},300)}})}function bt(){let t=(0,_._)(this,kK,br).call(this);this.isSubmenu||(0,o._)(this,k4).call(this),(0,_._)(this,kV,bn).call(this,t),t&&((0,v.effect)(()=>{let{height:t}=(0,o._)(this,km).$state,e=(0,o._)(this,k$).call(this);e&&(0,v.setStyle)(e,"--player-height",t()+"px")}),(0,o._)(this,kA).listen(),this.listen("pointerup",(0,_._)(this,kB,bc).bind(this)),(0,v.listenEvent)(window,"pointerup",(0,_._)(this,kQ,bd).bind(this)))}function be(t){let e=t.el,i=this.isSubmenu,s=hj((0,_._)(this,kU,bo).bind(this));ed(e,"tabindex",i?"-1":"0"),ed(e,"role",i?"menuitem":"button"),(0,v.setAttribute)(e,"id",(0,o._)(this,kb)),(0,v.setAttribute)(e,"aria-haspopup","menu"),(0,v.setAttribute)(e,"aria-expanded","false"),(0,v.setAttribute)(e,"data-root",!this.isSubmenu),(0,v.setAttribute)(e,"data-submenu",this.isSubmenu);let n=()=>{(0,v.setAttribute)(e,"data-open",(0,o._)(this,ky).call(this)),(0,v.setAttribute)(e,"aria-disabled",s())};m?n():(0,v.effect)(n),(0,o._)(this,kW).set(e),(0,v.onDispose)(()=>{(0,o._)(this,kW).set(null)})}function bi(t){let e=t.el;e.style.setProperty("display","none"),(0,v.setAttribute)(e,"id",(0,o._)(this,kk)),ed(e,"role","menu"),ed(e,"tabindex","-1"),(0,v.setAttribute)(e,"data-root",!this.isSubmenu),(0,v.setAttribute)(e,"data-submenu",this.isSubmenu),(0,o._)(this,k$).set(e),(0,v.onDispose)(()=>(0,o._)(this,k$).set(null));let i=()=>(0,v.setAttribute)(e,"data-open",(0,o._)(this,ky).call(this));m?i():(0,v.effect)(i),(0,o._)(this,kA).attachMenu(e),(0,_._)(this,kV,bn).call(this,!1);let s=(0,_._)(this,k8,bm).bind(this);if(this.isSubmenu){var n;null==(n=(0,o._)(this,kM))||n.onTransitionEvent(s)}else t.listen("transitionstart",s),t.listen("transitionend",s),t.listen("animationend",(0,o._)(this,k4)),t.listen("vds-menu-resize",(0,o._)(this,k4))}function bs(t){(0,c._)(this,kT,t)}function bn(t){let e=(0,v.peek)((0,o._)(this,k$));e&&(0,v.setAttribute)(e,"aria-hidden",(0,v.ariaBool)(!t))}function ba(t){(0,o._)(this,kE).set(t)}function bl(t,e){var i,s,n,a,l,h;if((0,c._)(this,kR,(0,v.isKeyboardEvent)(e)),null==e||e.stopPropagation(),(0,o._)(this,ky).call(this)===t)return;if((0,_._)(this,kU,bo).call(this)){t&&(0,o._)(this,kP).hide(e);return}null==(i=this.el)||i.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));let r=(0,o._)(this,kW).call(this),u=(0,o._)(this,k$).call(this);if(r&&((0,v.setAttribute)(r,"aria-controls",t&&(0,o._)(this,kk)),(0,v.setAttribute)(r,"aria-expanded",(0,v.ariaBool)(t))),u&&(0,v.setAttribute)(u,"aria-labelledby",t&&(0,o._)(this,kb)),(0,o._)(this,ky).set(t),(0,_._)(this,kX,bp).call(this,e),(0,v.tick)(),(0,o._)(this,kR))for(let e of(t?null==u||u.focus():null==r||r.focus(),[this.el,u]))e&&e.setAttribute("data-keyboard","");else for(let t of[this.el,u])t&&t.removeAttribute("data-keyboard");if(this.dispatch(t?"open":"close",{trigger:e}),t)this.isSubmenu||(0,o._)(this,km).activeMenu===this||(null==(a=(0,o._)(this,km).activeMenu)||a.close(e),(0,o._)(this,km).activeMenu=this),null==(n=(0,o._)(this,kT))||null==(s=n.onOpen)||s.call(n,e);else{if(this.isSubmenu)for(let t of(0,o._)(this,kx))t.close(e);else(0,o._)(this,km).activeMenu=null;null==(h=(0,o._)(this,kT))||null==(l=h.onClose)||l.call(h,e)}t&&requestAnimationFrame((0,_._)(this,kj,bh).bind(this))}function bh(){(0,o._)(this,k9)||(0,o._)(this,k0)||((0,o._)(this,kA).update(),requestAnimationFrame(()=>{(0,o._)(this,kR)?(0,o._)(this,kA).focusActive():(0,o._)(this,kA).scroll()}))}function br(){return!(0,_._)(this,kU,bo).call(this)&&(0,o._)(this,ky).call(this)}function bo(){return(0,o._)(this,kS).call(this)||(0,o._)(this,kE).call(this)}function bu(t){(0,o._)(this,kS).set(t)}function bc(t){let e=(0,o._)(this,k$).call(this);(0,o._)(this,kC)||e&&eu(e,t)||t.stopPropagation()}function bd(t){let e=(0,o._)(this,k$).call(this);(0,o._)(this,kC)||e&&eu(e,t)||this.close(t)}function b_(){var t;let e=null==(t=this.el)?void 0:t.querySelector('[data-part="close-target"]');return this.el&&e&&ev(this.el,e,t=>"menu"===t.getAttribute("role"))?e:null}function bp(t){this.isSubmenu||((0,o._)(this,ky).call(this)?(0,o._)(this,km).remote.pauseControls(t):(0,o._)(this,km).remote.resumeControls(t))}function bf(t){(0,o._)(this,kx).add(t),new v.EventsController(t).add("open",(0,o._)(this,k1)).add("close",(0,o._)(this,k3)),(0,v.onDispose)((0,o._)(this,kJ))}function bv(t){(0,o._)(this,kx).delete(t)}function bw(t){(0,c._)(this,k0,!0);let e=(0,o._)(this,k$).call(this);if(this.isSubmenu){var i;null==(i=this.triggerElement)||i.setAttribute("aria-hidden","true")}for(let e of(0,o._)(this,kx))if(e!==t.target)for(let t of[e.el,e.triggerElement])null==t||t.setAttribute("aria-hidden","true");if(e){let i=t.target.el;for(let t of e.children)t.contains(i)?t.setAttribute("data-open",""):t!==i&&t.setAttribute("data-hidden","")}}function bg(t){(0,c._)(this,k0,!1);let e=(0,o._)(this,k$).call(this);if(this.isSubmenu){var i;null==(i=this.triggerElement)||i.setAttribute("aria-hidden","false")}for(let t of(0,o._)(this,kx))for(let e of[t.el,t.triggerElement])null==e||e.setAttribute("aria-hidden","false");if(e)for(let t of e.children)t.removeAttribute("data-open"),t.removeAttribute("data-hidden")}function bm(t){let e=(0,o._)(this,k$).call(this);for(let i of(e&&"height"===t.propertyName&&((0,c._)(this,k9,"transitionstart"===t.type),(0,v.setAttribute)(e,"data-transition",(0,o._)(this,k9)?"height":null),(0,o._)(this,ky).call(this)&&(0,_._)(this,kj,bh).call(this)),(0,o._)(this,kq)))i(t)}k6.props={showDelay:0},kw([v.prop],k6.prototype,"triggerElement"),kw([v.prop],k6.prototype,"contentElement"),kw([v.prop],k6.prototype,"isSubmenu"),kw([v.method],k6.prototype,"open"),kw([v.method],k6.prototype,"close");var bk=new WeakMap,bb=new WeakMap,by=new WeakSet,bS=new WeakSet,bW=new WeakSet;class b$ extends v.Component{get expanded(){var t,e;return null!=(e=null==(t=(0,o._)(this,bk))?void 0:t.expanded())&&e}onSetup(){(0,c._)(this,bk,(0,v.useContext)(m1))}onAttach(t){(0,o._)(this,bk).attachMenuButton(this),(0,v.effect)((0,_._)(this,by,bM).bind(this)),ed(t,"type","button")}onConnect(t){(0,v.effect)((0,_._)(this,bS,bx).bind(this)),(0,_._)(this,bW,bT).call(this);let e=new MutationObserver((0,_._)(this,bW,bT).bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),(0,v.onDispose)(()=>e.disconnect()),ew(t,t=>{this.dispatch("select",{trigger:t})})}constructor(){super(),(0,p._)(this,by),(0,p._)(this,bS),(0,p._)(this,bW),(0,u._)(this,bk,{writable:!0,value:void 0}),(0,u._)(this,bb,{writable:!0,value:void 0}),(0,c._)(this,bb,(0,v.signal)(null)),new u_}}function bM(){(0,o._)(this,bk).disableMenuButton(this.$props.disabled())}function bx(){let t=(0,o._)(this,bb).call(this);t&&(0,v.effect)(()=>{let e=(0,o._)(this,bk).hint();e&&(t.textContent=e)})}function bT(){var t;let e=null==(t=this.el)?void 0:t.querySelector('[data-part="hint"]');(0,o._)(this,bb).set(null!=e?e:null)}b$.props={disabled:!1};let bP=b$.prototype;(0,v.prop)(bP,"expanded");class bA extends b${}var bC=new WeakMap,bE=new WeakMap,bq=new WeakSet,bD=new WeakSet,bO=new WeakSet,bL=new WeakSet;class bI extends v.Component{onSetup(){(0,c._)(this,bE,tj()),(0,v.provideContext)(bG,{attach:(0,_._)(this,bq,bF).bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){var t;null==(t=(0,o._)(this,bC))||t.remove(),(0,c._)(this,bC,null)}constructor(...t){super(...t),(0,p._)(this,bq),(0,p._)(this,bD),(0,p._)(this,bO),(0,p._)(this,bL),(0,u._)(this,bC,{writable:!0,value:void 0}),(0,u._)(this,bE,{writable:!0,value:void 0}),(0,c._)(this,bC,null)}}function bF(t){(0,_._)(this,bO,bN).call(this,!1),(0,c._)(this,bC,t),em(()=>{em(()=>{this.connectScope&&(0,v.effect)((0,_._)(this,bD,bV).bind(this))})})}function bV(){let{fullscreen:t}=(0,o._)(this,bE).$state,{disabled:e}=this.$props;(0,_._)(this,bO,bN).call(this,"fullscreen"===e()?!t():!e())}function bN(t){if(!(0,o._)(this,bC))return;let e=(0,_._)(this,bL,bR).call(this,this.$props.container());if(!e)return;let i=(0,o._)(this,bC).parentElement===e;if((0,v.setAttribute)((0,o._)(this,bC),"data-portal",t),t)i||((0,o._)(this,bC).remove(),e.append((0,o._)(this,bC)));else if(i&&(0,o._)(this,bC).parentElement===e){var s;(0,o._)(this,bC).remove(),null==(s=this.el)||s.append((0,o._)(this,bC))}}function bR(t){return eb(t)?t:t?document.querySelector(t):document.body}bI.props={container:null,disabled:!1};let bG=(0,v.createContext)();var bj=new WeakMap,bK=new WeakSet,bU=new WeakSet,bH=new WeakSet;class bB extends v.Component{onAttach(t){if((0,c._)(this,bj,(0,v.useContext)(m1)),(0,o._)(this,bj).attachMenuItems(this),(0,v.hasProvidedContext)(bG)){let e=(0,v.useContext)(bG);e&&((0,v.provideContext)(bG,null),e.attach(t),(0,v.onDispose)(()=>e.attach(null)))}}onConnect(t){(0,v.effect)((0,_._)(this,bK,bQ).bind(this))}constructor(){super(),(0,p._)(this,bK),(0,p._)(this,bU),(0,p._)(this,bH),(0,u._)(this,bj,{writable:!0,value:void 0}),new u_;let{placement:t}=this.$props;this.setAttributes({"data-placement":t})}}function bQ(){let{expanded:t}=(0,o._)(this,bj);if(!this.el||!t())return;let e=this.$props.placement();if(!e)return;Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});let{offset:i,alignOffset:s}=this.$props;(0,v.onDispose)(ek(this.el,(0,_._)(this,bH,bX).call(this),e,{offsetVarName:"media-menu",xOffset:s(),yOffset:i()})),(0,v.onDispose)((0,_._)(this,bU,bz).bind(this))}function bz(){this.el&&(this.el.removeAttribute("style"),this.el.style.display="none")}function bX(){return(0,o._)(this,bj).button()}bB.props={placement:null,offset:0,alignOffset:0};let bY=(0,v.createContext)();var bJ=new WeakMap,bZ=new WeakMap,b0=new WeakMap,b1=new WeakSet,b2=new WeakSet,b3=new WeakMap,b5=new WeakSet,b4=new WeakSet;class b9 extends v.ViewController{get values(){return Array.from((0,o._)(this,bJ)).map(t=>t.value())}get value(){return(0,o._)(this,bZ).call(this)}set value(t){(0,_._)(this,b5,b7).call(this,t)}onSetup(){(0,v.provideContext)(bY,{add:(0,_._)(this,b1,b8).bind(this),remove:(0,_._)(this,b2,b6).bind(this)})}onAttach(t){(0,v.hasProvidedContext)(m1)||ed(t,"role","radiogroup"),this.setAttributes({value:(0,o._)(this,bZ)})}onDestroy(){(0,o._)(this,bJ).clear()}constructor(...t){super(...t),(0,p._)(this,b1),(0,p._)(this,b2),(0,p._)(this,b5),(0,p._)(this,b4),(0,u._)(this,bJ,{writable:!0,value:void 0}),(0,u._)(this,bZ,{writable:!0,value:void 0}),(0,u._)(this,b0,{writable:!0,value:void 0}),(0,u._)(this,b3,{writable:!0,value:void 0}),(0,c._)(this,bJ,new Set),(0,c._)(this,bZ,(0,v.signal)("")),(0,c._)(this,b0,null),(0,c._)(this,b3,(0,_._)(this,b5,b7).bind(this))}}function b8(t){(0,o._)(this,bJ).has(t)||((0,o._)(this,bJ).add(t),t.onCheck=(0,o._)(this,b3),t.check(t.value()===(0,o._)(this,bZ).call(this)))}function b6(t){t.onCheck=null,(0,o._)(this,bJ).delete(t)}function b7(t,e){var i;let s=(0,v.peek)((0,o._)(this,bZ));if(!t||t===s)return;let n=(0,_._)(this,b4,yt).call(this,s),a=(0,_._)(this,b4,yt).call(this,t);null==n||n.check(!1,e),null==a||a.check(!0,e),(0,o._)(this,bZ).set(t),null==(i=this.onValueChange)||i.call(this,t,e)}function yt(t){for(let e of(0,o._)(this,bJ))if(t===(0,v.peek)(e.value))return e;return null}var ye=new WeakMap,yi=new WeakSet,ys=new WeakSet;class yn extends v.Component{get values(){return(0,o._)(this,ye).values}get value(){return(0,o._)(this,ye).value}set value(t){(0,o._)(this,ye).value=t}onSetup(){m?(0,_._)(this,yi,ya).call(this):(0,v.effect)((0,_._)(this,yi,ya).bind(this))}constructor(){super(),(0,p._)(this,yi),(0,p._)(this,ys),(0,u._)(this,ye,{writable:!0,value:void 0}),(0,c._)(this,ye,new b9),(0,o._)(this,ye).onValueChange=(0,_._)(this,ys,yl).bind(this)}}function ya(){(0,o._)(this,ye).value=this.$props.value()}function yl(t,e){let i=this.createEvent("change",{detail:t,trigger:e});this.dispatch(i)}yn.props={value:""};let yh=yn.prototype;(0,v.prop)(yh,"values"),(0,v.prop)(yh,"value");var yr=new WeakMap,yo=new WeakMap,yu=new WeakSet,yc=new WeakSet,yd=new WeakSet,y_=new WeakSet,yp=new WeakSet,yf=new WeakSet,yv=new WeakSet;class yw extends v.Component{get checked(){return(0,o._)(this,yr).call(this)}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":(0,o._)(this,yr),"aria-checked":hj((0,o._)(this,yr))})}onAttach(t){let e=(0,v.hasProvidedContext)(m1);ed(t,"tabindex",e?"-1":"0"),ed(t,"role",e?"menuitemradio":"radio"),(0,v.effect)((0,_._)(this,yd,yk).bind(this))}onConnect(t){(0,_._)(this,yc,ym).call(this),ew(t,(0,_._)(this,y_,yb).bind(this)),(0,v.onDispose)((0,_._)(this,yu,yg).bind(this))}constructor(){super(),(0,p._)(this,yu),(0,p._)(this,yc),(0,p._)(this,yd),(0,p._)(this,y_),(0,p._)(this,yp),(0,p._)(this,yf),(0,p._)(this,yv),(0,u._)(this,yr,{writable:!0,value:void 0}),(0,u._)(this,yo,{writable:!0,value:void 0}),(0,c._)(this,yr,(0,v.signal)(!1)),(0,c._)(this,yo,{value:this.$props.value,check:(0,_._)(this,yp,yy).bind(this),onCheck:null}),new u_}}function yg(){(0,v.scoped)(()=>{(0,v.useContext)(bY).remove((0,o._)(this,yo))},this.connectScope)}function ym(){(0,v.useContext)(bY).add((0,o._)(this,yo))}function yk(){let{value:t}=this.$props,e=t();if((0,v.peek)((0,o._)(this,yr))){var i,s;null==(i=(s=(0,o._)(this,yo)).onCheck)||i.call(s,e)}}function yb(t){var e,i;(0,v.peek)((0,o._)(this,yr))||((0,_._)(this,yf,yS).call(this,!0,t),(0,_._)(this,yv,yW).call(this,t),null==(e=(i=(0,o._)(this,yo)).onCheck)||e.call(i,(0,v.peek)(this.$props.value),t))}function yy(t,e){(0,v.peek)((0,o._)(this,yr))!==t&&(0,_._)(this,yf,yS).call(this,t,e)}function yS(t,e){(0,o._)(this,yr).set(t),this.dispatch("change",{detail:t,trigger:e})}function yW(t){this.dispatch("select",{trigger:t})}yw.props={value:""};let y$=yw.prototype;(0,v.prop)(y$,"checked");var yM=new WeakMap,yx=new WeakMap,yT=new WeakSet,yP=new WeakMap,yA=new WeakMap,yC=new WeakSet,yE=new WeakSet,yq=new WeakSet,yD=new WeakSet,yO=new WeakSet;class yL extends v.Component{onSetup(){(0,c._)(this,yM,tj());let{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){var e;(0,c._)(this,yx,null==(e=(0,o._)(this,yM).player.el)?void 0:e.querySelector("[data-media-provider]")),(0,v.effect)((0,_._)(this,yT,yI).bind(this))}constructor(...t){super(...t),(0,p._)(this,yT),(0,p._)(this,yC),(0,p._)(this,yE),(0,p._)(this,yq),(0,p._)(this,yD),(0,p._)(this,yO),(0,u._)(this,yM,{writable:!0,value:void 0}),(0,u._)(this,yx,{writable:!0,value:void 0}),(0,u._)(this,yP,{writable:!0,value:void 0}),(0,u._)(this,yA,{writable:!0,value:void 0}),(0,c._)(this,yx,null),(0,c._)(this,yP,0),(0,c._)(this,yA,-1)}}function yI(){let t=this.$props.event(),e=this.$props.disabled();(0,o._)(this,yx)&&t&&!e&&(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),("pointerup"===t||"pointerdown"===t)&&"coarse"===(0,o._)(this,yM).$state.pointer()&&(t="pointerup"===t?"touchend":"touchstart"),(0,v.listenEvent)((0,o._)(this,yx),t,(0,_._)(this,yC,yF).bind(this),{passive:!1}))}function yF(t){if(this.$props.disabled()||(0,v.isPointerEvent)(t)&&(0!==t.button||(0,o._)(this,yM).activeMenu)||(0,v.isTouchEvent)(t)&&(0,o._)(this,yM).activeMenu||eg(t)||!(0,_._)(this,yq,yN).call(this,t))return;t.MEDIA_GESTURE=!0,t.preventDefault();let e=(0,v.peek)(this.$props.event);if(null==e?void 0:e.startsWith("dbl")){if(1===(0,o._)(this,yP)){queueMicrotask(()=>(0,_._)(this,yE,yV).call(this,t)),clearTimeout((0,o._)(this,yA)),(0,c._)(this,yP,0);return}}else 0===(0,o._)(this,yP)&&setTimeout(()=>{1===(0,o._)(this,yP)&&(0,_._)(this,yE,yV).call(this,t)},250);0===(0,o._)(this,yP)&&(0,c._)(this,yA,window.setTimeout(()=>{(0,c._)(this,yP,0)},275)),(0,d._)(this,yP).value++}function yV(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{(0,_._)(this,yD,yR).call(this)&&(0,_._)(this,yO,yG).call(this,(0,v.peek)(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}function yN(t){if(!this.el)return!1;if((0,v.isPointerEvent)(t)||(0,v.isMouseEvent)(t)||(0,v.isTouchEvent)(t)){var e,i,s;let n=(0,v.isTouchEvent)(t)?null!=(e=t.changedTouches[0])?e:t.touches[0]:void 0,a=null!=(i=null==n?void 0:n.clientX)?i:t.clientX,l=null!=(s=null==n?void 0:n.clientY)?s:t.clientY,h=this.el.getBoundingClientRect(),r=l>=h.top&&l<=h.bottom&&a>=h.left&&a<=h.right;return t.type.includes("leave")?!r:r}return!0}function yR(){return Array.from((0,o._)(this,yM).player.el.querySelectorAll("[data-media-gesture][data-triggered]")).sort((t,e)=>getComputedStyle(e).zIndex-getComputedStyle(t).zIndex)[0]===this.el}function yG(t,e){if(!t)return;let i=new v.DOMEvent("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(i),i.defaultPrevented)return;let[s,n]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?(0,o._)(this,yM).remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?(0,o._)(this,yM).remote.seek((0,v.peek)((0,o._)(this,yM).$state.currentTime)+(+n||0),e):(0,o._)(this,yM).remote[(0,v.kebabToCamelCase)(s)](e),this.dispatch("trigger",{detail:t,trigger:e})}yL.props={disabled:!1,event:void 0,action:void 0};var yj=new WeakMap,yK=new WeakMap,yU=new WeakMap,yH=new WeakSet;class yB{attach(){}canRender(){return!0}detach(){var t;null==(t=(0,o._)(this,yU))||t.abort(),(0,c._)(this,yU,void 0),(0,o._)(this,yK).reset(),(0,c._)(this,yj,null)}changeTrack(t){var e;t&&(0,o._)(this,yj)!==t&&(null==(e=(0,o._)(this,yU))||e.abort(),(0,c._)(this,yU,new v.EventsController(t)),t.readyState<2?((0,o._)(this,yK).reset(),(0,o._)(this,yU).add("load",()=>(0,_._)(this,yH,yQ).call(this,t),{once:!0})):(0,_._)(this,yH,yQ).call(this,t),(0,o._)(this,yU).add("add-cue",t=>{(0,o._)(this,yK).addCue(t.detail)}).add("remove-cue",t=>{(0,o._)(this,yK).removeCue(t.detail)}),(0,c._)(this,yj,t))}constructor(t){(0,p._)(this,yH),(0,u._)(this,yj,{writable:!0,value:void 0}),(0,u._)(this,yK,{writable:!0,value:void 0}),(0,u._)(this,yU,{writable:!0,value:void 0}),this.priority=10,(0,c._)(this,yj,null),(0,c._)(this,yK,t)}}function yQ(t){(0,o._)(this,yK).changeTrack({cues:[...t.cues],regions:[...t.regions]})}var yz=new WeakMap,yX=new WeakSet,yY=new WeakSet,yJ=new WeakSet,yZ=new WeakSet,y0=new WeakSet,y1=new WeakSet,y2=new WeakSet,y3=new WeakSet,y5=new WeakSet,y4=new WeakSet,y9=new WeakSet,y8=new WeakSet,y6=new WeakMap,y7=new WeakSet,St=new WeakSet,Se=new WeakSet,Si=new WeakSet;class Ss extends v.Component{onSetup(){(0,c._)(this,yz,tj()),this.setAttributes({"aria-hidden":hj((0,_._)(this,yX,Sn).bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){Ss.lib()||i.e(298).then(i.bind(i,1298)).then(t=>Ss.lib.set(t)),(0,v.effect)((0,_._)(this,yY,Sa).bind(this))}constructor(...t){super(...t),(0,p._)(this,yX),(0,p._)(this,yY),(0,p._)(this,yJ),(0,p._)(this,yZ),(0,p._)(this,y0),(0,p._)(this,y1),(0,p._)(this,y2),(0,p._)(this,y3),(0,p._)(this,y5),(0,p._)(this,y4),(0,p._)(this,y9),(0,p._)(this,y8),(0,p._)(this,y7),(0,p._)(this,St),(0,p._)(this,Se),(0,p._)(this,Si),(0,u._)(this,yz,{writable:!0,value:void 0}),(0,u._)(this,y6,{writable:!0,value:void 0}),(0,c._)(this,y6,-1)}}function Sn(){let{textTrack:t,remotePlaybackState:e,iOSControls:i}=(0,o._)(this,yz).$state,s=t();return i()||"connected"===e()||!s||!tE(s)}function Sa(){if(!Ss.lib())return;let{viewType:t}=(0,o._)(this,yz).$state;return"audio"===t()?(0,_._)(this,yJ,Sl).call(this):(0,_._)(this,y2,Su).call(this)}function Sl(){return(0,v.effect)((0,_._)(this,yZ,Sh).bind(this)),(0,_._)(this,y4,S_).call(this,null),()=>{this.el.textContent=""}}function Sh(){if((0,_._)(this,yX,Sn).call(this))return;(0,_._)(this,y0,Sr).call(this);let{textTrack:t}=(0,o._)(this,yz).$state;(0,v.listenEvent)(t(),"cue-change",(0,_._)(this,y0,Sr).bind(this)),(0,v.effect)((0,_._)(this,y1,So).bind(this))}function Sr(){this.el.textContent="",(0,o._)(this,y6)>=0&&(0,_._)(this,St,Sw).call(this);let{realCurrentTime:t,textTrack:e}=(0,o._)(this,yz).$state,{renderVTTCueString:i}=Ss.lib(),s=(0,v.peek)(t);for(let t of(0,v.peek)(e).activeCues){let e=(0,_._)(this,Se,Sg).call(this),n=(0,_._)(this,Si,Sm).call(this);n.innerHTML=i(t,s),e.append(n),this.el.append(n)}}function So(){let{realCurrentTime:t}=(0,o._)(this,yz).$state,{updateTimedVTTCueNodes:e}=Ss.lib();e(this.el,t())}function Su(){let{CaptionsRenderer:t}=Ss.lib(),e=new t(this.el),i=new yB(e);return(0,o._)(this,yz).textRenderers.add(i),(0,v.effect)((0,_._)(this,y3,Sc).bind(this,e)),(0,v.effect)((0,_._)(this,y5,Sd).bind(this,e)),(0,_._)(this,y4,S_).call(this,e),()=>{this.el.textContent="",(0,o._)(this,yz).textRenderers.remove(i),e.destroy()}}function Sc(t){t.dir=this.$props.textDir()}function Sd(t){var e;if((0,_._)(this,yX,Sn).call(this))return;let{realCurrentTime:i,textTrack:s}=(0,o._)(this,yz).$state;t.currentTime=i(),(0,o._)(this,y6)>=0&&(null==(e=s())?void 0:e.activeCues[0])&&(0,_._)(this,St,Sw).call(this)}function S_(t){let e=(0,o._)(this,yz).player;if(!e)return;let i=(0,_._)(this,y9,Sp).bind(this,t);(0,v.listenEvent)(e,"vds-font-change",i)}function Sp(t){var e;if((0,o._)(this,y6)>=0)return void(0,_._)(this,y7,Sv).call(this);let{textTrack:i}=(0,o._)(this,yz).$state;(null==(e=i())?void 0:e.activeCues[0])?null==t||t.update(!0):(0,_._)(this,y8,Sf).call(this)}function Sf(){var t,e;let i=(0,_._)(this,Se,Sg).call(this);(0,v.setAttribute)(i,"data-example","");let s=(0,_._)(this,Si,Sm).call(this);(0,v.setAttribute)(s,"data-example",""),s.textContent=this.$props.exampleText(),null==i||i.append(s),null==(t=this.el)||t.append(i),null==(e=this.el)||e.setAttribute("data-example",""),(0,_._)(this,y7,Sv).call(this)}function Sv(){window.clearTimeout((0,o._)(this,y6)),(0,c._)(this,y6,window.setTimeout((0,_._)(this,St,Sw).bind(this),2500))}function Sw(){var t,e;null==(t=this.el)||t.removeAttribute("data-example"),(null==(e=this.el)?void 0:e.querySelector("[data-example]"))&&(this.el.textContent=""),(0,c._)(this,y6,-1)}function Sg(){let t=document.createElement("div");return(0,v.setAttribute)(t,"data-part","cue-display"),t}function Sm(){let t=document.createElement("div");return(0,v.setAttribute)(t,"data-part","cue"),t}Ss.props={textDir:"ltr",exampleText:"Captions look like this."},Ss.lib=(0,v.signal)(null);var Sk=new WeakMap,Sb=new WeakSet,Sy=new WeakSet,SS=new WeakSet,SW=new WeakSet,S$=new WeakSet,SM=new WeakMap,Sx=new WeakSet,ST=new WeakSet,SP=new WeakSet,SA=new WeakSet,SC=new WeakSet,SE=new WeakSet;class Sq extends v.Component{onSetup(){(0,c._)(this,Sk,tj()),(0,_._)(this,Sx,SV).call(this),(0,_._)(this,ST,SN).call(this),(0,_._)(this,SP,SR).call(this),(0,_._)(this,SS,SL).call(this)}onAttach(t){t.style.setProperty("pointer-events","none"),(0,v.effect)((0,_._)(this,S$,SF).bind(this)),(0,v.effect)((0,_._)(this,Sx,SV).bind(this)),(0,v.effect)((0,_._)(this,ST,SN).bind(this)),(0,v.effect)((0,_._)(this,SP,SR).bind(this)),(0,v.effect)((0,_._)(this,SS,SL).bind(this));let{started:e}=(0,o._)(this,Sk).$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":(0,_._)(this,SW,SI).bind(this),"data-error":(0,_._)(this,Sb,SD).bind(this),"data-hidden":this.$state.hidden})}onConnect(t){(0,v.effect)((0,_._)(this,Sy,SO).bind(this)),(0,v.effect)((0,_._)(this,SA,SG).bind(this))}constructor(...t){super(...t),(0,p._)(this,Sb),(0,p._)(this,Sy),(0,p._)(this,SS),(0,p._)(this,SW),(0,p._)(this,S$),(0,p._)(this,Sx),(0,p._)(this,ST),(0,p._)(this,SP),(0,p._)(this,SA),(0,p._)(this,SC),(0,p._)(this,SE),(0,u._)(this,Sk,{writable:!0,value:void 0}),(0,u._)(this,SM,{writable:!0,value:void 0}),(0,c._)(this,SM,"")}}function SD(){let{error:t}=this.$state;return!(0,v.isNull)(t())}function SO(){let{canLoadPoster:t,poster:e}=(0,o._)(this,Sk).$state;!t()&&e()&&Y(e(),"preconnect")}function SL(){let{src:t}=this.$props,{poster:e,nativeControls:i}=(0,o._)(this,Sk).$state;this.el&&(0,v.setAttribute)(this.el,"display",i()?"none":null),this.$state.hidden.set((0,_._)(this,Sb,SD).call(this)||!(t()||e())||i())}function SI(){let{loading:t,hidden:e}=this.$state;return!e()&&t()}function SF(){let t=this.$state.img();t&&(new v.EventsController(t).add("load",(0,_._)(this,SC,Sj).bind(this)).add("error",(0,_._)(this,SE,SK).bind(this)),t.complete&&(0,_._)(this,SC,Sj).call(this))}function SV(){let{poster:t}=(0,o._)(this,Sk).$props,{canLoadPoster:e,providedPoster:i,inferredPoster:s}=(0,o._)(this,Sk).$state,n=this.$props.src()||"",a=n||t()||s();(0,o._)(this,SM)===i()&&i.set(n),this.$state.src.set(e()&&a.length?a:null),(0,c._)(this,SM,n)}function SN(){let{src:t}=this.$props,{alt:e}=this.$state,{poster:i}=(0,o._)(this,Sk).$state;e.set(t()||i()?this.$props.alt():null)}function SR(){let{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i,poster:s}=(0,o._)(this,Sk).$state,n=null!==t()?t():i();e.set(/ytimg\.com|vimeo/.test(s()||"")?null:!0===n?"anonymous":n)}function SG(){let{loading:t,error:e}=this.$state,{canLoadPoster:i,poster:s}=(0,o._)(this,Sk).$state;t.set(i()&&!!s()),e.set(null)}function Sj(){let{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}function SK(t){let{loading:e,error:i}=this.$state;e.set(!1),i.set(t)}Sq.props={src:null,alt:null,crossOrigin:null},Sq.state=new v.State({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});var SU=new WeakMap,SH=new WeakMap,SB=new WeakMap,SQ=new WeakMap,Sz=new WeakSet,SX=new WeakSet,SY=new WeakSet,SJ=new WeakSet,SZ=new WeakSet,S0=new WeakSet,S1=new WeakSet,S2=new WeakSet;class S3 extends v.Component{onSetup(){(0,c._)(this,SU,tj()),(0,_._)(this,SJ,S8).call(this);let{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":(0,_._)(this,S1,Wt).bind(this)}),new pm({callback:(0,_._)(this,Sz,S5).bind(this)}).attach(this)}onAttach(t){t.hasAttribute("role")||(0,v.effect)((0,_._)(this,SZ,S6).bind(this)),(0,v.effect)((0,_._)(this,SJ,S8).bind(this))}onConnect(t){(0,v.onDispose)(ef(t,(0,o._)(this,SB).set)),(0,v.effect)((0,_._)(this,SX,S4).bind(this)),(0,v.effect)((0,_._)(this,SY,S9).bind(this))}constructor(...t){super(...t),(0,p._)(this,Sz),(0,p._)(this,SX),(0,p._)(this,SY),(0,p._)(this,SJ),(0,p._)(this,SZ),(0,p._)(this,S0),(0,p._)(this,S1),(0,p._)(this,S2),(0,u._)(this,SU,{writable:!0,value:void 0}),(0,u._)(this,SH,{writable:!0,value:void 0}),(0,u._)(this,SB,{writable:!0,value:void 0}),(0,u._)(this,SQ,{writable:!0,value:void 0}),(0,c._)(this,SH,(0,v.signal)(null)),(0,c._)(this,SB,(0,v.signal)(!0)),(0,c._)(this,SQ,(0,v.signal)(!0))}}function S5(t){(0,o._)(this,SQ).set(t[0].isIntersecting)}function S4(){let{hidden:t}=this.$props;this.$state.hidden.set(t()||!(0,o._)(this,SB).call(this)||!(0,o._)(this,SQ).call(this))}function S9(){if(!this.$props.toggle())return void(0,o._)(this,SH).set(null);this.el&&ew(this.el,(0,_._)(this,S2,We).bind(this))}function S8(){let{hidden:t,timeText:e}=this.$state,{duration:i}=(0,o._)(this,SU).$state;if(t())return;let{type:s,padHours:n,padMinutes:a,showHours:l}=this.$props,h=(0,_._)(this,S0,S7).call(this,s()),r=i(),u=(0,_._)(this,S1,Wt).call(this);if(!Number.isFinite(h+r))return void e.set("LIVE");let c=hb(u?Math.max(0,r-h):h,{padHrs:n(),padMins:a(),showHrs:l()});e.set((u?"-":"")+c)}function S6(){if(!this.el)return;let{toggle:t}=this.$props;(0,v.setAttribute)(this.el,"role",t()?"timer":null),(0,v.setAttribute)(this.el,"tabindex",t()?0:null)}function S7(t){let{bufferedEnd:e,duration:i,currentTime:s}=(0,o._)(this,SU).$state;switch(t){case"buffered":return e();case"duration":return i();default:return s()}}function Wt(){return this.$props.remainder()&&!1!==(0,o._)(this,SH).call(this)}function We(t){if(t.preventDefault(),null===(0,o._)(this,SH).call(this))return void(0,o._)(this,SH).set(!this.$props.remainder());(0,o._)(this,SH).set(t=>!t)}S3.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1},S3.state=new v.State({timeText:"",hidden:!1});class Wi extends uB{}class Ws extends cX{}class Wn extends _l{}class Wa extends _F{}class Wl extends _H{}class Wh extends pd{}class Wr extends _0{}class Wo extends _6{}class Wu extends _C{}class Wc extends __{}class Wd extends pl{}class W_ extends fV{}class Wp extends gV{}class Wf extends wo{}class Wv extends vA{}class Ww extends v5{}class Wg extends vj{}class Wm extends v6{}class Wk extends mE{}class Wb extends k6{}class Wy extends b${}class WS extends bB{}class WW extends bA{}class W$ extends yn{}class WM extends yw{}class Wx extends yL{}class WT extends Sq{}class WP extends vv{}class WA extends S3{}let WC=f.forwardRef((t,e)=>{let{children:i,...s}=t,n=f.Children.toArray(i),a=n.find(WD);if(a){let t=a.props.children,i=n.map(e=>e!==a?e:f.Children.count(t)>1?f.Children.only(null):f.isValidElement(t)?t.props.children:null);return f.createElement(WE,{...s,ref:e},f.isValidElement(t)?f.cloneElement(t,void 0,i):null)}return f.createElement(WE,{...s,ref:e},i)});WC.displayName="Slot";let WE=f.forwardRef((t,e)=>{let{children:i,...s}=t;return f.isValidElement(i)?f.cloneElement(i,{...function(t,e){let i={...e};for(let s in e){let n=t[s],a=e[s];/^on[A-Z]/.test(s)?n&&a?i[s]=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];a(...e),n(...e)}:n&&(i[s]=n):"style"===s?i[s]={...n,...a}:"className"===s&&(i[s]=[n,a].filter(Boolean).join(" "))}return{...t,...i}}(s,i.props),ref:e?(0,v.composeRefs)(e,i.ref):i.ref}):f.Children.count(i)>1?f.Children.only(null):null});WE.displayName="SlotClone";let Wq=t=>{let{children:e}=t;return f.createElement(f.Fragment,null,e)};function WD(t){return f.isValidElement(t)&&t.type===Wq}let WO=["button","div","span","img","video","audio"].reduce((t,e)=>{let i=f.forwardRef((t,i)=>{let{asChild:s,...n}=t,a=s?WC:e;return f.createElement(a,{...n,ref:i})});return i.displayName="Primitive.".concat(e),{...t,[e]:i}},{});function WL(t){return(null==t?void 0:t.$$PROVIDER_TYPE)==="REMOTION"}let WI=W_.state.record,WF=Object.keys(WI).reduce((t,e)=>({...t,[e]:()=>WI[e]}),{});function WV(t,e){var i;let s=(0,v.useStateContext)(pp);return(0,v.useSignal)(((null==e||null==(i=e.current)?void 0:i.$state)||s||WF)[t])}let WN=Wi.state.record,WR=Object.keys(WN).reduce((t,e)=>({...t,[e]:()=>WN[e]}),{});function WG(t,e){var i;let s=(0,v.useStateContext)(tq);return(0,v.useSignal)(((null==e||null==(i=e.current)?void 0:i.$state)||s||WR)[t])}}}]);